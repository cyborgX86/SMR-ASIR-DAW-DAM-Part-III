<!doctype html>

<!--[if lt IE 7 ]> <html class="ie ie6 no-js" lang="ca"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie ie7 no-js" lang="ca"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie ie8 no-js" lang="ca"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie ie9 no-js" lang="ca"> <![endif]-->
<!--[if gt IE 9]><!--><html class="no-js" lang="ca"><!--<![endif]-->
<!-- the "no-js" class is for Modernizr. -->

<head id="www-sitename-com" data-template-set="html5-reset">

	<meta charset="utf-8">
	
	<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title></title>
	
<!-- <meta name="title" content=""> --> 
	<meta name="description" content="">
	<!-- Google will often use this as its description of your page/site. Make it good. -->
	
	<meta name="google-site-verification" content="">
	<!-- Speaking of Google, don't forget to set your site up: http://google.com/webmasters -->
	
	<meta name="author" content="Institut Obert de Catalunya">
	<meta name="Copyright" content="Copyright Institut Obert de Catalunya 2011. All Rights Reserved.">

	<!-- Dublin Core Metadata : http://dublincore.org/ -->
	<meta name="DC.title" content="">
	<meta name="DC.subject" content="Informàtica i comunicacions">
	<meta name="DC.creator" content="Institut Obert de Catalunya">
	
	<!--  Mobile Viewport Fix
	j.mp/mobileviewport & davidbcalhoun.com/2010/viewport-metatag 
	device-width : Occupy full width of the screen in its current orientation
	initial-scale = 1.0 retains dimensions instead of zooming out if page height > device height
	maximum-scale = 1.0 retains dimensions instead of zooming in if page width < device width
	-->
	<!-- Uncomment to use � use thoughtfully!
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	-->

	<link rel="shortcut icon" href="../../../img/favicon.ico">
	<!-- This is the traditional favicon.
		 - size: 16x16 or 32x32
		 - transparency is OK
		 - see wikipedia for info on browser support: http://mky.be/favicon/ -->
		 
	<link rel="apple-touch-icon" href="../../../img/apple-touch-icon.png">
	<!-- The is the icon for iOS's Web Clip.
		 - size: 57x57 for older iPhones, 72x72 for iPads, 114x114 for iPhone4's retina display (IMHO, just go ahead and use the biggest one)
		 - To prevent iOS from applying its styles to the icon name it thusly: apple-touch-icon-precomposed.png
		 - Transparency is not recommended (iOS will put a black BG behind the icon) -->
	
	<!-- CSS: screen, mobile & print are all in the same file -->
	<link rel="stylesheet" href="../../../_/css/style.css">

	<!-- CSS: jQuery UI -->
	<link rel="stylesheet" href="../../../_/css/jquery-ui.css">
	
	<!-- all our JS is at the bottom of the page, except for Modernizr. -->
	<script src="../../../_/js/modernizr-1.7.min.js"></script>
	<script src="../../../_/js/Hyphenator.js" type="text/javascript"></script>
	<script type="text/javascript">
	   Hyphenator.config({
		minwordlength : 4
	   });
	   Hyphenator.run();
	</script>
    <script src="../../../_/js/build.js" type="text/javascript"></script>
</head>

<body class="style-newspaper">

<div class="wrapper"><!-- not needed? up to you: http://camendesign.com/code/developpeurs_sans_frontieres -->

	<header id="header">
		<div class="head"><a href="http://ioc.gencat.cat"><img src="../../../img/logo.png" alt="Institut Obert de Catalunya"/></a><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/es/deed.ca"><img src="../../../img/license.png" alt="Llic&egrave;ncia" class="license"/></a></div>
		<div class="headdocument"><a href="../../../index.html"></a></div>
        <div id="search" class="search" name="search">
         <form id="frmsearch" action="../../../search.html" method="get">
          <input type="text" name="q"/>
        </form>
        </div>
	</header>
   <div id="upbutton" class="upbutton" style="display:none;"><img src="../../../img/uparrow.png" alt="Pujar a l'inici de p&agrave;gina"/></div>
   <aside id="aside">
    <div id="menu">
      <ul>
       <li name="toc"><div><img src="../../../img/toc.png" alt="&Iacute;ndex"/></div></li>
       <li name="settings"><div><img src="../../../img/settings.png" alt="Configuraci&oacute;"/></div></li>
       <li name="printer"><div><img src="../../../img/printer.png" alt="Imprimir"/></div></li>
       <li name="favorites"><div><img src="../../../img/favorites.png" alt="Favorits"/></div></li>
       <li name="help_icon" class="help_icon"><div><img src="../../../img/help_icon.png" alt="Ajuda"/></div></li>
      </ul>
     </div>
   </aside>
   <div id="sidebar-hide" name="sidebar-hide"><img src="../../../img/arrows.png"/></div>
   <section>
     <div id="toc" class="hidden">
      <div class="menucontent">
        <ul>
        <li id="u1" class="parentnode"><p><a href="../../../WebContent/u1/resum.html">1. Llenguatges de guions de servidor</a></p><ul class="expander"><li id="u1resum"><a href="../../../WebContent/u1/resum.html">Resum</a></li><li id="u1resultats"><a href="../../../WebContent/u1/resultats.html">Resultats d'aprenentatge</a></li><li id="u1referencies"><a href="../../../WebContent/u1/referencies.html">Referències</a></li><li id="u1a1" class="tocsection"><p id="u1a1continguts"><a href="../../../WebContent/u1/a1/continguts.html">Instal·lació de servidors d'aplicacions web</a><span class="buttonexp"></span></p><ul><li id="u1a1activitats"><a href="../../../WebContent/u1/a1/activitats.html">Activitats</a></li><li id="u1a1exercicis"><a href="../../../WebContent/u1/a1/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><li id="u1a2" class="tocsection"><p id="u1a2continguts"><a href="../../../WebContent/u1/a2/continguts.html">Programació web de servidor</a><span class="buttonexp"></span></p><ul><li id="u1a2activitats"><a href="../../../WebContent/u1/a2/activitats.html">Activitats</a></li><li id="u1a2exercicis"><a href="../../../WebContent/u1/a2/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><li id="u1a3" class="tocsection"><p id="u1a3continguts"><a href="../../../WebContent/u1/a3/continguts.html">Accés a bases de dades des de PHP</a><span class="buttonexp"></span></p><ul><li id="u1a3activitats"><a href="../../../WebContent/u1/a3/activitats.html">Activitats</a></li><li id="u1a3exercicis"><a href="../../../WebContent/u1/a3/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li></ul></li><li id="" class="indexnode"><p><a href="../../../index.html">Anar a l&#39;&iacute;ndex general</a></p></li>
        </ul>
      </div>
    </div>
   </section>
   <section>
   <div id="settings" class="hidden">
    <div class="menucontent">
     <div class="allsettings">
     <div class="settings">
      <label>Font i Color</label>
		<div class="setting-option">
	        <ul class="fontBackground">
				<li id="style-newspaper" title="Newspaper" class="appearance-style-newspaper"><span>Newspaper</span></li>
                <li id="style-novel" title="Novel" class="appearance-style-novel"><span>Novel</span></li>
                <li id="style-ebook" title="eBook" class="appearance-style-ebook"><span>eBook</span></li>
				<li id="style-inverse" title="Inverse" class="appearance-style-inverse active"><span>Inverse</span></li>
				<li id="style-athelas" title="Athelas" class="appearance-style-athelas"><span>Athelas</span></li>
			</ul>
		</div>
     </div>
	<div class="settings">
      <label>Amplada</label>
		<div class="setting-option">
	        <div id="slider-width"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
		<div class="setting-option">
	        <div id="slider-font"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
	  <div class="setting-option">
       <form action="" class="sett-options">
		<ul>
		    <li><input type="checkbox" id="secondary-content" /><label for="secondary-content">Mostra recursos complementaris</label></li>
		    <li><input type="checkbox" id="main-images" /><label for="main-images">Mostra imatges</label></li>
		    <li><input type="checkbox" id="text-alignment" /><label for="text-alignment">Text justificat</label></li>
			<li><input type="checkbox" id="text-hyphen" /><label for="text-hyphen">Partici&oacute; sil·l&agrave;bica</label></li>
		</ul>
       </form>
	  </div>
     </div>
     </div>
    </div>
   </div>
   </section>
 <section>
 <div id="favorites" class="hidden"></div>
 </section>   
 <div id="bridge" class="hidden"></div>
 <div id="help" class="hidden">
  <div class="helptitle">Dreceres del teclat<hr></div>
  <div class="helpsection"><span>General</span>
   <ul>
    <li><span class="shortcut">g</span>: Anar al men&uacute; de navegaci&oacute;</li>
    <li><span class="shortcut">o</span>: Anar a opcions</li>
    <li><span class="shortcut">s</span>: Guardar la p&agrave;gina actual a favorits</li>
    <li><span class="shortcut">p</span>: Imprimir la p&agrave;gina actual</li>
    <li><span class="shortcut">?</span>: Mostrar/Ocultar l&#39;ajuda</li>
   </ul>
  </div>
  <div class="helpsection"><span>Navegaci&oacute;</span>
   <ul>
    <li><span class="shortcut">i</span>: Anar a l&#39;&iacute;ndex general</li>
    <li><span class="shortcut">t</span>: Anar a l&#39;inici de p&agrave;gina</li>
    <li><span class="shortcut">b</span>: Anar al final de p&agrave;gina</li>
    <li><span class="shortcut">j</span>: Anar cap endavant dintre la p&agrave;gina</li>
    <li><span class="shortcut">k</span>: Anar cap enrere dintre la p&agrave;gina</li>
    <li><span class="shortcut">h</span>: Anar a la p&agrave;gina anterior:</li>
    <li><span class="shortcut">l</span>: Anar a la p&agrave;gina seg&uuml;ent:</li>
   </ul>
   </div>
 </div>
 <div id="favcounter" name="favcounter" class="hidden"><span></span></div>
 <div id="navmenu" class="navmenu"><ul class="webnav"><li><a href="../../../index.html" title="Anar a l&#39;&iacute;ndex general">Inici</a></li><li><a href="../resum.html">Llenguatges de guions de servidor</a></li><li><a href="continguts.html">Programació web de servidor</a></li><li>Activitats</li></ul></div>
	<div id="content" lang="ca" class="hyphenate text">
     <article lang="ca" class="sheet">
        <h1><a id="activitats"> Activitats </a></h1>
    	
<h2><a id="creacio_dinamica_d_una_taula" >Creació dinàmica d&#039;una taula</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és la creació dinàmica d’una taula en la qual es mostri els divisors dels números entre 50 i 60 (aquest últim, inclòs), com es pot veure a la següent figura:
</p>
<div class="iocfigure"><a name=""></a>
<p>
<figure>
<figcaption><span class="figuretitle">Figura</span></figcaption><img src="../media/taula.png" align="left" alt="" /></figure>

</p>
</div>
<p>
<form action=""><div class="solution ioccontent">
<p>
Una recomanació per fer aquesta activitat és pensar quin ha de ser el codi <acronym title="HyperText Markup Language">HTML</acronym> que dóna com a resultat la taula que es mostra a la figura. El codi resultant és simplement un parell de bucles niuats on es modifica per cada fila de la taula el color de les cel·les. Dins de cada cel·la es comprova si el número resultant és divisible o no, i depenent d’aquest resultat es mostra un resultat o altre. 
</p>
<pre class="code php"><ol><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;</div></li><li class="li1"><div class="de1">&lt;head&gt;</div></li><li class="li1"><div class="de1">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;</div></li><li class="li1"><div class="de1">&lt;title&gt;Documento sin t&amp;iacute;tulo&lt;/title&gt;</div></li><li class="li1"><div class="de1">&lt;/head&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;body&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;td bgcolor=&quot;#FFFF99&quot;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">echo</span><span class="br0">&#40;</span><span class="st0">&quot;&lt;?php&gt;&lt;?&gt;&lt;table  border=<span class="es1">\&quot;</span>1<span class="es1">\&quot;</span>&gt;<span class="es1">\n</span>&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co1">//cada fila</span></div></li><li class="li1"><div class="de1"><span class="kw1">for</span><span class="br0">&#40;</span><span class="re0">$i</span><span class="sy0">=</span><span class="nu0">0</span><span class="sy0">;</span> <span class="re0">$i</span><span class="sy0">&lt;</span><span class="nu0">11</span> <span class="sy0">;</span> <span class="re0">$i</span> <span class="sy0">=</span> <span class="re0">$i</span><span class="sy0">+</span><span class="nu0">1</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">echo</span><span class="br0">&#40;</span><span class="st0">&quot;<span class="es1">\t</span>&lt;tr&gt;<span class="es1">\n</span>&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co1">//Primera fila</span></div></li><li class="li1"><div class="de1"><span class="kw1">if</span><span class="br0">&#40;</span><span class="re0">$i</span><span class="sy0">==</span><span class="nu0">0</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="kw1">for</span><span class="br0">&#40;</span><span class="re0">$j</span><span class="sy0">=-</span><span class="nu0">1</span><span class="sy0">;</span> <span class="re0">$j</span><span class="sy0">&lt;</span><span class="nu0">11</span><span class="sy0">;</span> <span class="re0">$j</span> <span class="sy0">=</span> <span class="re0">$j</span> <span class="sy0">+</span><span class="nu0">1</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="kw1">if</span><span class="br0">&#40;</span><span class="re0">$j</span> <span class="sy0">==</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">echo</span><span class="br0">&#40;</span><span class="st0">&quot;<span class="es1">\t</span><span class="es1">\t</span>&lt;td bgcolor=<span class="es1">\&quot;</span>#7777FF<span class="es1">\&quot;</span>&gt;&lt;/td&gt;<span class="es1">\n</span>&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">	<span class="kw1">else</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">echo</span> <span class="br0">&#40;</span><span class="st0">&quot;<span class="es1">\t</span><span class="es1">\t</span>&lt;td bgcolor=<span class="es1">\&quot;</span>#CCAAFF<span class="es1">\&quot;</span>&gt;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">echo</span> <span class="br0">&#40;</span><span class="re0">$j</span><span class="sy0">+</span><span class="nu0">50</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">echo</span> <span class="br0">&#40;</span><span class="st0">&quot;&lt;/td&gt;<span class="es1">\n</span>&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co1">//Per cada fila</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co1">//Resta de files</span></div></li><li class="li1"><div class="de1"><span class="kw1">else</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">	<span class="co1">//Primera cel·la mostra el número</span></div></li><li class="li1"><div class="de1">	<span class="kw1">echo</span> <span class="br0">&#40;</span><span class="st0">&quot;<span class="es1">\t</span><span class="es1">\t</span>&lt;td bgcolor=<span class="es1">\&quot;</span>#CCAAFF<span class="es1">\&quot;</span>&gt;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="kw1">echo</span> <span class="br0">&#40;</span><span class="re0">$i</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="kw1">echo</span> <span class="br0">&#40;</span><span class="st0">&quot;&lt;/td&gt;<span class="es1">\n</span>&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="co1">//Seleccionem el color</span></div></li><li class="li1"><div class="de1">	<span class="kw1">if</span><span class="br0">&#40;</span><span class="re0">$i</span><span class="sy0">%</span><span class="nu19">2</span><span class="sy0">==</span><span class="nu0">0</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="re0">$color</span> <span class="sy0">=</span> <span class="st0">&quot;#FFDDAA&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">	<span class="kw1">else</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="re0">$color</span> <span class="sy0">=</span> <span class="st0">&quot;#FFFFAA&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="co1">//Resta de columnes</span></div></li><li class="li1"><div class="de1">	<span class="kw1">for</span><span class="br0">&#40;</span><span class="re0">$j</span><span class="sy0">=</span><span class="nu0">0</span><span class="sy0">;</span> <span class="re0">$j</span><span class="sy0">&lt;</span><span class="nu0">11</span><span class="sy0">;</span> <span class="re0">$j</span> <span class="sy0">=</span> <span class="re0">$j</span> <span class="sy0">+</span><span class="nu0">1</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="co1">//Si divisible</span></div></li><li class="li1"><div class="de1">		<span class="kw1">if</span><span class="br0">&#40;</span> <span class="br0">&#40;</span><span class="br0">&#40;</span><span class="re0">$j</span><span class="sy0">+</span><span class="nu0">50</span><span class="br0">&#41;</span><span class="sy0">%</span><span class="re0">$i</span><span class="br0">&#41;</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">		<span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">			<span class="kw1">echo</span><span class="br0">&#40;</span><span class="st0">&quot;&lt;td bgcolor=<span class="es1">\&quot;</span><span class="es4">$color</span><span class="es1">\&quot;</span> &gt;*&lt;/td&gt;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">else</span></div></li><li class="li1"><div class="de1">		<span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">			<span class="kw1">echo</span><span class="br0">&#40;</span><span class="st0">&quot;&lt;td bgcolor=<span class="es1">\&quot;</span><span class="es4">$color</span><span class="es1">\&quot;</span> &gt;-&lt;/td&gt;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">echo</span><span class="br0">&#40;</span><span class="st0">&quot;<span class="es1">\t</span>&lt;/tr&gt;<span class="es1">\n</span><span class="es1">\n</span>&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">echo</span><span class="br0">&#40;</span><span class="st0">&quot;&lt;/table&gt;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;/body&gt;</div></li><li class="li1"><div class="de1">&lt;/html&gt;</div></li></ol></pre>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="inclusio_de_fitxers" >Inclusió de fitxers</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és mostrar el funcionament de la inclusió d’arxius a PHP.
</p>

<p>
PHP permet incloure el contingut d’un arxiu dins d’un altre (de la mateixa manera que C té <em>#define</em> i <em>java import</em>). Per fer-ho heu de fer servir la sentència: 
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw1">include</span> <span class="st_h">'nom_fitxer'</span><span class="sy0">;</span></div></li></ol></pre>

<p>
El processador de PHP inclourà el contingut del fitxer, en el punt en el qual s’ha introduït la sentència. Penseu que és el equivalent a <em>copiar i enganxar</em> el contingut de l’arxiu en el mateix lloc on teniu la sentència <code>include</code>. 
</p>

<p>
Podeu veure a l’ajuda de PHP més exemples i detalls del seu funcionament: 
</p>

<p>
<a href="http://www.php.net/manual/es/function.include.php" class="urlextern" title="http://www.php.net/manual/es/function.include.php"  rel="nofollow">http://www.php.net/manual/es/function.include.php</a>
</p>

<p>
Fer servir <em>includes</em> us permet simplificar el codi de les pàgines. Per exemple, podeu afegir un fitxer de capçalera (cap.php) i un de peu (peu.php) amb els continguts comuns de totes les pàgines del vostre lloc (el bàner, el menú, la informació general). Senzillament incloent aquests fitxers a totes les pàgines, podeu aconseguir una estètica comú. Si heu de canviar en algun moment la capçalera, modificant l’arxiu cap.php ho tindreu modificat a totes les pàgines del web. 
</p>

<p>
Feu una pàgina web amb continguts estructurats amb dos fitxers: cap.php i peu.php
</p>

<p>
<form action=""><div class="solution ioccontent"><ul>
<li class="level1"><div class="li"> Contingut index.php</div>
</li>
</ul>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">/*</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">Fitxer index.php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">Fitxer d'inici</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">*/</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co1">//Arguments per la capçalera header. Aquestes variables seran visibles</span></div></li><li class="li1"><div class="de1"><span class="co1">//des de cap.php</span></div></li><li class="li1"><div class="de1"><span class="re0">$TITOL</span> <span class="sy0">=</span> <span class="st0">&quot;inici&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$ESTIL</span> <span class="sy0">=</span> <span class="st0">&quot;estil.css&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">include</span><span class="br0">&#40;</span><span class="st0">&quot;cap.php&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;!-- Formulari d'entrada --&gt;</div></li><li class="li1"><div class="de1">&lt;div class=&quot;login&quot;&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;FORM METHOD=POST ACTION=&quot;access.php&quot;&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;table border=&quot;0&quot;&gt;</div></li><li class="li1"><div class="de1">&lt;tr&gt;</div></li><li class="li1"><div class="de1">&lt;td&gt;Nom&lt;/td&gt;</div></li><li class="li1"><div class="de1">&lt;td&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  &lt;INPUT TYPE=TEXT NAME=&quot;nom&quot; VALUE=&quot;&quot; SIZE=20 MAXLENGTH=60&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  &lt;/td&gt;        </div></li><li class="li1"><div class="de1">&lt;/tr&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;tr&gt;</div></li><li class="li1"><div class="de1">&lt;td&gt;Passwd&lt;/td&gt;</div></li><li class="li1"><div class="de1">&lt;td&gt;                 </div></li><li class="li1"><div class="de1">  	&lt;INPUT TYPE=PASSWORD NAME=&quot;passwd&quot; VALUE=&quot;&quot; SIZE=20 MAXLENGTH=60&gt;</div></li><li class="li1"><div class="de1">  &lt;/td&gt;        </div></li><li class="li1"><div class="de1">&lt;/tr&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;tr&gt;</div></li><li class="li1"><div class="de1">&lt;td&gt;&lt;/td&gt;</div></li><li class="li1"><div class="de1">&lt;td&gt;&lt;INPUT TYPE=SUBMIT VALUE=&quot;Enviar&quot;&gt;</div></li><li class="li1"><div class="de1">&lt;INPUT TYPE=RESET VALUE=&quot;Borrar&quot;&gt;&lt;/td&gt;        </div></li><li class="li1"><div class="de1">&lt;/tr&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;/table&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;/FORM&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;/div&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="kw1">include</span><span class="br0">&#40;</span><span class="st0">&quot;peu.php&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>
<ul>
<li class="level1"><div class="li"> Fitxer cap.php</div>
</li>
</ul>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">/*</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">Fitxer cap.php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">Fitxer de capçalera de totes les pàgines del web</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">Arguments:</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">- $TITOL: títol de la pàgina</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">- $ESTIL: nom del CSS per carregar</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">*/</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</div></li><li class="li1"><div class="de1">&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;</div></li><li class="li1"><div class="de1">&lt;head&gt;</div></li><li class="li1"><div class="de1">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;title&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co1">/////////////////////////</span></div></li><li class="li1"><div class="de1"><span class="co1">//  TITOL DE LA PAGINA //</span></div></li><li class="li1"><div class="de1"><span class="co1">/////////////////////////</span></div></li><li class="li1"><div class="de1"><span class="kw1">if</span><span class="br0">&#40;</span><a href="http://www.php.net/isset"><span class="kw3">isset</span></a><span class="br0">&#40;</span><span class="re0">$TITOL</span><span class="br0">&#41;</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/printf"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;<span class="es6">%s</span>&quot;</span><span class="sy0">,</span> <span class="re0">$TITOL</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">else</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/printf"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;Exemple&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;/title&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="co1">/////////////////</span></div></li><li class="li1"><div class="de1"><span class="co1">// Estil (CSS) //</span></div></li><li class="li1"><div class="de1"><span class="co1">/////////////////</span></div></li><li class="li1"><div class="de1"><span class="kw1">if</span><span class="br0">&#40;</span><a href="http://www.php.net/isset"><span class="kw3">isset</span></a><span class="br0">&#40;</span><span class="re0">$ESTIL</span><span class="br0">&#41;</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/printf"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st_h">'&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;%s&quot; /&gt;'</span><span class="sy0">,</span> <span class="re0">$ESTIL</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">else</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/printf"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st_h">'&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;estil.css&quot; /&gt;'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;/head&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;body&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;!-- Banner de la pàgina --&gt;</div></li><li class="li1"><div class="de1">&lt;div class=&quot;header&quot;&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;p align=&quot;center&quot;&gt;</div></li><li class="li1"><div class="de1">&lt;img src=&quot;./pics/banner.gif&quot; height=&quot;100px&quot;/&gt;</div></li><li class="li1"><div class="de1">&lt;/p&gt;</div></li><li class="li1"><div class="de1">&lt;/div&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;div class=&quot;principal&quot;&gt;</div></li></ol></pre>
<ul>
<li class="level1"><div class="li"> Fitxer peu.php</div>
</li>
</ul>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">/*</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">Fitxer peu.php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">Fitxer de peu de totes les pàgines del web</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">Arguments: -</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">*/</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;/div&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;/body&gt;</div></li><li class="li1"><div class="de1">&lt;/html&gt;</div></li></ol></pre>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="funcions" >Funcions</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és fer ús de les funcions d’usuari per crear un mètode de generació de missatges de <em>depuració</em> per la pàgina web.
</p>

<p>
Tots els missatges de <em>depuració</em> es podran activar fàcilment activant una constant amb nom <em>DEBUG</em> amb el valor 1. Si <em>DEBUG</em> té qualsevol valor diferent d’1, els missatges de <em>DEBUG</em> no es mostraran. Tots els missatges de <em>depuració</em> es mostraran dins d’un paràgraf propi amb l’estil <em>depuració</em> definit al <acronym title="Cascading Style Sheets">CSS</acronym>. 
</p>

<p>
<form action=""><div class="solution ioccontent">
<p>
PHP no permet d’entrada fer una depuració de la seva execució. Per aquest motiu és habitual que els programadors poblin el seu codi amb sentències <code>echo</code> o <code>printf</code> per anar mostrant el contingut de les seves variables o per mostrar que el flux d’execució a arribat a algun punt del codi. Podeu treballar d’aquesta manera. El problema que té és que una vegada heu trobat l’errada al codi, heu d’anar comentant o esborrant totes les línies que servien per mostrar informació de depuració pel codi. Quan trobeu una altra errada, heu de tornar a activar totes aquestes sentències.  
</p>

<p>
Una forma senzilla de solucionar aquest problema és crear una funció de <em>debug</em> que pot ser activada o desactivada globalment pel valor d’una constant. La funció de <em>debug</em> comprovarà el valor d’aquesta constant dins del seu codi, per decidir si mostrarà el missatge de depuració o no. 
</p>

<p>
Així modificant una única línia de codi podeu activar o desactivar tots els missatges de depuració del web. 
</p>

<p>
Aquesta podria ser una implementació de la funció:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="co1">//Definició de la funció</span></div></li><li class="li1"><div class="de1"><span class="kw2">function</span> debug<span class="br0">&#40;</span><span class="re0">$string</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="co1">//Si la constant no està definida, no es mostra cap missatge</span></div></li><li class="li1"><div class="de1"><span class="kw1">if</span><span class="br0">&#40;</span>DEBUG<span class="sy0">!=</span><span class="nu0">1</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="kw1">return</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co1">//Missatge de debug, diferenciat de la resta de la pàgina</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/printf"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st_h">'&lt;br&gt;&lt;br&gt;&lt;p class=&quot;debug&quot;&gt;'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/printf"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;&lt;b&gt;Debug:&lt;/b&gt;&lt;br&gt;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/printf"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="re0">$string</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/printf"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st_h">'&lt;/p&gt;&lt;br&gt;&lt;br&gt;'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>

<p>
D’aquesta manera podeu omplir el web de missatges de <em>debug</em> que seran activats amb la definició de la constant <code>DEBUG</code> de la següent manera: 
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><a href="http://www.php.net/define"><span class="kw3">define</span></a> <span class="br0">&#40;</span><span class="st0">&quot;DEBUG&quot;</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li></ol></pre>

<p>
Una vegada trobat el problema es poden tornar a desactivar tots els missatges amb: 
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><a href="http://www.php.net/define"><span class="kw3">define</span></a> <span class="br0">&#40;</span><span class="st0">&quot;DEBUG&quot;</span><span class="sy0">,</span> <span class="nu0">0</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li></ol></pre>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="enviament_de_dades_amb_formularis" >Enviament de dades amb formularis</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és practicar l’enviament de dades entre pàgines web mitjançant formularis. 
</p>

<p>
Una de les accions més habituals en treballar amb pàgines web dinàmiques és l’enviament de dades entre diferents documents. Això ho podeu fer amb l’ús de formularis <acronym title="HyperText Markup Language">HTML</acronym> i les matrius associatives de <em>POST</em> i <em>GET</em>. 
</p>

<p>
Per alguns programadors web, és popular el disseny d’un document web, en què el mateix document conté la part del formulari <acronym title="HyperText Markup Language">HTML</acronym> i el codi PHP que agafa les dades i les processa. Aquest procediment pot resultar estrany en principi, ja que esteu esperant dos documents ben diferenciats. Així i tot val la pena que veieu aquesta forma de treballar i decidiu si us resulta útil o no. Per fer-ho,  simplement heu de <em>fusionar</em> els dos documents (el que envia les dades i el que les rep) en un document únic <acronym title="HyperText Markup Language">HTML</acronym>+PHP de dues parts amb la següent estructura: 
</p>
<pre class="code">if(primera vegada que s&#039;entra al document)
{
crear formulari HTML i enviar-ho al propi document
}
else
{
rebre les dades a través de POST o GET
}</pre>

<p>
Feu un document amb aquestes característiques que enviï les següents dades:
</p>
<ul>
<li class="level1"><div class="li"> nom</div>
</li>
<li class="level1"><div class="li"> cognom</div>
</li>
<li class="level1"><div class="li"> contrasenya</div>
</li>
<li class="level1"><div class="li"> si l’usuari és alumne o professor</div>
</li>
<li class="level1"><div class="li"> si l’usuari és actiu o no</div>
</li>
<li class="level1"><div class="li"> foto (únicament el nom del fitxer)</div>
</li>
<li class="level1"><div class="li"> edat (entre 18 i 99)</div>
</li>
<li class="level1"><div class="li"> comentaris</div>
</li>
<li class="level1"><div class="li"> un camp ocult amb el nom <em>ocult</em> i valor <em>prova</em></div>
</li>
</ul>

<p>
Feu servir <em>checkboxes</em>, <em>radiobuttons</em> i llistes segons sigui necessari, tal com es pot veure a la següent figura:
</p>
<div class="iocfigure"><a name=""></a>
<p>
<figure>
<figcaption><span class="figuretitle">Figura</span></figcaption><img src="../media/asxm09u1_04.png" alt="" /></figure>

</p>
</div>
<p>
<form action=""><div class="solution ioccontent"><pre class="code php"><ol><li class="li1"><div class="de1">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</div></li><li class="li1"><div class="de1">&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;</div></li><li class="li1"><div class="de1">&lt;head&gt;</div></li><li class="li1"><div class="de1">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;title&gt;Exemple formularis&lt;/title&gt;</div></li><li class="li1"><div class="de1">&lt;/head&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;body&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co1">//Primera vegada que entrem al formulari</span></div></li><li class="li1"><div class="de1"><span class="co1">//Si la variable nom està buida, és que el formulari no s'ha executat</span></div></li><li class="li1"><div class="de1"><span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span><a href="http://www.php.net/isset"><span class="kw3">isset</span></a><span class="br0">&#40;</span><span class="re0">$_POST</span><span class="br0">&#91;</span><span class="st0">&quot;nom&quot;</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="co1">//Per si de cas, mostrem per pantalla tot el contingut de POST.</span></div></li><li class="li1"><div class="de1"><span class="co1">//Si hi ha cap valor, ho veurem</span></div></li><li class="li1"><div class="de1"><span class="kw1">if</span><span class="br0">&#40;</span><a href="http://www.php.net/isset"><span class="kw3">isset</span></a><span class="br0">&#40;</span><span class="re0">$_POST</span><span class="br0">&#41;</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="kw1">foreach</span> <span class="br0">&#40;</span><span class="re0">$_POST</span> <span class="kw1">as</span> <span class="re0">$index</span><span class="sy0">=&gt;</span><span class="re0">$value</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st0">&quot;POST[<span class="es4">$index</span>] = <span class="es4">$value</span>&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;FORM action=&quot;01formulari.php&quot;  method=&quot;POST&quot; name=&quot;entrada&quot;&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;table&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;tr&gt;</div></li><li class="li1"><div class="de1">	&lt;td align=&quot;right&quot;&gt;Nom&lt;/td&gt;</div></li><li class="li1"><div class="de1">      &lt;td align=&quot;left&quot;&gt;  &lt;input type=&quot;text&quot; name=&quot;nom&quot; size=&quot;50&quot; maxlength=&quot;20&quot; /&gt; &lt;/td&gt;</div></li><li class="li1"><div class="de1">&lt;/tr&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;tr&gt;</div></li><li class="li1"><div class="de1">	&lt;td align=&quot;right&quot;&gt;Cognom&lt;/td&gt;</div></li><li class="li1"><div class="de1">      &lt;td align=&quot;left&quot;&gt;  &lt;input type=&quot;text&quot; name=&quot;cognom&quot; size=&quot;50&quot; maxlength=&quot;20&quot; /&gt; &lt;/td&gt;</div></li><li class="li1"><div class="de1">&lt;/tr&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;tr&gt;</div></li><li class="li1"><div class="de1">	&lt;td align=&quot;right&quot;&gt;Passwd&lt;/td&gt;</div></li><li class="li1"><div class="de1">      &lt;td align=&quot;left&quot;&gt;  &lt;input type=&quot;password&quot; name=&quot;password&quot; size=&quot;50&quot; maxlength=&quot;20&quot; /&gt; &lt;/td&gt;</div></li><li class="li1"><div class="de1">&lt;/tr&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;tr&gt;</div></li><li class="li1"><div class="de1">	&lt;td align=&quot;right&quot;&gt;Usuari&lt;/td&gt;</div></li><li class="li1"><div class="de1">      &lt;td align=&quot;left&quot;&gt;  &lt;INPUT type=&quot;radio&quot; name=&quot;usuari&quot; value=&quot;professor&quot; checked&gt; Profe </div></li><li class="li1"><div class="de1">      				   &lt;INPUT type=&quot;radio&quot; name=&quot;usuari&quot; value=&quot;alumne&quot;&gt; Alumne</div></li><li class="li1"><div class="de1">      &lt;/td&gt;</div></li><li class="li1"><div class="de1">&lt;/tr&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;tr&gt;</div></li><li class="li1"><div class="de1">	&lt;td align=&quot;right&quot;&gt;Actiu&lt;/td&gt;</div></li><li class="li1"><div class="de1">      &lt;td align=&quot;left&quot;&gt;  &lt;INPUT type=&quot;checkbox&quot; name=&quot;actiu&quot; checked&gt; &lt;/td&gt;</div></li><li class="li1"><div class="de1">&lt;/tr&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;tr&gt;</div></li><li class="li1"><div class="de1">	&lt;td align=&quot;right&quot;&gt;Foto&lt;/td&gt;</div></li><li class="li1"><div class="de1">      &lt;td align=&quot;left&quot;&gt;  &lt;INPUT type=&quot;file&quot; name=&quot;foto&quot; size=&quot;35&quot;&gt;&lt;/td&gt;</div></li><li class="li1"><div class="de1">&lt;/tr&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  &lt;tr&gt;</div></li><li class="li1"><div class="de1">	&lt;td align=&quot;right&quot;&gt;Edat&lt;/td&gt;</div></li><li class="li1"><div class="de1">      &lt;td align=&quot;left&quot;&gt;  </div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">      &lt;SELECT name=&quot;edat&quot;&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">      <span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co1">//Creem un petit codi per no haver d'introduir tots els valors al HTML manualment</span></div></li><li class="li1"><div class="de1"><span class="kw1">for</span><span class="br0">&#40;</span><span class="re0">$i</span><span class="sy0">=</span><span class="nu0">18</span><span class="sy0">;</span> <span class="re0">$i</span><span class="sy0">&lt;=</span><span class="nu0">99</span><span class="sy0">;</span> <span class="re0">$i</span><span class="sy0">++</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st_h">'&lt;option value=&quot;'</span><span class="sy0">.</span><span class="re0">$i</span><span class="sy0">.</span><span class="st_h">'&quot;&gt;'</span><span class="sy0">.</span><span class="re0">$i</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">      &lt;/SELECT&gt;</div></li><li class="li1"><div class="de1">     &lt;/td&gt;</div></li><li class="li1"><div class="de1">&lt;/tr&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;tr&gt;</div></li><li class="li1"><div class="de1">	&lt;td align=&quot;right&quot; valign=&quot;top&quot;&gt;Comentaris&lt;/td&gt;</div></li><li class="li1"><div class="de1">      &lt;td align=&quot;left&quot;&gt;  </div></li><li class="li1"><div class="de1">&lt;TEXTAREA name=&quot;comentaris&quot;  rows=&quot;10&quot; cols=&quot;38&quot;  &gt;(Comentaris de l'usuari) &lt;/TEXTAREA&gt;</div></li><li class="li1"><div class="de1">      &lt;/td&gt;</div></li><li class="li1"><div class="de1">&lt;/tr&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;tr&gt;</div></li><li class="li1"><div class="de1">&lt;td&gt;	&lt;INPUT type=&quot;hidden&quot; name=&quot;ocult&quot; value=&quot;prova&quot;&gt;&lt;/td&gt;</div></li><li class="li1"><div class="de1">	&lt;td colspan=&quot;2&quot; align=&quot;center&quot;&gt;&lt;INPUT type=&quot;submit&quot; value=&quot;Enviar&quot;&gt;  &lt;INPUT type=&quot;reset&quot; value=&quot;Esborrar&quot; &gt;&lt;/td&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;/tr&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;/table&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;/FORM&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="kw1">else</span>	<span class="co1">//Processem el contingut del formulari</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="co1">//Mostrem el contingut sencer de POST</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">if</span><span class="br0">&#40;</span><a href="http://www.php.net/isset"><span class="kw3">isset</span></a><span class="br0">&#40;</span><span class="re0">$_POST</span><span class="br0">&#41;</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="kw1">foreach</span> <span class="br0">&#40;</span><span class="re0">$_POST</span> <span class="kw1">as</span> <span class="re0">$index</span><span class="sy0">=&gt;</span><span class="re0">$value</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st0">&quot;POST[<span class="es4">$index</span>] = <span class="es4">$value</span>&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;/body&gt;</div></li><li class="li1"><div class="de1">&lt;/html&gt;</div></li></ol></pre>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="emmagatzemar_dades_al_navegador_amb_cookies" >Emmagatzemar dades al navegador amb cookies</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és mostrar com emmagatzemar i recuperar dades per una pàgina web mitjançant el funcionament de les <em>cookies</em>. 
</p>

<p>
Les <em>cookies</em> us permeten desar informació al navegador que estarà disponible més endavant pel vostre web. Per exemple, podeu desar la configuració personal de l’usuari o la llengua en què ha escollit visitar el web. La propera vegada que l’usuari visiti el web, el vostre codi PHP podrà obtenir aquesta informació desada i presentar a l’usuari el web amb la seva configuració personal o la llengua escollida. És important destacar que les <em>cookies</em> queden desades al navegador de l’usuari i no al servidor web. 
</p>

<p>
Feu un web amb dos fitxers. El primer, index.php, s’encarregarà d’obtenir el nom de l’usuari i la llengua que vol fer servir per defecte entre una llista desplegable mitjançant un formulari. Enviarà aquestes dades a un altre fitxer, cookie.php, que desarà la informació a les <em>cookies</em>. 
</p>

<p>
La propera vegada que l’usuari accedeixi a index.php el formulari estarà emplenat amb la informació desada la vegada anterior que va accedir-hi.
</p>

<p>
<form action=""><div class="solution ioccontent">
<p>
Primer anem de crear el formulari <em>estàndard</em>, i poc a poc afegirem les funcionalitats PHP. 
</p>

<p>
Aquest seria un formulari que demana el nom i l’idioma i envia les dades a cookies.php.
</p>
<pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2"><span class="sy0">/</span>*</span></div></li><li class="li1"><div class="de1"><span class="sc2">Fitxer index.php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">Fitxer d<span class="st0">'inici</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="st0">*/</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="st0">//Arguments per la capçalera header. Aquestes variables seran visibles</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="st0">//des de cap.php</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="st0">$TITOL = &quot;cookie&quot;;</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="st0">$ESTIL = &quot;estil.css&quot;;</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="st0">include(&quot;cap.php&quot;);</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="st0">?&gt;</span></span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc-1">&lt;!-- Formulari d'entrada --&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">&quot;login&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a> <span class="kw3">action</span><span class="sy0">=</span><span class="st0">&quot;cookie.php&quot;</span>  <span class="kw3">method</span><span class="sy0">=</span><span class="st0">&quot;POST&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;entrada&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/table.html"><span class="kw2">table</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">		<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;right&quot;</span>&gt;</span>Nom<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;left&quot;</span>&gt;</span>  <span class="sc2">&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;nom&quot;</span> <span class="kw3">size</span><span class="sy0">=</span><span class="st0">&quot;15&quot;</span> <span class="kw3">maxlength</span><span class="sy0">=</span><span class="st0">&quot;15&quot;</span> <span class="sy0">/</span>&gt;</span> <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;right&quot;</span>&gt;</span>Llengua<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  	<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;left&quot;</span>&gt;</span>  </div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;<a href="http://december.com/html/4/element/select.html"><span class="kw2">select</span></a> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;idioma&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">		<span class="sc2">&lt;<a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a>&gt;</span></div></li><li class="li1"><div class="de1"> 				Anglès</div></li><li class="li1"><div class="de1"> 			<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a>&gt;</span>            </div></li><li class="li1"><div class="de1">		<span class="sc2">&lt;<a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a>&gt;</span></div></li><li class="li1"><div class="de1"> 				Català</div></li><li class="li1"><div class="de1"> 			<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a>&gt;</span>            </div></li><li class="li1"><div class="de1">		<span class="sc2">&lt;<a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a>&gt;</span></div></li><li class="li1"><div class="de1"> 				Castellà</div></li><li class="li1"><div class="de1"> 			<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a>&gt;</span>            </div></li><li class="li1"><div class="de1">      			<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/select.html"><span class="kw2">select</span></a>&gt;</span></div></li><li class="li1"><div class="de1">     	<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">colspan</span><span class="sy0">=</span><span class="st0">&quot;2&quot;</span> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;center&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;submit&quot;</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;Enviar&quot;</span>&gt;</span>  <span class="sc2">&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">INPUT</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;reset&quot;</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;Esborrar&quot;</span> &gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/table.html"><span class="kw2">table</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="sc2">include<span class="br0">&#40;</span><span class="st0">&quot;peu.php&quot;</span><span class="br0">&#41;</span>;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">?&gt;</span></div></li></ol></pre>

<p>
Aquest document fa referència a:
</p>

<p>
<em>estil.css</em>
</p>
<pre class="code css"><ol><li class="li1"><div class="de1"><span class="co1">@charset &quot;utf-8&quot;;</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">/* CSS Document */</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">body <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="kw1">color</span><span class="sy0">:</span> <span class="kw1">black</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">background-color</span> <span class="sy0">:</span> <span class="re0">#F0F0F0</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">font-family</span><span class="sy0">:</span> verdana<span class="sy0">,</span> helvetica<span class="sy0">,</span> arial<span class="sy0">,</span> <span class="kw2">sans-serif</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">font-size</span><span class="sy0">:</span> <span class="re3">73%</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">margin</span><span class="sy0">:</span> <span class="nu0">0</span> <span class="kw2">auto</span><span class="sy0">;</span> <span class="coMULTI">/* centrar la pàgina a la pantalla */</span></div></li><li class="li1"><div class="de1"><span class="kw1">padding</span><span class="sy0">:</span> <span class="re3">0px</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="re1">.principal</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="kw1">position</span><span class="sy0">:</span><span class="kw2">relative</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="re1">.debug</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="kw1">border</span><span class="sy0">:</span> <span class="kw2">solid</span> <span class="kw1">black</span> <span class="re3">1px</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">text-align</span><span class="sy0">:</span> <span class="kw2">center</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">position</span><span class="sy0">:</span><span class="kw2">relative</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">left</span> <span class="sy0">:</span> <span class="re3">200px</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">width</span> <span class="sy0">:</span> <span class="re3">700px</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="re1">.login</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span>	</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">position</span><span class="sy0">:</span><span class="kw2">absolute</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">top</span> <span class="sy0">:</span> <span class="re3">150px</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1"><span class="kw1">left</span> <span class="sy0">:</span> <span class="re3">510px</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">background-color</span> <span class="sy0">:</span> <span class="re0">#CCCCCC</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">width</span><span class="sy0">:</span> <span class="re3">220px</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1"><span class="kw1">height</span><span class="sy0">:</span> <span class="re3">110px</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="re1">.menu</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span>	</div></li><li class="li1"><div class="de1"><span class="kw1">position</span><span class="sy0">:</span><span class="kw2">absolute</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">top</span> <span class="sy0">:</span> <span class="re3">50px</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1"><span class="kw1">left</span> <span class="sy0">:</span> <span class="re3">0px</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">background-color</span> <span class="sy0">:</span> <span class="re0">#CCCCCC</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">width</span><span class="sy0">:</span> <span class="re3">180px</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1"><span class="kw1">height</span><span class="sy0">:</span> <span class="re3">400px</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="re1">.dreta</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="kw1">position</span><span class="sy0">:</span><span class="kw2">absolute</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">top</span> <span class="sy0">:</span> <span class="re3">50px</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1"><span class="kw1">left</span> <span class="sy0">:</span> <span class="re3">200px</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">background-color</span> <span class="sy0">:</span> <span class="re0">#FFFFFF</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">width</span> <span class="sy0">:</span> <span class="re3">800px</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="re1">.administrador</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="kw1">background-color</span> <span class="sy0">:</span> <span class="re0">#FF7777</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="re1">.header</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">//Poner arriba</div></li><li class="li1"><div class="de1"><span class="kw1">position</span><span class="sy0">:</span> <span class="kw2">absolute</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">top</span> <span class="sy0">:</span> <span class="re3">0px</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">height</span> <span class="sy0">:</span> <span class="re3">100px</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="re1">.centrat</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="kw1">text-align</span> <span class="sy0">:</span> <span class="kw2">center</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">a</div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="kw1">font-weight</span><span class="sy0">:</span><span class="nu0">700</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="re1">.petita</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="kw1">font-size</span><span class="sy0">:</span> <span class="re3">80%</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">img</div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="kw1">border</span><span class="sy0">:</span> <span class="nu0">0</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>

<p>
<em>cap.php</em>
</p>
<pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2"><span class="sy0">/</span>*</span></div></li><li class="li1"><div class="de1"><span class="sc2">Fitxer cap.php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">Fitxer de capçalera de totes les pàgines del web</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">Arguments:</span></div></li><li class="li1"><div class="de1"><span class="sc2">- $TITOL: títol de la pàgina</span></div></li><li class="li1"><div class="de1"><span class="sc2">- $ESTIL: nom del CSS per carregar</span></div></li><li class="li1"><div class="de1"><span class="sc2">*<span class="sy0">/</span></span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc0">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/html.html"><span class="kw2">html</span></a> xmlns<span class="sy0">=</span><span class="st0">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/head.html"><span class="kw2">head</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/meta.html"><span class="kw2">meta</span></a> <span class="kw3">http-equiv</span><span class="sy0">=</span><span class="st0">&quot;Content-Type&quot;</span> <span class="kw3">content</span><span class="sy0">=</span><span class="st0">&quot;text/html; charset=utf-8&quot;</span> <span class="sy0">/</span>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/title.html"><span class="kw2">title</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2"><span class="sy0">/////////////////////////</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="sy0">//</span>  TITOL DE LA PAGINA <span class="sy0">//</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="sy0">/////////////////////////</span></span></div></li><li class="li1"><div class="de1"><span class="sc2">if<span class="br0">&#40;</span>isset<span class="br0">&#40;</span>$TITOL<span class="br0">&#41;</span><span class="br0">&#41;</span></span></div></li><li class="li1"><div class="de1"><span class="sc2">printf<span class="br0">&#40;</span><span class="st0">&quot;%s&quot;</span>, $TITOL<span class="br0">&#41;</span>;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">else</span></div></li><li class="li1"><div class="de1"><span class="sc2">printf<span class="br0">&#40;</span><span class="st0">&quot;Exemple&quot;</span><span class="br0">&#41;</span>;</span></div></li><li class="li1"><div class="de1"><span class="sc2">?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/title.html"><span class="kw2">title</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="sy0">/////////////////</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="sy0">//</span> Estil <span class="br0">&#40;</span>CSS<span class="br0">&#41;</span> <span class="sy0">//</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="sy0">/////////////////</span></span></div></li><li class="li1"><div class="de1"><span class="sc2">if<span class="br0">&#40;</span>isset<span class="br0">&#40;</span>$ESTIL<span class="br0">&#41;</span><span class="br0">&#41;</span></span></div></li><li class="li1"><div class="de1"><span class="sc2">printf<span class="br0">&#40;</span><span class="st0">'&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;%s&quot; /&gt;</span></span>', $ESTIL);</div></li><li class="li1"><div class="de1">else</div></li><li class="li1"><div class="de1">printf('<span class="sc2">&lt;<a href="http://december.com/html/4/element/link.html"><span class="kw2">link</span></a> <span class="kw3">rel</span><span class="sy0">=</span><span class="st0">&quot;stylesheet&quot;</span> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text/css&quot;</span> <span class="kw3">href</span><span class="sy0">=</span><span class="st0">&quot;estil.css&quot;</span> <span class="sy0">/</span>&gt;</span>');</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">?&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/head.html"><span class="kw2">head</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/body.html"><span class="kw2">body</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc-1">&lt;!-- Banner de la pàgina --&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">&quot;header&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/p.html"><span class="kw2">p</span></a> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;center&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/img.html"><span class="kw2">img</span></a> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;./pics/banner.gif&quot;</span> <span class="kw3">height</span><span class="sy0">=</span><span class="st0">&quot;100px&quot;</span><span class="sy0">/</span>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/p.html"><span class="kw2">p</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">&quot;principal&quot;</span>&gt;</span></div></li></ol></pre>

<p>
<em>peu.php</em>
</p>
<pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2"><span class="sy0">/</span>*</span></div></li><li class="li1"><div class="de1"><span class="sc2">Fitxer peu.php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">Fitxer de peu de totes les pàgines del web</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">Arguments: -</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">*<span class="sy0">/</span></span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/body.html"><span class="kw2">body</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/html.html"><span class="kw2">html</span></a>&gt;</span></div></li></ol></pre>

<p>
El fitxer cookie.php fa el següent: 
</p>
<ul>
<li class="level1"><div class="li"> Comprova què ha arribat a través del fitxer index.php mirant les dades de <em>POST</em>.</div>
</li>
<li class="level1"><div class="li"> Opcionalment mostra el contingut de <em>POST</em>. Mentre desenvolupeu el programa podeu comprovar així que esteu fent les coses correctament.</div>
</li>
<li class="level1"><div class="li"> Defineix el temps d’expiració de les <em>cookies</em> en una hora (3.600 segons).</div>
</li>
</ul>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">/*</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">Fitxer cookie.php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">Fitxer que guarda les dades a les cookies </span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">Arguments (POST): procedents del formulari d'index.php</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">- nom: nom de l'usuari</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">- idioma: idioma predeterminat</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">*/</span></div></li><li class="li1"><div class="de1"><span class="re0">$TITOL</span> <span class="sy0">=</span> <span class="st0">&quot;Acces&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$ESTIL</span> <span class="sy0">=</span> <span class="st0">&quot;estil.css&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">include</span><span class="br0">&#40;</span><span class="st0">&quot;cap.php&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co1">//Mirem si estem accedint des del formulari (i no directament)</span></div></li><li class="li1"><div class="de1"><span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span><a href="http://www.php.net/isset"><span class="kw3">isset</span></a><span class="br0">&#40;</span><span class="re0">$_POST</span><span class="br0">&#91;</span><span class="st0">&quot;nom&quot;</span><span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="sy0">||</span> <span class="sy0">!</span><a href="http://www.php.net/isset"><span class="kw3">isset</span></a><span class="br0">&#40;</span><span class="re0">$_POST</span><span class="br0">&#91;</span><span class="st0">&quot;idioma&quot;</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/printf"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st_h">'&lt;div class=&quot;login&quot;&gt;Has de passar abans per la pantalla de login&lt;/div&gt;'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="kw1">else</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span> </div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co1">//Podeu descomentar aquest bucle per veure tot el contingut de POST que us arriba a la pàgina	</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">/*	</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">$var = &quot;&quot;;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">foreach($_POST as $key =&gt; $value)</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">{</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">$var .= &quot;POST[&quot; . $key . &quot;]= &quot; . $value . &quot;&lt;br&gt;&quot;;</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">//$var = $var . &quot;POST[&quot; . $key . &quot;]= &quot; . $value . &quot;&lt;br&gt;&quot;;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">}</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">debug($var);</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">*/</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co1">///////////////</span></div></li><li class="li1"><div class="de1"><span class="co1">//  COOKIES  //</span></div></li><li class="li1"><div class="de1"><span class="co1">///////////////</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co1">//Fiquem el nom i la llengua a les cookies	</span></div></li><li class="li1"><div class="de1"><span class="re0">$expiracio</span> <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">*</span><span class="nu0">3600</span><span class="sy0">;</span> <span class="co1">//data d'expiració del cookie, 1 hora</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/setcookie"><span class="kw3">setcookie</span></a><span class="br0">&#40;</span><span class="st0">&quot;nom&quot;</span><span class="sy0">,</span><span class="re0">$_POST</span><span class="br0">&#91;</span><span class="st0">&quot;nom&quot;</span><span class="br0">&#93;</span><span class="sy0">,</span><a href="http://www.php.net/time"><span class="kw3">time</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">+</span><span class="re0">$expiracio</span><span class="br0">&#41;</span><span class="sy0">;</span><span class="co1">//establim cookie</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/setcookie"><span class="kw3">setcookie</span></a><span class="br0">&#40;</span><span class="st0">&quot;idioma&quot;</span><span class="sy0">,</span><span class="re0">$_POST</span><span class="br0">&#91;</span><span class="st0">&quot;idioma&quot;</span><span class="br0">&#93;</span><span class="sy0">,</span><a href="http://www.php.net/time"><span class="kw3">time</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">+</span><span class="re0">$expiracio</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="re0">$missatge</span> <span class="sy0">=</span> <span class="st0">&quot;Valors emmagatzemats a les cookies&lt;br&gt; nom=&quot;</span><span class="sy0">.</span><span class="re0">$_POST</span><span class="br0">&#91;</span>nom<span class="br0">&#93;</span><span class="sy0">.</span><span class="st0">&quot;, idioma=&quot;</span><span class="sy0">.</span><span class="re0">$_POST</span><span class="br0">&#91;</span>idioma<span class="br0">&#93;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">debug<span class="br0">&#40;</span><span class="re0">$missatge</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="kw1">include</span><span class="br0">&#40;</span><span class="st0">&quot;peu.php&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
En aquest moments ja teniu les <em>cookies</em> emmagatzemades al navegador. Ho podeu comprovar mirant la configuració de dades privades del navegador. Per exemple, la següent figura mostra les cookies al navegador Google Chrome. 
</p>
<div class="iocfigure"><a name=""></a>
<p>
<figure>
<figcaption><span class="figuretitle">Figura</span></figcaption><img src="../media/galetes2.png" alt="" /></figure>

</p>
</div>
<p>
L’únic pas que resta és llegir aquestes dades des del fitxer index.php per tal que ompli els camps del formulari amb les <em>cookies</em> si aquestes existeixen. Fixeu-vos en la manera que el PHP està incrustat dins del codi <acronym title="HyperText Markup Language">HTML</acronym> per afegir els valors i atributs necessaris a les etiquetes HMTL. Mireu el codi de la pàgina <acronym title="HyperText Markup Language">HTML</acronym> resultant per comprovar que no hi ha rastre de PHP, únicament els valors <acronym title="HyperText Markup Language">HTML</acronym> correctes. 
</p>
<pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2"><span class="sy0">/</span>*</span></div></li><li class="li1"><div class="de1"><span class="sc2">Fitxer index.php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">Fitxer d<span class="st0">'inici</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="st0">*/</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="st0">//Arguments per la capçalera header. Aquestes variables seran visibles</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="st0">//des de cap.php</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="st0">$TITOL = &quot;cookie&quot;;</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="st0">$ESTIL = &quot;estil.css&quot;;</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="st0">include(&quot;cap.php&quot;);</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="st0">?&gt;</span></span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc-1">&lt;!-- Formulari d'entrada --&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">&quot;login&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a> <span class="kw3">action</span><span class="sy0">=</span><span class="st0">&quot;cookie.php&quot;</span>  <span class="kw3">method</span><span class="sy0">=</span><span class="st0">&quot;POST&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;entrada&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/table.html"><span class="kw2">table</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">		<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;right&quot;</span>&gt;</span>Nom<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;left&quot;</span>&gt;</span>  </div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"> 	<span class="sc2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">		if<span class="br0">&#40;</span>isset<span class="br0">&#40;</span>$_COOKIE<span class="br0">&#91;</span><span class="st0">&quot;nom&quot;</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>			</span></div></li><li class="li1"><div class="de1"><span class="sc2">			$nom <span class="sy0">=</span> $_COOKIE<span class="br0">&#91;</span><span class="st0">&quot;nom&quot;</span><span class="br0">&#93;</span>;</span></div></li><li class="li1"><div class="de1"><span class="sc2">		else</span></div></li><li class="li1"><div class="de1"><span class="sc2">			$nom <span class="sy0">=</span> <span class="st0">&quot;&quot;</span>;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">	?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"> 			<span class="sc2">&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;nom&quot;</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;&lt;?php echo $nom ?&gt;</span></span>&quot; size=&quot;15&quot; maxlength=&quot;15&quot; /&gt; </div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;right&quot;</span>&gt;</span>Llengua<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  	<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;left&quot;</span>&gt;</span>  </div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">		if<span class="br0">&#40;</span>isset<span class="br0">&#40;</span>$_COOKIE<span class="br0">&#91;</span><span class="st0">&quot;idioma&quot;</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>			</span></div></li><li class="li1"><div class="de1"><span class="sc2">			$idioma <span class="sy0">=</span> $_COOKIE<span class="br0">&#91;</span><span class="st0">&quot;idioma&quot;</span><span class="br0">&#93;</span>;</span></div></li><li class="li1"><div class="de1"><span class="sc2">		else</span></div></li><li class="li1"><div class="de1"><span class="sc2">			$idioma <span class="sy0">=</span> <span class="st0">&quot;cap&quot;</span>;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">	?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;<a href="http://december.com/html/4/element/select.html"><span class="kw2">select</span></a> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;idioma&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">		<span class="sc2">&lt;<a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a> &lt;?php if<span class="br0">&#40;</span>$idioma<span class="sy0">==</span><span class="st0">&quot;Anglès&quot;</span><span class="br0">&#41;</span> echo <span class="st0">'selected=&quot;selected&quot;'</span>; ?&gt;</span> &gt;</div></li><li class="li1"><div class="de1"> 				Anglès</div></li><li class="li1"><div class="de1"> 			<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a>&gt;</span>            </div></li><li class="li1"><div class="de1">		<span class="sc2">&lt;<a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a> &lt;?php if<span class="br0">&#40;</span>$idioma<span class="sy0">==</span><span class="st0">&quot;Català&quot;</span><span class="br0">&#41;</span> echo <span class="st0">'selected=&quot;selected&quot;'</span>; ?&gt;</span>&gt;</div></li><li class="li1"><div class="de1"> 				Català</div></li><li class="li1"><div class="de1"> 			<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a>&gt;</span>            </div></li><li class="li1"><div class="de1">		<span class="sc2">&lt;<a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a> &lt;?php if<span class="br0">&#40;</span>$idioma<span class="sy0">==</span><span class="st0">&quot;Castellà&quot;</span><span class="br0">&#41;</span> echo <span class="st0">'selected=&quot;selected&quot;'</span>; ?&gt;</span>&gt;</div></li><li class="li1"><div class="de1"> 				Castellà</div></li><li class="li1"><div class="de1"> 			<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a>&gt;</span>            </div></li><li class="li1"><div class="de1">      			<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/select.html"><span class="kw2">select</span></a>&gt;</span></div></li><li class="li1"><div class="de1">     	<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">colspan</span><span class="sy0">=</span><span class="st0">&quot;2&quot;</span> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;center&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;submit&quot;</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;Enviar&quot;</span>&gt;</span>  <span class="sc2">&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">INPUT</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;reset&quot;</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;Esborrar&quot;</span> &gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/table.html"><span class="kw2">table</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="sc2">include<span class="br0">&#40;</span><span class="st0">&quot;peu.php&quot;</span><span class="br0">&#41;</span>;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">?&gt;</span></div></li></ol></pre>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="emmagatzemar_dades_entre_pagines_amb_sessions" >Emmagatzemar dades entre pàgines amb sessions</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és mostrar el funcionament amb les sessions. 
</p>

<p>
Les sessions us permeten emmagatzemar dades que podran ser compartides entre les diferents pàgines del web. Aquestes dades, a diferència de les <em>cookies</em>, estan emmagatzemades al servidor i estan disponibles durant tot el temps que l’usuari està interactuant amb la pàgina (<em>temps de sessió</em>). 
</p>

<p>
Alguns exemples de dades que solen guardar-se a les sessions és si l’usuari ha accedit al web mitjançant els valors usuari/contrasenya, o un carret de la compra. 
</p>

<p>
Feu una pàgina web que passi entre les seves pàgines el nom de l’usuari i una variable (<em>cost</em>) que s’anirà incrementant en 10 cada vegada que l’usuari passa entre les pàgines (podem pensar que aquesta variable representa el cost de les compres que ha fet fins ara l’usuari al web). 
</p>

<p>
La sessió es tancarà quan l’usuari torni a la pàgina de <em>login</em>. 
</p>

<p>
<form action=""><div class="solution ioccontent">
<p>
El primer que farem serà iniciar les sessions a totes les pàgines. Això s’ha de fer abans d’enviar cap tipus d’informació al navegador, per tant la capçalera comuna a tots els fitxers és un bon lloc on ho podem posar. 
</p>

<p>
<em>cap.php</em>
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">/*</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">Fitxer cap.php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">Fitxer de capçalera de totes les pàgines del web</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">Arguments:</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">- $TITOL: títol de la pàgina</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">- $ESTIL: nom del CSS per carregar</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">*/</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co1">//Iniciem la sessió, és vàlid per totes les pàgines</span></div></li><li class="li1"><div class="de1"><span class="kw1">if</span><span class="br0">&#40;</span><a href="http://www.php.net/session_id"><span class="kw3">session_id</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">==</span><span class="st0">&quot;&quot;</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/session_start"><span class="kw3">session_start</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</div></li><li class="li1"><div class="de1">&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;</div></li><li class="li1"><div class="de1">&lt;head&gt;</div></li><li class="li1"><div class="de1">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;title&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><a href="http://www.php.net/define"><span class="kw3">define</span></a> <span class="br0">&#40;</span><span class="st0">&quot;DEBUG&quot;</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">function</span> debug<span class="br0">&#40;</span><span class="re0">$string</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="kw1">if</span><span class="br0">&#40;</span>DEBUG<span class="sy0">!=</span><span class="nu0">1</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="kw1">return</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><a href="http://www.php.net/printf"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st_h">'&lt;br&gt;&lt;br&gt;&lt;p class=&quot;debug&quot;&gt;'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/printf"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;&lt;b&gt;Debug:&lt;/b&gt;&lt;br&gt;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/printf"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="re0">$string</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/printf"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st_h">'&lt;/p&gt;&lt;br&gt;&lt;br&gt;'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co1">/////////////////////////</span></div></li><li class="li1"><div class="de1"><span class="co1">//  TITOL DE LA PAGINA //</span></div></li><li class="li1"><div class="de1"><span class="co1">/////////////////////////</span></div></li><li class="li1"><div class="de1"><span class="kw1">if</span><span class="br0">&#40;</span><a href="http://www.php.net/isset"><span class="kw3">isset</span></a><span class="br0">&#40;</span><span class="re0">$TITOL</span><span class="br0">&#41;</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/printf"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;<span class="es6">%s</span>&quot;</span><span class="sy0">,</span> <span class="re0">$TITOL</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">else</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/printf"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;Exemple&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;/title&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="co1">/////////////////</span></div></li><li class="li1"><div class="de1"><span class="co1">// Estil (CSS) //</span></div></li><li class="li1"><div class="de1"><span class="co1">/////////////////</span></div></li><li class="li1"><div class="de1"><span class="kw1">if</span><span class="br0">&#40;</span><a href="http://www.php.net/isset"><span class="kw3">isset</span></a><span class="br0">&#40;</span><span class="re0">$ESTIL</span><span class="br0">&#41;</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/printf"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st_h">'&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;%s&quot; /&gt;'</span><span class="sy0">,</span> <span class="re0">$ESTIL</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">else</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/printf"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st_h">'&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;estil.css&quot; /&gt;'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;/head&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;body&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;!-- Banner de la pàgina --&gt;</div></li><li class="li1"><div class="de1">&lt;div class=&quot;header&quot;&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;p align=&quot;center&quot;&gt;</div></li><li class="li1"><div class="de1">&lt;img src=&quot;./pics/banner.gif&quot; height=&quot;100px&quot;/&gt;</div></li><li class="li1"><div class="de1">&lt;/p&gt;</div></li><li class="li1"><div class="de1">&lt;/div&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;div class=&quot;principal&quot;&gt;</div></li></ol></pre>

<p>
El fitxer index.php presenta el formulari per accedir al web:
</p>
<pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2"><span class="sy0">/</span>*</span></div></li><li class="li1"><div class="de1"><span class="sc2">Fitxer index.php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">Fitxer d<span class="st0">'inici</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="st0">*/</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="st0">//Arguments per la capçalera header. Aquestes variables seran visibles</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="st0">//des de cap.php</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="st0">$TITOL = &quot;cookie&quot;;</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="st0">$ESTIL = &quot;estil.css&quot;;</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="st0">include(&quot;cap.php&quot;);</span></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="st0">?&gt;</span></span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc-1">&lt;!-- Formulari d'entrada --&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">&quot;login&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a> <span class="kw3">action</span><span class="sy0">=</span><span class="st0">&quot;1.php&quot;</span>  <span class="kw3">method</span><span class="sy0">=</span><span class="st0">&quot;POST&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;entrada&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/table.html"><span class="kw2">table</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">		<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;right&quot;</span>&gt;</span>Nom<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;left&quot;</span>&gt;</span>  </div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"> 			<span class="sc2">&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;nom&quot;</span> <span class="kw3">size</span><span class="sy0">=</span><span class="st0">&quot;15&quot;</span> <span class="kw3">maxlength</span><span class="sy0">=</span><span class="st0">&quot;15&quot;</span> <span class="sy0">/</span>&gt;</span> </div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;right&quot;</span>&gt;</span>Llengua<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  	<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;left&quot;</span>&gt;</span>  </div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;<a href="http://december.com/html/4/element/select.html"><span class="kw2">select</span></a> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;idioma&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">		<span class="sc2">&lt;<a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a>&gt;</span></div></li><li class="li1"><div class="de1"> 				Anglès</div></li><li class="li1"><div class="de1"> 			<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a>&gt;</span>            </div></li><li class="li1"><div class="de1">		<span class="sc2">&lt;<a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a>&gt;</span></div></li><li class="li1"><div class="de1"> 				Català</div></li><li class="li1"><div class="de1"> 			<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a>&gt;</span>            </div></li><li class="li1"><div class="de1">		<span class="sc2">&lt;<a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a>&gt;</span></div></li><li class="li1"><div class="de1"> 				Castellà</div></li><li class="li1"><div class="de1"> 			<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a>&gt;</span>            </div></li><li class="li1"><div class="de1">      			<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/select.html"><span class="kw2">select</span></a>&gt;</span></div></li><li class="li1"><div class="de1">     	<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">colspan</span><span class="sy0">=</span><span class="st0">&quot;2&quot;</span> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;center&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;submit&quot;</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;Enviar&quot;</span>&gt;</span>  <span class="sc2">&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">INPUT</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;reset&quot;</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;Esborrar&quot;</span> &gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/table.html"><span class="kw2">table</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="sc2">include<span class="br0">&#40;</span><span class="st0">&quot;peu.php&quot;</span><span class="br0">&#41;</span>;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">?&gt;</span></div></li></ol></pre>

<p>
El fitxer 1.php rep les dades del <em>POST</em> i fica algunes dades noves a $_SESSION. Com que inclou cap.php ja té les sessions actives per defecte
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">/*</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">Fitxer 1.php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">Fitxer que guarda les dades a les sessions </span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">Arguments (POST): procedents del formulari d'index.php</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">- nom: nom de l'usuari</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">- idioma: idioma predeterminat</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">*/</span></div></li><li class="li1"><div class="de1"><span class="re0">$TITOL</span> <span class="sy0">=</span> <span class="st0">&quot;Acces&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$ESTIL</span> <span class="sy0">=</span> <span class="st0">&quot;estil.css&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">include</span><span class="br0">&#40;</span><span class="st0">&quot;cap.php&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co1">//Mirem si estem accedint des del formulari (i no directament)</span></div></li><li class="li1"><div class="de1"><span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span><a href="http://www.php.net/isset"><span class="kw3">isset</span></a><span class="br0">&#40;</span><span class="re0">$_POST</span><span class="br0">&#91;</span><span class="st0">&quot;nom&quot;</span><span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="sy0">||</span> <span class="sy0">!</span><a href="http://www.php.net/isset"><span class="kw3">isset</span></a><span class="br0">&#40;</span><span class="re0">$_POST</span><span class="br0">&#91;</span><span class="st0">&quot;idioma&quot;</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/printf"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st_h">'&lt;div class=&quot;login&quot;&gt;Has de passar abans per la pantalla de login&lt;/div&gt;'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="kw1">else</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span> </div></li><li class="li1"><div class="de1"><span class="co1">//Podeu descomentar aquest bucle per veure tot el contingut de POST que us arriba a la pàgina	</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">/*	</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">$var = &quot;&quot;;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">foreach($_POST as $key =&gt; $value)</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">{</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">$var .= &quot;POST[&quot; . $key . &quot;]= &quot; . $value . &quot;&lt;br&gt;&quot;;</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">//$var = $var . &quot;POST[&quot; . $key . &quot;]= &quot; . $value . &quot;&lt;br&gt;&quot;;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">}</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">debug($var);</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">*/</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co1">//////////////</span></div></li><li class="li1"><div class="de1"><span class="co1">//	SESSIÓ  //</span></div></li><li class="li1"><div class="de1"><span class="co1">//////////////</span></div></li><li class="li1"><div class="de1"><span class="co1">//Fiquem el nom de l'usuari a la sessió</span></div></li><li class="li1"><div class="de1"><span class="re0">$_SESSION</span><span class="br0">&#91;</span><span class="st_h">'nom'</span><span class="br0">&#93;</span> <span class="sy0">=</span> <span class="re0">$_POST</span><span class="br0">&#91;</span><span class="st0">&quot;nom&quot;</span><span class="br0">&#93;</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co1">//i altres dades</span></div></li><li class="li1"><div class="de1"><span class="re0">$_SESSION</span><span class="br0">&#91;</span><span class="st_h">'admin'</span><span class="br0">&#93;</span> <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$_SESSION</span><span class="br0">&#91;</span><span class="st_h">'cost'</span><span class="br0">&#93;</span> <span class="sy0">=</span> <span class="nu0">10</span><span class="sy0">;</span>		</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st_h">'&lt;a href=&quot;2.php&quot;&gt;Pagina 2&lt;/a&gt; '</span><span class="sy0">;</span>  </div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="kw1">include</span><span class="br0">&#40;</span><span class="st0">&quot;peu.php&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
El fitxer 1.php té un enllaç a 2.php. En aquest fitxer es comprova que l’<em>array</em> associatiu <code>$_SESSION</code> tingui definida la variable <code>nom</code>. Si no és així, vol dir que l’usuari no ha accedit al web i per tant no pot accedir als continguts de la pàgina. 
</p>

<p>
Després mostra tots els continguts de l’<em>array</em> <code>$_SESSION</code> i incrementa el valor de <em>cost</em> amb <code>$_SESSION[‘cost’] += 10;</code>. 
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">/*</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">Fitxer 2.php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">Fitxer que mostra les dades a les sessions </span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">*/</span></div></li><li class="li1"><div class="de1"><span class="re0">$TITOL</span> <span class="sy0">=</span> <span class="st0">&quot;Acces&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$ESTIL</span> <span class="sy0">=</span> <span class="st0">&quot;estil.css&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">include</span><span class="br0">&#40;</span><span class="st0">&quot;cap.php&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co1">//Mirem si estem accedint des del formulari (i no directament)</span></div></li><li class="li1"><div class="de1"><span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span><a href="http://www.php.net/isset"><span class="kw3">isset</span></a><span class="br0">&#40;</span><span class="re0">$_SESSION</span><span class="br0">&#91;</span><span class="st0">&quot;nom&quot;</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/printf"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st_h">'&lt;div class=&quot;login&quot;&gt;Sessio no iniciada&lt;/div&gt;'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="kw1">else</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span> </div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="re0">$var</span> <span class="sy0">=</span> <span class="st0">&quot;Valors de SESSION&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">foreach</span><span class="br0">&#40;</span><span class="re0">$_SESSION</span> <span class="kw1">as</span> <span class="re0">$key</span> <span class="sy0">=&gt;</span> <span class="re0">$value</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="re0">$var</span> <span class="sy0">.=</span> <span class="st0">&quot;SESSION[&quot;</span> <span class="sy0">.</span> <span class="re0">$key</span> <span class="sy0">.</span> <span class="st0">&quot;]= &quot;</span> <span class="sy0">.</span> <span class="re0">$value</span> <span class="sy0">.</span> <span class="st0">&quot;&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="co1">//$var = $var . &quot;POST[&quot; . $key . &quot;]= &quot; . $value . &quot;&lt;br&gt;&quot;;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">debug<span class="br0">&#40;</span><span class="re0">$var</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="re0">$_SESSION</span><span class="br0">&#91;</span><span class="st_h">'cost'</span><span class="br0">&#93;</span> <span class="sy0">+=</span> <span class="nu0">10</span><span class="sy0">;</span>	</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st_h">'&lt;a href=&quot;3.php&quot;&gt;Pagina 3&lt;/a&gt; '</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="kw1">include</span><span class="br0">&#40;</span><span class="st0">&quot;peu.php&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
Quan aneu passant entre 2.php i 3.php veureu com es va incrementant el valor del <em>cost</em>.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">/*</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">Fitxer 3.php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">Fitxer que mostra les dades a les sessions </span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="coMULTI">*/</span></div></li><li class="li1"><div class="de1"><span class="re0">$TITOL</span> <span class="sy0">=</span> <span class="st0">&quot;Acces&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$ESTIL</span> <span class="sy0">=</span> <span class="st0">&quot;estil.css&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">include</span><span class="br0">&#40;</span><span class="st0">&quot;cap.php&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co1">//Mirem si estem accedint des del formulari (i no directament)</span></div></li><li class="li1"><div class="de1"><span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span><a href="http://www.php.net/isset"><span class="kw3">isset</span></a><span class="br0">&#40;</span><span class="re0">$_SESSION</span><span class="br0">&#91;</span><span class="st0">&quot;nom&quot;</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/printf"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st_h">'&lt;div class=&quot;login&quot;&gt;Sessio no iniciada&lt;/div&gt;'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="kw1">else</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span> </div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="re0">$var</span> <span class="sy0">=</span> <span class="st0">&quot;Valors de SESSION&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">foreach</span><span class="br0">&#40;</span><span class="re0">$_SESSION</span> <span class="kw1">as</span> <span class="re0">$key</span> <span class="sy0">=&gt;</span> <span class="re0">$value</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="re0">$var</span> <span class="sy0">.=</span> <span class="st0">&quot;SESSION[&quot;</span> <span class="sy0">.</span> <span class="re0">$key</span> <span class="sy0">.</span> <span class="st0">&quot;]= &quot;</span> <span class="sy0">.</span> <span class="re0">$value</span> <span class="sy0">.</span> <span class="st0">&quot;&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">debug<span class="br0">&#40;</span><span class="re0">$var</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="re0">$_SESSION</span><span class="br0">&#91;</span><span class="st_h">'cost'</span><span class="br0">&#93;</span> <span class="sy0">+=</span> <span class="nu0">10</span><span class="sy0">;</span>	</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st_h">'&lt;a href=&quot;2.php&quot;&gt;Pagina 2&lt;/a&gt; &lt;br&gt;'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st_h">'&lt;a href=&quot;index.php&quot;&gt;Logout&lt;/a&gt; '</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="kw1">include</span><span class="br0">&#40;</span><span class="st0">&quot;peu.php&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
Finalment, per tancar la sessió, podeu afegir el codi necessari al fitxer index.php, en el qual es fa el <em>login</em> a la pàgina. Podeu suposar que si l’usuari torna a la pàgina de <em>login</em>, és perquè vol acabar la sessió. 
</p>

<p>
Afegiu: 
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><a href="http://www.php.net/session_unset"><span class="kw3">session_unset</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li></ol></pre>

<p>
al codi d’index.html després d’incloure el fitxer cap.php. 
</p>

<p>
Podeu provar accedir a 2.php o 3.php una vegada la sessió està tancada per veure que no es pot accedir al contingut de la pàgina. 
</p>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

	 </article>
     <div class="pnpage">
      <div class="left-corner"></div>
      <div id="prevpage">Anar a la p&agrave;gina anterior:<br /><a href="../../../WebContent/u1/a2/continguts.html">Programació web de servidor</a></div>
      <div id="nextpage">Anar a la p&agrave;gina seg&uuml;ent:<br /><a href="../../../WebContent/u1/a2/exercicis.html">Exercicis d'autoavaluació</a></div>
      <div class="right-corner"></div>
     </div>
    </div>
    <footer class="footer">
      <div><small>Aquest document està subjecte a una llicència oberta de Creative Commons, es reserva el dret de reconeixement de l'autoria, d'exigir que no se'n faci cap mena d'ús comercial. Si altereu o transformeu aquesta obra, o en genereu obres derivades, només podeu distribuir l'obra generada amb una llicència idèntica a aquesta.</small></div>
    </footer>
 </div>
 <div id="back_preview" class="hidden"></div>
 <div id="preview" class="hidden">
  <div class="prevcontent"></div>
 </div>
 <div id="help-tooltips">
  <div id="help-toc" class="hidden tooltip"><span>Taula de continguts:</span> Ofereix una vista general de l&#39;estructura del m&ograve;dul, que us facilitar&agrave; la navegaci&oacute; a trav&eacute;s dels seus continguts.<span class="arrow-left"></span></div> 
  <div id="help-settings" class="hidden tooltip"><span>Opcions de format:</span> Permet configurar el format de lectura a partir de les vostres prefer&egrave;ncies, modificant la mida de la lletra, el color del fons, l&#39;amplada de la p&agrave;gina o l&#39;ocultaci&oacute; dels continguts complementaris, entre d&#39;altres.<span class="arrow-left"></span></div>
  <div id="help-printer" class="hidden tooltip"><span>Imprimir:</span>  Envia el contingut seleccionat a la impressora.<span class="arrow-left"></span></div>
  <div id="help-favorites" class="hidden tooltip"><span>Prefereits:</span> Permet desar aquelles parts del contingut a les que us interessi accedir en un moment posterior; us permetr&agrave; anar creant un repositori personalitzat de les seccions que considereu m&eacute;s rellevants. Un cop l&#39;hageu començat a fer servir se us mostrar&agrave; a sota un comptador que us informar&agrave; del nombre de preferits que s&#39;hagin emmagatzemat fins al moment.<span class="arrow-left"></span></div>
  <div id="help-favcounter" class="hidden tooltip"><span>Comptador i llistat de preferits:</span> Indica el nombre de preferits que s&#39;han desat fins el moment; clicant damunt seu accedireu al llistat de preferits, i a trav&eacute;s d&#39;aquest podreu accedir directament als continguts que hageu emmagatzemat.<span class="arrow-left"></span></div>
  <div id="help-help_icon" class="hidden tooltip"><span>Ajuda:</span> Aquesta opci&oacute; activa la informaci&oacute; de les funcionalitats del web tot situant el punter del ratol&iacute; al damunt dels diferents &iacute;tems.<span class="arrow-left"></span></div>
  <div id="help-sidebar-hide" class="hidden tooltip"><span>Mostrar/Ocultar barra lateral:</span>  Deshabilita la barra d&#39;opcions, permetent la seva recuperaci&oacute; quan es desitgi.<span class="arrow-left"></span></div>
  <div id="help-search" class="hidden tooltip"><span>Cerca:</span>  Introdu&iuml;u les paraules clau sobre aquells conceptes que desitgeu localitzar en els continguts del m&ograve;dul. Tamb&eacute; podeu excloure un terme de la cerca tot afegint-hi el signe &#8220;-&#8221; al davant.<span class="arrow-top"></span></div>
  <div id="help-header" class="hidden tooltip"><span>Cap&ccedil;alera:</span>  Indica l&#39;apartat o secci&oacute; que es mostra en pantalla. Tingueu present que les capçaleres de segon, tercer i quart nivell tamb&eacute; es poden desar com a marcadors.<span class="arrow-left"></span></div>
</div> 
</body>
</html>
