<!doctype html>

<!--[if lt IE 7 ]> <html class="ie ie6 no-js" lang="ca"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie ie7 no-js" lang="ca"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie ie8 no-js" lang="ca"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie ie9 no-js" lang="ca"> <![endif]-->
<!--[if gt IE 9]><!--><html class="no-js" lang="ca"><!--<![endif]-->
<!-- the "no-js" class is for Modernizr. -->

<head id="www-sitename-com" data-template-set="html5-reset">

	<meta charset="utf-8">
	
	<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title></title>
	
<!-- <meta name="title" content=""> --> 
	<meta name="description" content="">
	<!-- Google will often use this as its description of your page/site. Make it good. -->
	
	<meta name="google-site-verification" content="">
	<!-- Speaking of Google, don't forget to set your site up: http://google.com/webmasters -->
	
	<meta name="author" content="Institut Obert de Catalunya">
	<meta name="Copyright" content="Copyright Institut Obert de Catalunya 2011. All Rights Reserved.">

	<!-- Dublin Core Metadata : http://dublincore.org/ -->
	<meta name="DC.title" content="">
	<meta name="DC.subject" content="Informàtica i comunicacions">
	<meta name="DC.creator" content="Institut Obert de Catalunya">
	
	<!--  Mobile Viewport Fix
	j.mp/mobileviewport & davidbcalhoun.com/2010/viewport-metatag 
	device-width : Occupy full width of the screen in its current orientation
	initial-scale = 1.0 retains dimensions instead of zooming out if page height > device height
	maximum-scale = 1.0 retains dimensions instead of zooming in if page width < device width
	-->
	<!-- Uncomment to use � use thoughtfully!
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	-->

	<link rel="shortcut icon" href="../../../img/favicon.ico">
	<!-- This is the traditional favicon.
		 - size: 16x16 or 32x32
		 - transparency is OK
		 - see wikipedia for info on browser support: http://mky.be/favicon/ -->
		 
	<link rel="apple-touch-icon" href="../../../img/apple-touch-icon.png">
	<!-- The is the icon for iOS's Web Clip.
		 - size: 57x57 for older iPhones, 72x72 for iPads, 114x114 for iPhone4's retina display (IMHO, just go ahead and use the biggest one)
		 - To prevent iOS from applying its styles to the icon name it thusly: apple-touch-icon-precomposed.png
		 - Transparency is not recommended (iOS will put a black BG behind the icon) -->
	
	<!-- CSS: screen, mobile & print are all in the same file -->
	<link rel="stylesheet" href="../../../_/css/style.css">

	<!-- CSS: jQuery UI -->
	<link rel="stylesheet" href="../../../_/css/jquery-ui.css">
	
	<!-- all our JS is at the bottom of the page, except for Modernizr. -->
	<script src="../../../_/js/modernizr-1.7.min.js"></script>
	<script src="../../../_/js/Hyphenator.js" type="text/javascript"></script>
	<script type="text/javascript">
	   Hyphenator.config({
		minwordlength : 4
	   });
	   Hyphenator.run();
	</script>
    <script src="../../../_/js/build.js" type="text/javascript"></script>
</head>

<body class="style-newspaper">

<div class="wrapper"><!-- not needed? up to you: http://camendesign.com/code/developpeurs_sans_frontieres -->

	<header id="header">
		<div class="head"><a href="http://ioc.gencat.cat"><img src="../../../img/logo.png" alt="Institut Obert de Catalunya"/></a><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/es/deed.ca"><img src="../../../img/license.png" alt="Llic&egrave;ncia" class="license"/></a></div>
		<div class="headdocument"><a href="../../../index.html"></a></div>
        <div id="search" class="search" name="search">
         <form id="frmsearch" action="../../../search.html" method="get">
          <input type="text" name="q"/>
        </form>
        </div>
	</header>
   <div id="upbutton" class="upbutton" style="display:none;"><img src="../../../img/uparrow.png" alt="Pujar a l'inici de p&agrave;gina"/></div>
   <aside id="aside">
    <div id="menu">
      <ul>
       <li name="toc"><div><img src="../../../img/toc.png" alt="&Iacute;ndex"/></div></li>
       <li name="settings"><div><img src="../../../img/settings.png" alt="Configuraci&oacute;"/></div></li>
       <li name="printer"><div><img src="../../../img/printer.png" alt="Imprimir"/></div></li>
       <li name="favorites"><div><img src="../../../img/favorites.png" alt="Favorits"/></div></li>
       <li name="help_icon" class="help_icon"><div><img src="../../../img/help_icon.png" alt="Ajuda"/></div></li>
      </ul>
     </div>
   </aside>
   <div id="sidebar-hide" name="sidebar-hide"><img src="../../../img/arrows.png"/></div>
   <section>
     <div id="toc" class="hidden">
      <div class="menucontent">
        <ul>
        <li id="u1" class="parentnode"><p><a href="../../../WebContent/u1/resum.html">1. Llenguatges de guions de servidor</a></p><ul class="expander"><li id="u1resum"><a href="../../../WebContent/u1/resum.html">Resum</a></li><li id="u1resultats"><a href="../../../WebContent/u1/resultats.html">Resultats d'aprenentatge</a></li><li id="u1referencies"><a href="../../../WebContent/u1/referencies.html">Referències</a></li><li id="u1a1" class="tocsection"><p id="u1a1continguts"><a href="../../../WebContent/u1/a1/continguts.html">Instal·lació de servidors d'aplicacions web</a><span class="buttonexp"></span></p><ul><li id="u1a1activitats"><a href="../../../WebContent/u1/a1/activitats.html">Activitats</a></li><li id="u1a1exercicis"><a href="../../../WebContent/u1/a1/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><li id="u1a2" class="tocsection"><p id="u1a2continguts"><a href="../../../WebContent/u1/a2/continguts.html">Programació web de servidor</a><span class="buttonexp"></span></p><ul><li id="u1a2activitats"><a href="../../../WebContent/u1/a2/activitats.html">Activitats</a></li><li id="u1a2exercicis"><a href="../../../WebContent/u1/a2/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><li id="u1a3" class="tocsection"><p id="u1a3continguts"><a href="../../../WebContent/u1/a3/continguts.html">Accés a bases de dades des de PHP</a><span class="buttonexp"></span></p><ul><li id="u1a3activitats"><a href="../../../WebContent/u1/a3/activitats.html">Activitats</a></li><li id="u1a3exercicis"><a href="../../../WebContent/u1/a3/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li></ul></li><li id="" class="indexnode"><p><a href="../../../index.html">Anar a l&#39;&iacute;ndex general</a></p></li>
        </ul>
      </div>
    </div>
   </section>
   <section>
   <div id="settings" class="hidden">
    <div class="menucontent">
     <div class="allsettings">
     <div class="settings">
      <label>Font i Color</label>
		<div class="setting-option">
	        <ul class="fontBackground">
				<li id="style-newspaper" title="Newspaper" class="appearance-style-newspaper"><span>Newspaper</span></li>
                <li id="style-novel" title="Novel" class="appearance-style-novel"><span>Novel</span></li>
                <li id="style-ebook" title="eBook" class="appearance-style-ebook"><span>eBook</span></li>
				<li id="style-inverse" title="Inverse" class="appearance-style-inverse active"><span>Inverse</span></li>
				<li id="style-athelas" title="Athelas" class="appearance-style-athelas"><span>Athelas</span></li>
			</ul>
		</div>
     </div>
	<div class="settings">
      <label>Amplada</label>
		<div class="setting-option">
	        <div id="slider-width"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
		<div class="setting-option">
	        <div id="slider-font"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
	  <div class="setting-option">
       <form action="" class="sett-options">
		<ul>
		    <li><input type="checkbox" id="secondary-content" /><label for="secondary-content">Mostra recursos complementaris</label></li>
		    <li><input type="checkbox" id="main-images" /><label for="main-images">Mostra imatges</label></li>
		    <li><input type="checkbox" id="text-alignment" /><label for="text-alignment">Text justificat</label></li>
			<li><input type="checkbox" id="text-hyphen" /><label for="text-hyphen">Partici&oacute; sil·l&agrave;bica</label></li>
		</ul>
       </form>
	  </div>
     </div>
     </div>
    </div>
   </div>
   </section>
 <section>
 <div id="favorites" class="hidden"></div>
 </section>   
 <div id="bridge" class="hidden"></div>
 <div id="help" class="hidden">
  <div class="helptitle">Dreceres del teclat<hr></div>
  <div class="helpsection"><span>General</span>
   <ul>
    <li><span class="shortcut">g</span>: Anar al men&uacute; de navegaci&oacute;</li>
    <li><span class="shortcut">o</span>: Anar a opcions</li>
    <li><span class="shortcut">s</span>: Guardar la p&agrave;gina actual a favorits</li>
    <li><span class="shortcut">p</span>: Imprimir la p&agrave;gina actual</li>
    <li><span class="shortcut">?</span>: Mostrar/Ocultar l&#39;ajuda</li>
   </ul>
  </div>
  <div class="helpsection"><span>Navegaci&oacute;</span>
   <ul>
    <li><span class="shortcut">i</span>: Anar a l&#39;&iacute;ndex general</li>
    <li><span class="shortcut">t</span>: Anar a l&#39;inici de p&agrave;gina</li>
    <li><span class="shortcut">b</span>: Anar al final de p&agrave;gina</li>
    <li><span class="shortcut">j</span>: Anar cap endavant dintre la p&agrave;gina</li>
    <li><span class="shortcut">k</span>: Anar cap enrere dintre la p&agrave;gina</li>
    <li><span class="shortcut">h</span>: Anar a la p&agrave;gina anterior:</li>
    <li><span class="shortcut">l</span>: Anar a la p&agrave;gina seg&uuml;ent:</li>
   </ul>
   </div>
 </div>
 <div id="favcounter" name="favcounter" class="hidden"><span></span></div>
 <div id="navmenu" class="navmenu"><ul class="webnav"><li><a href="../../../index.html" title="Anar a l&#39;&iacute;ndex general">Inici</a></li><li><a href="../resum.html">Llenguatges de guions de servidor</a></li><li>Programació web de servidor</li></ul></div>
	<div id="content" lang="ca" class="hyphenate text">
     <article lang="ca" class="sheet">
        <h1><a id="programacio_web_de_servidor"> Programació web de servidor </a></h1>
    	
<p>
La programació web del servidor es pot realitzar fent servir diferents eines i tecnologies. PHP és un dels llenguatges més populars de programació web del servidor, generalment integrat dins de codi web codificat en <acronym title="HyperText Markup Language">HTML</acronym>. En les darreres versions de PHP es pot fer servir el paradigma d’orientació a objectes. 
</p>

<h2><a id="el_llenguatge_php" >El llenguatge PHP</a></h2>
<div class="level2">

<p>
El <strong>PHP</strong> és un llenguatge de programació obert que s’integra directament en pàgines <acronym title="HyperText Markup Language">HTML</acronym>. El seu ús ha esdevingut gairebé imprescindible en les pàgines que han d’utilitzar bases de dades o formularis.
</p>
<div class="iocnote"><div class="ioccontent">
<p>
Segons els motors principals de cerca a Internet, el PHP és el sisè llenguatge més popular, després del C, Java, Objective C, C++ i C#.
</p>
</div></div>
<p>
Rasmus Lerdorf és el creador del llenguatge PHP. El 1995 presenta la primera edició d’aquest llenguatge amb el nom de <em>Personal Home Page tools</em> amb llicència pública GNU. Per crear el PHP, Rasmus utilitza el codi de programació C.
</p>

<p>
Tot i que el PHP és un llenguatge ideat i creat per explotar tots els avantatges d’Internet, la seva fisonomia permet fer altres tasques potser no relacionades directament amb la xarxa de xarxes. Es podria afirmar que el PHP permet al programador fer tot tipus de programes sense dependre d’altres llenguatges.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Per utilitzar el PHP cal disposar d’un <strong>navegador</strong> web, un <strong>servidor</strong> web que suporti el PHP i instal·lar un <strong>motor</strong> PHP a la màquina en què es desenvoluparà el codi.
</p>
</div></div>
<p>
El PHP és compatible amb tots els navegadors web actuals (Firefox, Chrome, Safari, Internet Explorer i d’altres). Generalment, tots els proveïdors de serveis web suporten el PHP, però cal assegurar-se’n llegint les característiques del producte contractat.
</p>

</div>

<h3><a id="funcionament_del_llenguatge_php" >Funcionament del llenguatge PHP</a></h3>
<div class="level3">
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">HTML</p>
<p>
<em>Hypertext markup language</em>. És el llenguatge de marques que més es fa servir per construir pàgines web. L’extensió dels arxius <acronym title="HyperText Markup Language">HTML</acronym> pot ser <strong>.htm</strong> o <strong>.html</strong>.
</p>
</div></div>
<p>
El codi PHP que escriviu, l’haureu d’incrustar dins de codi <acronym title="HyperText Markup Language">HTML</acronym>, concretament dins les etiquetes <code>&lt;body&gt;</code> del document. Mitjançant unes marques l’<acronym title="HyperText Markup Language">HTML</acronym> no interpretarà el codi PHP, el qual, i mitjançant les mateixes marques, s’executarà en el servidor.
</p>

<p>
El codi següent és un exemple que mostra on es pot col·locar el codi PHP dins del codi <acronym title="HyperText Markup Language">HTML</acronym>:
</p>
<pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/html.html"><span class="kw2">html</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/head.html"><span class="kw2">head</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/title.html"><span class="kw2">title</span></a>&gt;</span>Exemple amb PHP<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/title.html"><span class="kw2">title</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/head.html"><span class="kw2">head</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/body.html"><span class="kw2">body</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="sc2">  <span class="sy0">//</span>Aquí és on incloureu el vostre codi en PHP</span></div></li><li class="li1"><div class="de1"><span class="sc2">?&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/body.html"><span class="kw2">body</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/html.html"><span class="kw2">html</span></a>&gt;</span></div></li></ol></pre>

<p>
El codi PHP s’executa en un servidor i mostra el resultat en un client. Visualitzareu els resultats amb un navegador web. En la <span class="figref"><a href="#Figura1x"><span>figura<span class=refId> Figura1x</span></span></a></span> podeu veure el funcionament del llenguatge PHP i com interactuen el servidor i la màquina d’usuari.
</p>
<div class="iocfigure"><a name="Figura1x"></a>
<p>
<figure>
<figcaption><span class="figuretitle">Figura</span>

Funcionament del llenguatge PHP

</figcaption><img src="../media/asxm09imgrefeta.png" alt="" /></figure>

</p>
</div>
</div>

<h3><a id="configuracio_del_llenguatge_php" >Configuració del llenguatge PHP</a></h3>
<div class="level3">

<p>
Quan arrenca el PHP es fa la lectura del fitxer <em>php.ini</em>. Aquest fitxer conté la configuració del PHP i es crea durant la instal·lació del PHP. És possible que necessiteu fer canvis en el fitxer de configuració, preneu la precaució de fer-ne una còpia de seguretat abans de fer aquestes modificacions.
</p>

<p>
Una inspecció visual del fitxer <em>php.ini</em> us servirà per comprendre’n el funcionament. Depenent del valor de les variables que conté aquest fitxer, el comportament del PHP variarà en la vostra màquina. Podeu comprovar que cada variable que forma part del fitxer està àmpliament comentada, amb comentaris que es marquen amb un punt i coma.
</p>

</div>

<h3><a id="eines_de_programacio_per_a_php" >Eines de programació per a PHP</a></h3>
<div class="level3">

<p>
El programador de codi PHP haurà de fer un exercici previ per escollir l’entorn de programació que li sigui més còmode. A causa del bon acolliment d’aquest llenguatge de programació són molts els programes de desenvolupament de codi que han anat sorgint en els últims anys.
</p>

<p>
<div class="iocfigurec">
<ul>
<li>
<img src="../media/asic5ud3_im5.png" class="imgB" title="Logo de NetBeans" alt="Logo de NetBeans" /></li><li><small>Logo de NetBeans</small></li>
</ul></div>

</p>

<p>
Com a desenvolupadors haureu de crear l’ambient de treball més adequat si voleu crear i produir codi de la millor manera possible. Escollir correctament l’entorn de desenvolupament integrat us serà de gran ajuda.
</p>

<p>
Per decidir l’eina de treball adequada haureu de tenir en compte diversos factors, com ara la facilitat d’ús, la capacitat d’integració, la possibilitat de treballar alhora amb altres llenguatges, el suport de l’eina, el desenvolupament del programari de l’eina, la possibilitat real de fer servir utilitats com repositoris i, sobretot, que vosaltres us trobeu còmodes treballant amb aquest entorn.
</p>
<div class="ioctextl"><div class="ioccontent"><p class="ioctitle"> Repositori</p>
<p>
Espai en què s’emmagatzema informació d’una manera centralitzada. Normalment, relacionem repositoris amb control de versions, el qual crea un registre dels canvis efectuats en fitxers, permet recuperar versions antigues i possibilita l’accés a les últimes modificacions. La importància de l’ús de repositoris i control de versions augmenta a mesura que el projecte de programació es fa més complex.
</p>
</div></div><div class="ioctext"><div class="ioccontent"><p class="ioctitle">Què és un IDE?</p>
<p>
Un entorn de desenvolupament integrat (<em>Integrated Development Environment</em>) és un programa que aglutina un conjunt d’eines de gran utilitat per al programador.
</p>
</div></div>
<p>
Abans de decidir quin entorn de programació fareu servir proveu-ne uns quants. Els programes que més es fan servir són el Komodo IDE, NetBeans, Eclipse, Adobe Dreamweaver o Aptana.
</p>

</div>

<h3><a id="sintaxi_del_llenguatge_php" >Sintaxi del llenguatge PHP</a></h3>
<div class="level3">

<p>
Si voleu que s’interpreti el vostre codi és imprescindible que encabiu el codi escrit en PHP entre dos delimitadors. Aquestes marques són <code>&lt;?php</code>, que la fareu servir per indicar l’inici de codi en llenguatge PHP, i <code>?&gt;</code>, que utilitzareu per marcar el final del vostre codi PHP.
</p>

<p>
Aquestes marques són les més genèriques i les més recomanades, però no les úniques que es poden emprar. Així, per marcar els blocs de codi PHP, també podreu fer servir <code>&lt;?</code> per indicar l’inici del codi, i <code>?&gt;</code> per marcar el final; ara bé, per poder fer servir aquestes marques, tingueu en compte que probablement hàgiu de modificar la configuració del PHP mitjançant el fitxer php.ini. 
</p>
<div class="iocnote"><div class="ioccontent">
<p>
L’XHTML i l’XML aconsegueixen nivells alts de compatibilitat entre diferents sistemes d’una manera molt senzilla i segura.
</p>
</div></div>
<p>
Els documents XHTML i XML necessiten la forma <code>&lt;?php ?&gt;</code> per interpretar la codificació PHP. Gran part de les pàgines web dissenyades avui dia fan servir aquests formats; per tant, si voleu que el vostre codi PHP s’interpreti correctament, feu servir aquestes marques.
</p>

</div>

<h4><a id="instruccions" >Instruccions</a></h4>
<div class="level4">

<p>
En PHP indicareu el final d’una instrucció amb punt i coma. Cada vegada que es detecti un punt i coma s’interpretarà el codi inserit fins a aquell punt.
</p>

<p>
El codi següent és un exemple d’instrucció. L’ordre <code>echo</code> mostrarà en el vostre navegador el text escrit entre cometes dobles.
</p>
<div class="iocnote"><div class="ioccontent">
<p>
Podeu fer servir cometes dobles o simples per indicar la sentència, més endavant veureu les conseqüències que se’n deriven.
</p>
</div></div><pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st0">&quot;Aquí teniu una instrucció.&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
Les seqüències de control de codi PHP són les úniques que no finalitzen amb punt i coma.
</p>

<p>
A continuació, teniu la manera més correcta d’escriure dues instruccions. En aquest cas apareix <em>&lt;br&gt;.</em> Aquesta és una etiqueta bàsica de l’<acronym title="HyperText Markup Language">HTML</acronym> que provoca un salt de línia.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st0">&quot;Aquí teniu una instrucció.&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st0">&quot;&lt;br&gt;i aquí una altra instrucció.&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

</div>

<h4><a id="comentaris" >Comentaris</a></h4>
<div class="level4">

<p>
Amb l’objectiu de crear un codi més entenedor utilitzareu comentaris. Els comentaris en PHP els podreu incloure mitjançant:
</p>
<ul>
<li class="level1"><div class="li"> Dues barres (//) o un coixinet (#) si voleu comentar una línia</div>
</li>
<li class="level1"><div class="li"> Una barra i un asterisc (/*) per indicar l’inici de comentari, i un asterisc i una barra per indicar el final de comentari si voleu comentar més d’una línia(/*).</div>
</li>
</ul>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="co1">//Si voleu comentar una línia ho podeu fer d'aquesta manera... </span></div></li><li class="li1"><div class="de1"><span class="co2">#...o bé d'aquesta altra. </span></div></li><li class="li1"><div class="de1"><span class="coMULTI">/* Però si necessiteu comentar </span></div></li><li class="li1"><div class="de1"><span class="coMULTI">més línies aquesta és la millor </span></div></li><li class="li1"><div class="de1"><span class="coMULTI">manera de fer-ho! */</span> </div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>
<div class="iocnote"><div class="ioccontent">
<p>
No poseu comentaris aniuats, us causaran problemes.
</p>
</div></div>
<p>
És recomanable incloure comentaris en el vostre codi. És important per ajudar-vos en la comprensió del codi i també per recordar els motius del disseny del codi, però també és important per fer-lo més entenedor a la resta de programadors.
</p>

</div>

<h3><a id="tipus_de_dades_del_llenguatge_php" >Tipus de dades del llenguatge PHP</a></h3>
<div class="level3">

<p>
El PHP és un llenguatge de programació que no obliga a declarar prèviament el nom de les variables que s’utilitzaran ni el seu tipus (és diu que és un llenguatge sense tipus o no tipat). Ara bé, tot i que existeixen els tipus de dades en PHP aquests no es comproven. Una variable pot emmagatzemar dades del tipus enter, decimal, lògic, cadenes de text, col·leccions o objectes. Així si emmagatzemeu a una variable una cadena de text i més endavant li assigneu una variable entera, no donarà error. 
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Programació orientada a objectes i PHP</p>
<p>
Des de la versió 5 de PHP, aquest es pot fer servir com llenguatge orientat a objectes, tot i que el programador no està obligat a fer servir aquesta metodologia de programació.
</p>
</div></div>
<p>
Quan treballeu amb objectes aneu amb compte, ja que les diferents versions del PHP no es comporten igual amb aquest tipus de dades.
</p>

</div>

<h3><a id="operadors" >Operadors</a></h3>
<div class="level3">

<p>
Els operadors us permetran fer accions dins el codi. Podreu canviar i assignar valors, canviar l’adreça del codi, condicionar l’execució de blocs de codi i, en definitiva, dotar de la complexitat necessària els vostres programes per aconseguir un objectiu.
</p>

<p>
Els operadors es poden agrupar en tres blocs segons el nombre de valors sobre els quals s’actua.
</p>
<ol>
<li class="level1"><div class="li"> L’<strong>operador unari</strong> opera sobre un valor i el que pot fer en aquest valor és negar-lo, incrementar-lo o decrementar-lo, entre altres coses.</div>
</li>
<li class="level1"><div class="li"> L’<strong>operador binari</strong> opera sobre dos valors i permet sumar-los, restar-los o comparar-los.</div>
</li>
<li class="level1"><div class="li"> L’<strong>operador ternari</strong> permet escollir entre dues expressions en funció d’una altra.</div>
</li>
</ol>

<p>
Teniu en compte la precedència dels operadors.
</p>

<p>
En la <span class="tabref"><a href="#Taula1b"><span>taula<span class=refId> Taula1b</span></span></a></span> apareixen els <strong>operadors aritmètics</strong> de què disposeu. Teniu en compte que la divisió retornarà un valor en coma flotant si el resultat de la divisió no és exacte.
</p>
<div class="ioctable"><div class="titletable"><a name="Taula1b"><span>Taula</span></a>

 Operadors aritmètics

</div><div class="table"><table class="inline">
	<tr class="row0">
		<th class="col0"> Operador </th><th class="col1"> Nom </th><th class="col2"> Acció </th><th class="col3"> Tipus d’operador </th>
	</tr>
	<tr class="row1">
		<td class="col0"> -$valor </td><td class="col1"> Negació </td><td class="col2"> Oposat de $valor </td><td class="col3"> Operadors d’aritmètica </td>
	</tr>
	<tr class="row2">
		<td class="col0"> $valor + $valorB </td><td class="col1"> Addició </td><td class="col2"> Suma de $valor i $valorB </td><td class="col3"> Operadors d’aritmètica </td>
	</tr>
	<tr class="row3">
		<td class="col0"> $valor - $valorB </td><td class="col1"> Subtracció </td><td class="col2"> Diferència entre $valor i $valorB </td><td class="col3"> Operadors d’aritmètica </td>
	</tr>
	<tr class="row4">
		<td class="col0"> $valor * $valorB </td><td class="col1"> Multiplicació </td><td class="col2"> Producte de $valor i $valorB </td><td class="col3"> Operadors d’aritmètica </td>
	</tr>
	<tr class="row5">
		<td class="col0"> $valor / $ valorB </td><td class="col1"> Divisió </td><td class="col2"> Quocient de $valor i $valorB </td><td class="col3"> Operadors d’aritmètica </td>
	</tr>
	<tr class="row6">
		<td class="col0"> $valor % $valorB </td><td class="col1"> Mòdul </td><td class="col2"> Resta de $valor dividit per $valorB </td><td class="col3"> Operadors d’aritmètica </td>
	</tr>
</table></div>
</div>
<p>
En la <span class="tabref"><a href="#Taula2b"><span>taula<span class=refId> Taula2b</span></span></a></span> es presenten els operadors d’assignació. L’operador bàsic d’assignació és l’igual. Amb l’operador igual la variable de l’esquerra rep el valor de l’expressió de la dreta.
</p>
<div class="ioctable"><div class="titletable"><a name="Taula2b"><span>Taula</span></a>

 Operadors d’assignació

</div><div class="table"><table class="inline">
	<tr class="row0">
		<th class="col0"> Operador </th><th class="col1"> Nom </th><th class="col2"> Acció </th><th class="col3"> Tipus d’operador </th>
	</tr>
	<tr class="row1">
		<td class="col0"> $valor = $valorB </td><td class="col1"> Assignació </td><td class="col2"> Assignar el contingut de $valorB a $valor </td><td class="col3"> Operadors d’assignació </td>
	</tr>
	<tr class="row2">
		<td class="col0"> $valor += $valorB </td><td class="col1"> Assignació </td><td class="col2"> Sumar el contingut de $valorB i $valor i emmagatzemar-lo a $valor </td><td class="col3"> Operadors d’assignació </td>
	</tr>
	<tr class="row3">
		<td class="col0"> $valor.= “text” </td><td class="col1"> Assignació </td><td class="col2"> Concatenar la cadena de la dreta a la de l’esquerra </td><td class="col3"> Operadors d’assignació </td>
	</tr>
</table></div>
</div>
<p>
Per activar o desactivar bits individuals d’un enter fareu servir els <strong>operadors de bit</strong>. En la <span class="tabref"><a href="#Taula3b"><span>taula<span class=refId> Taula3b</span></span></a></span> es mostren els operadors de bit de què disposeu.
</p>
<div class="ioctable"><div class="titletable"><a name="Taula3b"><span>Taula</span></a>

 Operadors de bit

</div><div class="table"><table class="inline">
	<tr class="row0">
		<th class="col0"> Operador </th><th class="col1"> Nom </th><th class="col2"> Acció </th><th class="col3"> Tipus d’operador </th>
	</tr>
	<tr class="row1">
		<td class="col0"> $valor &amp; $valorB </td><td class="col1"> I </td><td class="col2"> Els bits que són actius tant en $valor com en $valorB són activats. </td><td class="col3"> Operadors de bit </td>
	</tr>
	<tr class="row2">
		<td class="col0"> $valor | $valorB </td><td class="col1"> O </td><td class="col2"> Els bits que són actius en $valor o en $valorB són activats. </td><td class="col3"> Operadors de bit </td>
	</tr>
	<tr class="row3">
		<td class="col0"> $valor ^ $valorB </td><td class="col1"> XOR </td><td class="col2"> Els bits que són actius en $valor o $valorB, però no en tots dos, són activats. </td><td class="col3"> Operadors de bit </td>
	</tr>
	<tr class="row4">
		<td class="col0"> ~ $valor </td><td class="col1"> No </td><td class="col2"> Es canvia l’estat dels bits. </td><td class="col3"> Operadors de bit </td>
	</tr>
	<tr class="row5">
		<td class="col0"> $valor «$valorB </td><td class="col1"> Desplaçament a l’esquerra </td><td class="col2"> Desplaça els bits de $valor, $valorB posicions a l’esquerra. </td><td class="col3"> Operadors de bit </td>
	</tr>
	<tr class="row6">
		<td class="col0"> $valor »$valorB </td><td class="col1"> Desplaçament a la dreta </td><td class="col2"> Desplaça els bits de $valor, $valorB posicions a la dreta. </td><td class="col3"> Operadors de bit </td>
	</tr>
</table></div>
</div>
<p>
Per comparar valors el llenguatge PHP disposa d’<strong>operadors de comparació</strong>. En la <span class="tabref"><a href="#Taula4b"><span>taula<span class=refId> Taula4b</span></span></a></span> teniu els casos possibles que podeu utilitzar.
</p>
<div class="ioctable"><div class="titletable"><a name="Taula4b"><span>Taula</span></a>

 Operadors de comparació

</div><div class="table"><table class="inline">
	<tr class="row0">
		<th class="col0"> Operador </th><th class="col1"> Nom </th><th class="col2"> Acció </th><th class="col3"> Tipus d’operador </th>
	</tr>
	<tr class="row1">
		<td class="col0"> $valor == $valorB </td><td class="col1"> Igual </td><td class="col2"> TRUE si $valor és igual a $valorB. </td><td class="col3"> Operadors de comparació </td>
	</tr>
	<tr class="row2">
		<td class="col0"> $ valor === $ valorB </td><td class="col1"> Idèntic </td><td class="col2"> TRUE si $valor és igual a $valorB i són del mateix tipus. </td><td class="col3"> Operadors de comparació </td>
	</tr>
	<tr class="row3">
		<td class="col0"> $ valor!= $ valorB </td><td class="col1"> Diferent </td><td class="col2"> TRUE si $valor no és igual a $valorB. </td><td class="col3"> Operadors de comparació </td>
	</tr>
	<tr class="row4">
		<td class="col0"> $ valor &lt;&gt; $ valorB </td><td class="col1"> Diferent </td><td class="col2"> TRUE si $valor no és igual a $valorB. </td><td class="col3"> Operadors de comparació </td>
	</tr>
	<tr class="row5">
		<td class="col0"> $ valor!== $ valorB </td><td class="col1"> No idèntic </td><td class="col2"> TRUE si $valor no és igual a $valorB o no són del mateix tipus. </td><td class="col3"> Operadors de comparació </td>
	</tr>
	<tr class="row6">
		<td class="col0"> $ valor &lt; $ valorB </td><td class="col1"> Més petit que </td><td class="col2"> TRUE si $ valor és més petit que $ valorB. </td><td class="col3"> Operadors de comparació </td>
	</tr>
	<tr class="row7">
		<td class="col0"> $ valor &gt; $ valorB </td><td class="col1"> Més gran que </td><td class="col2"> TRUE si $ valor és més gran que $ valorB. </td><td class="col3"> Operadors de comparació </td>
	</tr>
	<tr class="row8">
		<td class="col0"> $ valor &lt;= $ valorB </td><td class="col1"> Més petit o igual que </td><td class="col2"> TRUE si $ valor és més petit o igual que $ valorB. </td><td class="col3"> Operadors de comparació </td>
	</tr>
	<tr class="row9">
		<td class="col0"> $ valor &gt;= $ valorB </td><td class="col1"> Més gran o igual que </td><td class="col2"> TRUE si $ valor és més gran o igual que $ valorB. </td><td class="col3"> Operadors de comparació </td>
	</tr>
</table></div>
</div>
<p>
En la <span class="tabref"><a href="#Taula5b"><span>taula<span class=refId> Taula5b</span></span></a></span> teniu els <strong>operadors d’increment i decrement</strong>, operadors que resulten de gran utilitat i simplifiquen força el codi.
</p>
<div class="ioctable"><div class="titletable"><a name="Taula5b"><span>Taula</span></a>

 Operadors d’increment/decrement

</div><div class="table"><table class="inline">
	<tr class="row0">
		<th class="col0"> Operador </th><th class="col1"> Nom </th><th class="col2"> Acció </th><th class="col3"> Tipus d’operador </th>
	</tr>
	<tr class="row1">
		<td class="col0"> ++$valor </td><td class="col1"> Preincrement </td><td class="col2"> Incrementa $valor una unitat, i després retorna $valor. </td><td class="col3"> Operadors d’increment/decrement </td>
	</tr>
	<tr class="row2">
		<td class="col0"> $valor ++ </td><td class="col1"> Postincrement </td><td class="col2"> Retorna $valor i incrementa $valor una unitat. </td><td class="col3"> Operadors d’increment/decrement </td>
	</tr>
	<tr class="row3">
		<td class="col0"> --$valor </td><td class="col1"> Predecrement </td><td class="col2"> Decrementa $valor una unitat i retorna $valor. </td><td class="col3"> Operadors d’increment/decrement </td>
	</tr>
	<tr class="row4">
		<td class="col0"> $valor--</td><td class="col1"> Postdecrement </td><td class="col2"> Retorna $valor i decrementa $valor una unitat. </td><td class="col3"> Operadors d’increment/decrement </td>
	</tr>
</table></div>
</div>
<p>
El PHP us proporciona <strong>operadors de lògica</strong>. En la <span class="tabref"><a href="#Taula6b"><span>taula<span class=refId> Taula6b</span></span></a></span> teniu les possibilitats de què disposeu. Els operadors <em>I</em> i <em>O</em> estan repetits perquè poden operar amb precedències diferents.
</p>
<div class="ioctable"><div class="titletable"><a name="Taula6b"><span>Taula</span></a>

 Operadors de lògica

</div><div class="table"><table class="inline">
	<tr class="row0">
		<th class="col0"> Operador </th><th class="col1"> Nom </th><th class="col2"> Acció </th><th class="col3"> Tipus d’operador </th>
	</tr>
	<tr class="row1">
		<td class="col0"> $valor and $valorB </td><td class="col1"> I </td><td class="col2"> TRUE si $valor i $valorB són TRUE. </td><td class="col3"> Operadors de lògica </td>
	</tr>
	<tr class="row2">
		<td class="col0"> $valor or $valorB </td><td class="col1"> O </td><td class="col2"> TRUE si $valor o $valorB són TRUE. </td><td class="col3"> Operadors de lògica </td>
	</tr>
	<tr class="row3">
		<td class="col0"> $valor xor $valorB </td><td class="col1"> XOR </td><td class="col2"> TRUE si $valor o $valorB són TRUE, però no tots dos alhora. </td><td class="col3"> Operadors de lògica </td>
	</tr>
	<tr class="row4">
		<td class="col0"> ! $valor </td><td class="col1"> No </td><td class="col2"> Inverteix el contingut de $valor </td><td class="col3"> Operadors de lògica </td>
	</tr>
	<tr class="row5">
		<td class="col0"> $valor &amp;&amp; $valorB </td><td class="col1"> I </td><td class="col2"> TRUE si $valor i $valorB són TRUE. </td><td class="col3"> Operadors de lògica </td>
	</tr>
	<tr class="row6">
		<td class="col0"> $valor || $valorB </td><td class="col1"> O </td><td class="col2"> TRUE si $valor o $valorB són TRUE. </td><td class="col3"> Operadors de lògica </td>
	</tr>
</table></div>
</div>
<p>
Les matrius poden rebre l’acció d’operadors especials. En la <span class="tabref"><a href="#Taula7b"><span>taula<span class=refId> Taula7b</span></span></a></span> teniu els <strong>operadors de matrius</strong> que podeu utilitzar.
</p>
<div class="ioctable"><div class="titletable"><a name="Taula7b"><span>Taula</span></a>

 Operadors de matrius

</div><div class="table"><table class="inline">
	<tr class="row0">
		<th class="col0"> Operador </th><th class="col1"> Nom </th><th class="col2"> Acció </th><th class="col3"> Tipus d’operador </th>
	</tr>
	<tr class="row1">
		<td class="col0"> $ valor + $ valorB </td><td class="col1"> Unió </td><td class="col2"> Unió de $ valor i $ valorB. </td><td class="col3"> Operadors de matrius </td>
	</tr>
	<tr class="row2">
		<td class="col0"> $ valor == $ valorB </td><td class="col1"> Igualtat </td><td class="col2"> TRUE si $valor i $valorB tenen les mateixes parelles clau/valor. </td><td class="col3"> Operadors de matrius </td>
	</tr>
	<tr class="row3">
		<td class="col0"> $ valor === $ valorB </td><td class="col1"> Identitat </td><td class="col2"> TRUE si $valor i $valorB tenen les mateixes parelles clau/valor en el mateix ordre i dels mateixos tipus. </td><td class="col3"> Operadors de matrius </td>
	</tr>
	<tr class="row4">
		<td class="col0"> $ valor!= $ valorB </td><td class="col1"> No-identitat </td><td class="col2"> TRUE si $valor no és igual a $valorB. </td><td class="col3"> Operadors de matrius </td>
	</tr>
	<tr class="row5">
		<td class="col0"> $ valor &lt;&gt; $ valorB </td><td class="col1"> No-identitat </td><td class="col2"> TRUE si $valor no és igual a $valorB. </td><td class="col3"> Operadors de matrius </td>
	</tr>
	<tr class="row6">
		<td class="col0"> $ valor!== $ valorB </td><td class="col1"> No-identitat </td><td class="col2"> TRUE si $valor no és idèntic a $valorB. </td><td class="col3"> Operadors de matrius </td>
	</tr>
</table></div>
</div>
</div>

<h3><a id="cadenes_i_matrius_en_php" >Cadenes i matrius en PHP</a></h3>
<div class="level3">

<p>
Una cadena de text és una successió de caràcters. El tipus al qual pertanyen les cadenes és l’<em>string</em>, el qual no té inicialment suport per a Unicode, problema que se solucionarà amb funcions predefinides del mateix llenguatge.
</p>

<p>
En PHP les cadenes tenen una longitud màxima marcada per la memòria de la màquina en què s’executi el codi. Podreu especificar les vostres cadenes de quatre maneres diferents:
</p>

<p>
<strong>1.</strong> <strong>Amb cometes simples</strong>. Es considera que aquesta és la manera més senzilla d’indicar una cadena, però haureu de tenir en compte que no s’interpretaran les variables i les seqüències de sortida. Així, en l’exemple següent, no es mostrarà el valor de la variable <em>$nom</em> ni tampoc es farà el salt de línia amb <em>\n</em>. Fixeu-vos, però, que sí que s’interpreta el salt de línia marcat amb l’etiqueta d’<acronym title="HyperText Markup Language">HTML</acronym> <em>&lt;br&gt;</em>.
</p>
<div class="iocnote"><div class="ioccontent">
<p>
Podeu anar provant els diferents codis dels materials simplement afegint el codi dins d’un fitxer amb extensió <code>.php</code> que estigui dins de la carpeta del servidor web i obrir-lo des d’un navegador. 
</p>
</div></div><pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$nom</span><span class="sy0">=</span><span class="st_h">'Abeeku'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st_h">'Hola, company!&lt;br&gt;</span></div></li><li class="li1"><div class="de1"><span class="st_h">Em dic $nom.\n</span></div></li><li class="li1"><div class="de1"><span class="st_h">Què et sembla aquest crèdit?'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
<strong>2. Amb cometes dobles</strong>. Fent servir cometes dobles per marcar cadenes podreu mostrar el valor de les variables. El text inclòs entre cometes s’interpretarà amb l’<acronym title="HyperText Markup Language">HTML</acronym>, per tant, seran les etiquetes d’<acronym title="HyperText Markup Language">HTML</acronym> les que es podran interpretar. Escrivim un text que contingui una variable i una seqüència d’escapament en l’exemple següent. Comprovareu que es mostrarà el contingut de la variable.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Cometes dobles</p>
<p>
Vigileu amb les cometes dobles ja que, de vegades, quan copiem el codi i l’enganxem a l’editor es copia un caràcter de cometes diferent. Per exemple, si copieu un codi des del Microsoft Office, tindreu un caràcter de cometes diferent que no serà interpretat pel PHP. 
</p>
</div></div><pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$nom</span><span class="sy0">=</span><span class="st_h">'Abeeku'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st0">&quot;Hola, company!&lt;br&gt;</span></div></li><li class="li1"><div class="de1"><span class="st0">Em dic <span class="es4">$nom</span>.<span class="es1">\n</span></span></div></li><li class="li1"><div class="de1"><span class="st0">Què et sembla aquest crèdit?&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
<strong>3. Utilitzant sintaxi <em>heredoc</em></strong>. Quan necessiteu escriure un text molt llarg és recomanable que feu servir aquesta forma. Utilitzant aquesta sintaxi millorareu la velocitat del codi i facilitareu la lectura. En l’exemple següent podeu veure com s’utilitza la sintaxi <em>heredoc</em>. La marca que es fa servir per identificar el text és <strong>&lt;&lt;&lt;</strong> seguida del nom que hi vulguem donar, en aquest cas FRASE, i a continuació la cadena. Per indicar la finalització d’introducció de text fareu servir el nom identificatiu que heu posat abans seguit de punt i coma (<strong>;</strong>). Heu de tenir en compte que el nom que doneu al bloc de text no es pot trobar dins el mateix text i sempre ha d’estar escrit al començament de la línia.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$nom</span><span class="sy0">=</span><span class="st_h">'Abeeku'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$Familia</span><span class="sy0">=</span><span class="st_h">'Informàtica'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="co3">&lt;&lt;&lt;FRASE</span></div></li><li class="li1"><div class="de1"><span class="co3">Hola!&lt;br&gt;</span></div></li><li class="li1"><div class="de1"><span class="co3">Em dic $nom.</span></div></li><li class="li1"><div class="de1"><span class="co3">Estudio $Familia.</span></div></li><li class="li1"><div class="de1"><span class="co3">FRASE</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
<strong>4. Utilitzant sintaxi <em>nowdoc</em></strong>. A partir de la versió 5.3.0 del PHP s’inclou el suport per a <em>nowdoc</em>, per tant, no el feu servir si teniu una versió anterior. Aquesta sintaxi resulta molt útil quan heu de plasmar un bloc llarg de text que no necessita ser processat. És un mètode de treball amb cadenes molt ràpid i àgil. Per fer servir sintaxi nowdoc heu d’encabir el text entre dues marques especials. La marca d’inici és <strong>&lt;&lt;&lt;</strong> seguida immediatament del nom que voleu posar escrit entre cometes simples. Per tancar el bloc de codi heu de tornar a escriure el nom identificatiu, però ara sense les cometes simples seguit de punt i coma (<strong>;</strong>). El nom que utilitzeu per marcar el bloc de text no ha d’aparèixer en el mateix text. En l’exemple següent, el valor de les variables no apareixeria en el navegador.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$nom</span><span class="sy0">=</span><span class="st_h">'Abeeku'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$Familia</span><span class="sy0">=</span><span class="st_h">'Informàtica'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="co3">&lt;&lt;&lt;'FRASE'</span></div></li><li class="li1"><div class="de1"><span class="co3">Hola!&lt;br&gt;</span></div></li><li class="li1"><div class="de1"><span class="co3">Em dic $nom.</span></div></li><li class="li1"><div class="de1"><span class="co3">Estudio $Familia.</span></div></li><li class="li1"><div class="de1"><span class="co3">FRASE</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

</div>

<h4><a id="matrius" >Matrius</a></h4>
<div class="level4">

<p>
Les matrius resulten molt útils en l’àmbit de treball del llenguatge PHP. De fet, en tots els llenguatges de programació les matrius són una peça fonamental, sense la qual seria molt difícil resoldre determinades situacions.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Una <strong>matriu</strong> és una col·lecció de valors. Poden ser unidimensionals, bidimensionals i multidimensionals.
</p>
</div></div><div class="ioctextl"><div class="ioccontent"><p class="ioctitle"> Vectors o matrius</p>
<p>
Tot i que es parli de manera genèrica de matrius cal aclarir que les matrius són realment <em>arrays</em> bidimensionals. Els <em>arrays</em> unidimensionals són els vectors i els <em>arrays</em> multidimensionals són <em>arrays</em> de més de dues dimensions. Durant el desenvolupament de la matèria es treballarà generalment amb <em>arrays</em> d’una dimensió.
</p>
</div></div>
<p>
Per accedir als valors que els <em>arrays</em> contenen cal utilitzar el delimitador <code>[ ]</code>. En l’exemple següent es mostra com es crea un vector:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="re0">$credit</span><span class="br0">&#91;</span><span class="nu0">4</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="st0">&quot;Fonaments de Programació&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$credit</span><span class="br0">&#91;</span><span class="nu0">5</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="st0">&quot;Implantació d'Aplicacions Web&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$credit</span><span class="br0">&#91;</span><span class="nu0">10</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="st0">&quot;Síntesi&quot;</span><span class="sy0">;</span></div></li></ol></pre>

<p>
En aquest sentit PHP és un llenguatge més flexible i menys estricte i estructurat, que d’altres com ara C o Java. No cal que definiu l’<em>array</em> prèviament. 
Heu creat un vector, per tant, d’una dimensió que conté alguns dels noms de crèdits del cicle que esteu estudiant. Tot i que no s’ha utilitzat, el vector comença en la posició 0. Per poder-vos moure utilitzareu un subíndex indicat entre <code>[ ]</code>.
</p>

<p>
L’<em>array</em> pot créixer dinàmicament, per exemple, si voleu adherir el crèdit 7 només cal que feu:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="re0">$credit</span><span class="br0">&#91;</span><span class="nu0">7</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="st0">&quot;Relacions en l'Àmbit de Treball&quot;</span><span class="sy0">;</span></div></li></ol></pre>

<p>
Si no utilitzeu un subíndex per treballar amb el vector, aquest el generarà automàticament. En l’exemple següent es crea un vector que contindrà els dies de la setmana i els traurà per pantalla:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$dies</span><span class="br0">&#91;</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="st0">&quot;Dilluns&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$dies</span><span class="br0">&#91;</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="st0">&quot;Dimarts&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$dies</span><span class="br0">&#91;</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="st0">&quot;Dimecres&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$dies</span><span class="br0">&#91;</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="st0">&quot;Dijous&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$dies</span><span class="br0">&#91;</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="st0">&quot;Divendres&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$dies</span><span class="br0">&#91;</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="st0">&quot;Dissabte&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$dies</span><span class="br0">&#91;</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="st0">&quot;Diumenge&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">for</span><span class="br0">&#40;</span><span class="re0">$i</span><span class="sy0">=</span><span class="nu0">0</span> <span class="sy0">;</span> <span class="re0">$i</span><span class="sy0">&lt;</span><a href="http://www.php.net/count"><span class="kw3">count</span></a><span class="br0">&#40;</span><span class="re0">$dies</span><span class="br0">&#41;</span> <span class="sy0">;</span> <span class="re0">$i</span><span class="sy0">++</span><span class="br0">&#41;</span> </div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span> </div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span> <span class="re0">$dies</span><span class="br0">&#91;</span><span class="re0">$i</span><span class="br0">&#93;</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span> <span class="st0">&quot;&lt;br&gt;&quot;</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>
<div class="iocnote"><div class="ioccontent">
<p>
<em>Count</em> és una funció que retorna la longitud del vector.
</p>
</div></div>
</div>

<h4><a id="matrius_associatives" >Matrius associatives</a></h4>
<div class="level4">

<p>
Les matrius associatives permeten al programador una flexibilitat i velocitat en la generació de codi molt importants. En PHP les matrius associatives s’han convertit en una eina potent de la qual sempre es depèn.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Una <strong>matriu associativa</strong> és una matriu que permet accedir als valors que emmagatzema mitjançant un subíndex de tipus cadena. És a dir, és un <em>array</em> en el qual les posicions es poden especificar per <em>strings</em> (en comptes dels índexs). 
</p>
</div></div>
<p>
En l’exemple següent es crea la fitxa d’un alumne sense utilitzar una matriu associativa:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="re0">$dades</span><span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="st0">&quot;Omar&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$dades</span><span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="st0">&quot;12345678A&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$dades</span><span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="st0">&quot;1956&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$dades</span><span class="br0">&#91;</span><span class="nu0">3</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="st0">&quot;ASIX&quot;</span><span class="sy0">;</span></div></li></ol></pre>

<p>
Segons l’exemple anterior, si voleu recuperar alguna dada haureu de recordar el subíndex que us retornarà el valor que necessiteu; per exemple, per mostrar el DNI haureu d’escriure:
</p>
<div class="iocnote"><div class="ioccontent">
<p>
Les matrius associatives les utilitzareu moltíssim quan treballeu amb variables predefinides.
</p>
</div></div><pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="re0">$dades</span><span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="sy0">;</span></div></li></ol></pre>

<p>
En les matrius associatives tot és més fàcil. L’exemple següent mostra com es pot crear una fitxa personal i treure el DNI per pantalla:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="re0">$dades</span><span class="br0">&#91;</span><span class="st_h">'nom'</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="st0">&quot;Omar&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$dades</span><span class="br0">&#91;</span><span class="st_h">'dni'</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="st0">&quot;12345678A&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$dades</span><span class="br0">&#91;</span><span class="st_h">'naixement'</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="st0">&quot;1956&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$dades</span><span class="br0">&#91;</span><span class="st_h">'cicle'</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="st0">&quot;ASIX&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="re0">$dades</span><span class="br0">&#91;</span><span class="st_h">'dni'</span><span class="br0">&#93;</span><span class="sy0">;</span></div></li></ol></pre>

<p>
Tal com es pot veure és molt més fàcil recordar l’índex d’una posició per un nom que no per un número.
</p>

<p>
Hi ha una altra manera de generar matrius associatives. L’exemple següent té un resultat idèntic a l’anterior:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="re0">$dades</span><span class="sy0">=</span><a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">&#40;</span><span class="st_h">'nom'</span><span class="sy0">=&gt;</span><span class="st0">&quot;Omar&quot;</span><span class="sy0">,</span></div></li><li class="li1"><div class="de1">          <span class="st_h">'dni'</span><span class="sy0">=&gt;</span><span class="st0">&quot;12345678A&quot;</span><span class="sy0">,</span></div></li><li class="li1"><div class="de1">          <span class="st_h">'naixement'</span><span class="sy0">=&gt;</span><span class="st0">&quot;1956&quot;</span><span class="sy0">,</span></div></li><li class="li1"><div class="de1">          <span class="st_h">'cicle'</span><span class="sy0">=&gt;</span><span class="st0">&quot;ASIX&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li></ol></pre>

</div>

<h3><a id="variables" >Variables</a></h3>
<div class="level3">

<p>
El PHP és un llenguatge que garanteix dinamisme a les vostres pàgines web. Poder fer que determinats valors controlats per vosaltres canviïn en funció del codi es tradueix en un abandonament de la rigidesa del codi.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Una <strong>variable</strong> és un identificador al qual podreu assignar un valor, valor que podrà canviar al llarg del temps.
</p>
</div></div>
<p>
Per representar una variable caldrà escriure el símbol del dòlar seguit pel nom que vulgueu posar. En el moment de donar nom a una variable heu de tenir en compte que es diferencien majúscules i minúscules i que haurà de començar amb una lletra o caràcter de subratllat.
</p>

<p>
En PHP, a diferència de molts altres llenguatges, no cal declarar una variable abans d’utilitzar-la. El símbol del dòlar és el que marca que es tracta d’una variable.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$Nom</span><span class="sy0">=</span><span class="st_h">'Essien'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$Familia</span><span class="sy0">=</span><span class="st_h">'Informàtica'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$Cicle</span><span class="sy0">=</span><span class="st0">&quot;CFGS Administració de Sistemes Informàtics en la Xarxa&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$Modul</span> <span class="sy0">=</span> <span class="st0">&quot;Implantació d'Aplicacions Web&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$Durada</span><span class="sy0">=</span> <span class="nu0">180</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st0">&quot;Hola <span class="es4">$nom</span>!&lt;br&gt;</span></div></li><li class="li1"><div class="de1"><span class="st0">Benvingut als estudis d'<span class="es4">$Familia</span>!!!&lt;br&gt;</span></div></li><li class="li1"><div class="de1"><span class="st0">Cicle: <span class="es4">$Cicle</span>&lt;br&gt;</span></div></li><li class="li1"><div class="de1"><span class="st0">Mòdul: <span class="es4">$Modul</span>&lt;br&gt;</span></div></li><li class="li1"><div class="de1"><span class="st0">Durada: <span class="es4">$Durada</span> hores&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
Com podeu veure, les variables poden adquirir qualsevol dels tipus suportats, i la variable <em>$Durada</em> emmagatzema l’enter 180, mentre que la resta de variables emmagatzemaran cadenes.
</p>

<p>
Les variables s’assignen per valor per defecte, però si voleu assignar un valor per referència ho haureu d’indicar fent servir el símbol <em>&amp;</em> tot just davant de la variable.
</p>

</div>

<h3><a id="estructures_de_control_i_sentencies" >Estructures de control i sentències</a></h3>
<div class="level3">

<p>
Quan comenceu a analitzar un problema i inicieu el procés de plasmar en un paper allò que us passa pel cap, de seguida us adoneu que necessiteu més eines, amb les sentències no en teniu prou per resoldre el problema.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Les <strong>estructures de control</strong> proporcionen dinamisme al vostre codi, i us brinden l’oportunitat d’indicar quines accions podeu prendre en determinades situacions.
</p>
</div></div>
<p>
El PHP us permet utilitzar un ampli ventall d’estructures de control, les quals són comunes en la gran majoria de llenguatges de programació. Si teniu més d’una sentència per executar dins una estructura, les haureu d’agrupar entre claus. Si només heu d’executar una sentència dins les estructures, l’ús de les claus és opcional.
</p>

</div>

<h4><a id="estructura_de_controlif_else_elseif" >Estructura de control: if, else, elseif</a></h4>
<div class="level4">

<p>
Mitjançant l’estructura <em>if</em> podreu condicionar l’execució d’un codi. En cas que la condició que s’analitza sigui certa, s’executarà un bloc de codi indicat. En la <span class="figref"><a href="#Figura 2"><span>figura<span class=refId> Figura 2</span></span></a></span> podeu veure el diagrama d’aquesta estructura.
</p>
<div class="iocfigure"><a name="Figura 2"></a>
<p>
<figure>
<figcaption><span class="figuretitle">Figura</span>

Estructura if else

</figcaption><img src="../media/asic5ud3_im6.png" alt="" /></figure>

</p>
</div>
<p>
En el cas següent es condiciona l’execució d’un bloc de codi en funció del valor de la variable <em>$nom</em>. Si <em>$nom</em> és igual a <em>Rashid</em> s’executarà el codi que hi ha entre les claus.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$nom</span><span class="sy0">=</span><span class="st_h">'Rashid'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">if</span><span class="br0">&#40;</span><span class="re0">$nom</span><span class="sy0">==</span><span class="st_h">'Rashid'</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span><span class="st0">&quot;Estàs dins el codi per que es complia la condició&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
De vegades, resulta molt útil controlar els casos en què no es compleix la condició donada i provocar que s’executi un codi alternatiu.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$ampolla</span><span class="sy0">=</span><span class="st_h">'buida'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">if</span><span class="br0">&#40;</span><span class="re0">$ampolla</span><span class="sy0">==</span><span class="st_h">'plena'</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span> <span class="st0">&quot;L'ampolla és plena&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="kw1">else</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span> <span class="st0">&quot;L'ampolla és buida&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
L’estructura <em>if</em> us pot donar més alternatives a l’hora de crear condicionants en el vostre codi. Per exemple, davant l’execució d’un codi alternatiu podeu provocar el compliment d’una condició.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$nom</span><span class="sy0">=</span><span class="st_h">'Nafisa'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">if</span><span class="br0">&#40;</span><span class="re0">$nom</span><span class="sy0">==</span><span class="st_h">'Nafisa'</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span> <span class="st0">&quot;Estàs dins el codi per què es compleix la condició&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="kw1">elseif</span><span class="br0">&#40;</span><span class="re0">$nom</span><span class="sy0">==</span><span class="st_h">'Layla'</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span> <span class="st0">&quot;Estàs dins el codi de la segona condició&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="kw1">else</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span> <span class="st0">&quot;No es compleix cap de les dues condicions&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span> </div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
Igual que en la majoria de llenguatges de programació, podeu aniuar-hi codi.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$plou</span><span class="sy0">=</span><span class="st_h">'si'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$paraigua</span><span class="sy0">=</span><span class="st_h">'no'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">if</span><span class="br0">&#40;</span><span class="re0">$plou</span><span class="sy0">==</span><span class="st_h">'si'</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">if</span><span class="br0">&#40;</span><span class="re0">$paraigua</span><span class="sy0">==</span><span class="st_h">'si'</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">      <span class="kw1">echo</span> <span class="st0">&quot;No em mullo!&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">else</span></div></li><li class="li1"><div class="de1">      <span class="kw1">echo</span> <span class="st0">&quot;M'estic mullant perquè no porto paraigua!&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="kw1">else</span></div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span><span class="st0">&quot;No cal que porti paraigua perquè no plou.&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

</div>

<h4><a id="estructura_de_controlwhile" >Estructura de control: while</a></h4>
<div class="level4">

<p>
Fareu servir l’estructura <em>while</em> si us trobeu amb la necessitat de repetir una seqüència d’instruccions durant un període de temps controlat per una variable. En la <span class="figref"><a href="#Figura 3"><span>figura<span class=refId> Figura 3</span></span></a></span> podreu veure el diagrama d’aquesta estructura.
</p>
<div class="iocfigure"><a name="Figura 3"></a>
<p>
<figure>
<figcaption><span class="figuretitle">Figura</span>

L’estructura while

</figcaption><img src="../media/asic5ud3_im7.png" align="left" alt="" /></figure>

</p>
</div>
<p>
L’exemple següent mostra com el <em>while</em> us pot ser molt útil per crear un codi que generi la taula de multiplicar del número 7:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$multiplicand</span><span class="sy0">=</span><span class="nu0">7</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$multiplicador</span><span class="sy0">=</span><span class="nu0">0</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$resultat</span><span class="sy0">=</span><span class="nu0">0</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st0">&quot;Taula del <span class="es4">$multiplicand</span>:&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">while</span><span class="br0">&#40;</span><span class="re0">$multiplicador</span><span class="sy0">&lt;=</span><span class="nu0">10</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="re0">$resultat</span><span class="sy0">=</span><span class="re0">$multiplicand</span><span class="sy0">*</span><span class="re0">$multiplicador</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span><span class="st0">&quot;<span class="es4">$multiplicand</span> x <span class="es4">$multiplicador</span> = <span class="es4">$resultat</span>&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="re0">$multiplicador</span><span class="sy0">=</span><span class="re0">$multiplicador</span><span class="sy0">+</span><span class="nu0">1</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

</div>

<h4><a id="estructura_de_controldo_while" >Estructura de control: do while</a></h4>
<div class="level4">

<p>
L’estructura <em>do</em> la utilitzareu en els casos en què sempre s’hagin de fer unes accions i, en finalitzar aquestes accions, es comprovi un estat que deixarà pas a una repetició del codi anterior o bé forçarà la sortida del bucle. En la <span class="figref"><a href="#Figura 4"><span>figura<span class=refId> Figura 4</span></span></a></span> podeu veure el diagrama d’aquesta estructura.
</p>
<div class="iocfigure"><a name="Figura 4"></a>
<p>
<figure>
<figcaption><span class="figuretitle">Figura</span>

L’estructura do

</figcaption><img src="../media/asic5ud3_im8.png" alt="" /></figure>

</p>
</div>
<p>
La sintaxi de l’estructura <em>do</em> inclou un <em>while</em>, que s’encarrega de comprovar una expressió.
</p>

<p>
En l’exemple següent es mostra en el navegador el número de línia corresponent mentre no arribem a la línia 10. Fixeu-vos que la comprovació del valor de la variable es fa una vegada s’ha produït una iteració.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$linia</span><span class="sy0">=</span><span class="nu0">1</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">do</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">  <span class="kw1">echo</span> <span class="st0">&quot;Línia <span class="es4">$linia</span>&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="re0">$linia</span><span class="sy0">=</span><span class="re0">$linia</span><span class="sy0">+</span><span class="nu0">1</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="kw1">while</span><span class="br0">&#40;</span><span class="re0">$linia</span><span class="sy0">&lt;</span><span class="nu0">10</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

</div>

<h4><a id="estructura_de_controlfor" >Estructura de control: for</a></h4>
<div class="level4">

<p>
L’estructura <em>for</em> utilitza tres expressions en la seva implementació. La primera expressió s’executa en iniciar-se el codi i dóna un valor inicial a una variable. Cal remarcar que aquesta variable tindrà un paper important en el desenvolupament del codi, serà la variable que permetrà el control del bucle. La segona expressió és la condició que ha de ser favorable per poder executar el bucle de codi. La tercera expressió indica una acció que cal dur a terme quan finalitzi el bloc de codi. En la <span class="figref"><a href="#Figura 5"><span>figura<span class=refId> Figura 5</span></span></a></span> podeu veure el diagrama d’aquesta estructura.
</p>
<div class="iocfigure"><a name="Figura 5"></a>
<p>
<figure>
<figcaption><span class="figuretitle">Figura</span>

 L’estructura for

</figcaption><img src="../media/asic5ud3_im9.png" alt="" /></figure>

</p>
</div>
<p>
En l’exemple següent la variable <em>$edat</em> s’inicialitza amb valor 0 i, mentre tingui un valor més petit que 18, es permetrà l’execució del bloc de codi que hi ha sota el control del <em>for</em>. Quan finalitzi el bucle, la variable <em>$edat</em> s’incrementarà en una unitat.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="kw1">for</span><span class="br0">&#40;</span><span class="re0">$edat</span><span class="sy0">=</span><span class="nu0">0</span> <span class="sy0">;</span> <span class="re0">$edat</span><span class="sy0">&lt;</span><span class="nu0">18</span> <span class="sy0">;</span> <span class="re0">$edat</span><span class="sy0">=</span><span class="re0">$edat</span><span class="sy0">+</span><span class="nu0">1</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span> <span class="st0">&quot;Encara ets menor d'edat, ja que tens <span class="es4">$edat</span> anys!&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st0">&quot;Ja no ets menor d'edat!&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
Qualsevol de les tres expressions que formen part de l’estructura <em>for</em> poden ser formades per més d’una expressió i, fins i tot, poden restar buides.
</p>

<p>
No cal que les tres expressions del <em>for</em> tinguin valor, les podeu deixar buides (però respectant els punt i coma). L’exemple següent mostrarà una sortida idèntica a l’exemple anterior, però ara dins el <em>for</em> només hi ha una expressió. La declaració i inicialització de la variable s’ha fet fora del bucle i, a més a més, augmentareu una unitat la variable <em>$edat</em> dins el mateix codi del bucle.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$edat</span><span class="sy0">=</span><span class="nu0">0</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">for</span><span class="br0">&#40;</span> <span class="sy0">;</span> <span class="re0">$edat</span><span class="sy0">&lt;</span><span class="nu0">18</span> <span class="sy0">;</span> <span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span> <span class="st0">&quot;Encara ets menor d'edat, ja que tens <span class="es4">$edat</span> anys!&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="re0">$edat</span><span class="sy0">=</span><span class="re0">$edat</span><span class="sy0">+</span><span class="nu0">1</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st0">&quot;Ja no ets menor d'edat!&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

</div>

<h4><a id="la_sentencia_break" >La sentència break</a></h4>
<div class="level4">

<p>
La sentència <em>break</em> provoca la sortida de qualsevol estructura de control, trencant així un bucle. Penseu per exemple un bucle que cerca un element d’un <em>array</em>. Una vegada trobat, és ineficient acabar de recórrer la resta de l’<em>array</em>. 
</p>

<p>
Podeu indicar a aquesta sentència quantes estructures de control voleu saltar.
</p>

<p>
En l’exemple següent el <em>break</em> provoca la sortida de dos blocs de codi:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="kw1">while</span><span class="br0">&#40;</span><span class="re0">$edat</span><span class="sy0">&lt;</span><span class="nu0">20</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">  <span class="kw1">for</span><span class="br0">&#40;</span> <span class="sy0">;</span> <span class="sy0">;</span> <span class="re0">$edat</span><span class="sy0">=</span><span class="re0">$edat</span><span class="sy0">+</span><span class="nu0">1</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">  <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">if</span><span class="br0">&#40;</span><span class="re0">$edat</span><span class="sy0">==</span><span class="nu0">18</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">      <span class="kw1">echo</span> <span class="st0">&quot;Ara ja tens <span class="es4">$edat</span> anys!&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">      <span class="kw1">break</span> <span class="nu0">2</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span> <span class="st0">&quot;Encara ets menor d'edat, ja que tens <span class="es4">$edat</span> anys!&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="kw1">echo</span> <span class="st0">&quot;Aquesta línia no sortirà per pantalla!&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st0">&quot;Ja no ets menor d'edat! Tens <span class="es4">$edat</span> anys!&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

</div>

<h4><a id="la_sentencia_continue" >La sentència continue</a></h4>
<div class="level4">

<p>
La sentència <em>continue</em> provoca el salt de les línies de codi que restin per executar dins un bucle i continua executant la primera línia de codi que es trobi fora del bucle.
</p>

<p>
És possible indicar quants bucles se saltarà aquesta sentència.
</p>

<p>
En l’exemple següent, la <em>continue</em> forçarà la sortida del bloc de codi encapçalat per <em>if</em>.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$edat</span><span class="sy0">=</span><span class="nu0">0</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$nom</span><span class="sy0">=</span><span class="st_h">'Minna'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">while</span><span class="br0">&#40;</span><span class="re0">$edat</span><span class="sy0">&lt;=</span><span class="nu0">21</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">if</span><span class="br0">&#40;</span><span class="re0">$edat</span><span class="sy0">==</span><span class="nu0">21</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">            <span class="kw1">echo</span> <span class="st0">&quot;&lt;br&gt;Felicitats! Ja tens <span class="es4">$edat</span> anys, <span class="es4">$nom</span>! &quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">            <span class="kw1">echo</span> <span class="st0">&quot;Tens el carnet adequat?&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">            <span class="re0">$edat</span><span class="sy0">=</span><span class="re0">$edat</span><span class="sy0">+</span><span class="nu0">1</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">            <span class="kw1">continue</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">            <span class="kw1">echo</span> <span class="st0">&quot;Aquesta línia mai s'executarà&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span> <span class="st0">&quot;Ara tens <span class="es4">$edat</span> anys! Si no tens 21 anys no </span></div></li><li class="li1"><div class="de1"><span class="st0">        podràs conduir una moto de gran cilindrada, <span class="es4">$nom</span>!&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="re0">$edat</span><span class="sy0">=</span><span class="re0">$edat</span><span class="sy0">+</span><span class="nu0">1</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

</div>

<h4><a id="l_estructura_switch" >L&#039;estructura switch</a></h4>
<div class="level4">

<p>
L’estructura de control <em>switch</em> executa un codi determinat en funció del valor d’una variable. En la <span class="figref"><a href="#Figura 6"><span>figura<span class=refId> Figura 6</span></span></a></span> podeu veure el diagrama d’aquesta estructura.
</p>
<div class="iocfigure"><a name="Figura 6"></a>
<p>
<figure>
<figcaption><span class="figuretitle">Figura</span>

L’estructura switch

</figcaption><img src="../media/asic5ud3_im10.png" title="Diagrama de " alt="Diagrama de " /></figure>

</p>
</div>
<p>
Per implementar l’estructura <em>switch</em> caldrà fer servir la sentència <em>case</em> seguida de dos punts, la qual s’encarregarà de comparar el valor de la variable que utilitza el <em>switch</em> amb el valor que identifica un codi determinat, i la sentència <em>break</em>, que forçarà la sortida del bloc de codi. Opcionalment es podrà utilitzar la sentència <em>default</em> seguida de dos punts, que ens permetrà executar un codi en cas que no es compleixi cap condició certa dins el <em>switch</em>.
</p>

<p>
En l’exemple següent l’estructura <em>switch</em> utilitza la variable <em>$opcio</em>. En cas que la variable <em>$opcio</em> valgui 0 sortirà un missatge per pantalla, si el valor d’opció fos 1 el missatge seria un altre, i si fos 2 el missatge també seria diferent; ara bé, en qualsevol altre cas s’executarà el codi que es trobi a continuació del <em>default</em>. En el cas concret de l’exemple, com que <em>$opcio</em> té un valor de 3 s’executarà el codi del <em>default</em>.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$opcio</span><span class="sy0">=</span><span class="nu0">3</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">switch</span><span class="br0">&#40;</span><span class="re0">$opcio</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">case</span> <span class="nu0">0</span><span class="sy0">:</span></div></li><li class="li1"><div class="de1">        <span class="kw1">echo</span> <span class="st0">&quot;Estàs aquí perquè el valor de la variable <span class="es1">\$</span>opcio és <span class="es4">$opcio</span>&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">break</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">case</span> <span class="nu0">1</span><span class="sy0">:</span></div></li><li class="li1"><div class="de1">        <span class="kw1">echo</span> <span class="st0">&quot;Estàs aquí perquè el valor de la variable <span class="es1">\$</span>opcio és <span class="es4">$opcio</span>&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">break</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">case</span> <span class="nu0">2</span><span class="sy0">:</span></div></li><li class="li1"><div class="de1">        <span class="kw1">echo</span> <span class="st0">&quot;Estàs aquí perquè el valor de la variable <span class="es1">\$</span>opcio és <span class="es4">$opcio</span>&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">break</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">default</span><span class="sy0">:</span></div></li><li class="li1"><div class="de1">        <span class="kw1">echo</span> <span class="st0">&quot;Estàs aquí perquè no hi ha coincidència entre </span></div></li><li class="li1"><div class="de1"><span class="st0">        el valor de la variable <span class="es1">\$</span>opcio (<span class="es4">$opcio</span>) i els valors dels case&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

</div>

<h4><a id="l_estructura_foreach" >L&#039;estructura foreach</a></h4>
<div class="level4">

<p>
L’estructura de control <em>foreach</em> permet recórrer una matriu. Aquesta estructura es pot fer servir a partir de la versió 4 del PHP.
</p>

<p>
En l’exemple següent es crea una matriu que emmagatzema quatre nombres. Amb l’estructura <em>foreach</em> es recorre la matriu posició a posició i es copien els nombres en la variable <em>$valor</em>:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="re0">$matriu</span> <span class="sy0">=</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">&#40;</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">3</span><span class="sy0">,</span> <span class="nu0">4</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">foreach</span> <span class="br0">&#40;</span><span class="re0">$matriu</span> <span class="kw1">as</span> <span class="re0">$valor</span><span class="br0">&#41;</span> </div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span> <span class="st0">&quot;El valor de <span class="es1">\$</span>matriu és <span class="es4">$valor</span>.&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
També es pot assignar una clau a cada element. En l’exemple següent els índexs clau de la matriu són noms que emmagatzemen edats:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$matriu</span> <span class="sy0">=</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">&#40;</span></div></li><li class="li1"><div class="de1">    <span class="st0">&quot;Andreu&quot;</span> <span class="sy0">=&gt;</span> <span class="nu0">31</span><span class="sy0">,</span></div></li><li class="li1"><div class="de1">    <span class="st0">&quot;Marina&quot;</span> <span class="sy0">=&gt;</span> <span class="nu0">28</span><span class="sy0">,</span></div></li><li class="li1"><div class="de1">    <span class="st0">&quot;Antoni&quot;</span> <span class="sy0">=&gt;</span> <span class="nu0">19</span><span class="sy0">,</span></div></li><li class="li1"><div class="de1">    <span class="st0">&quot;Carla&quot;</span>  <span class="sy0">=&gt;</span> <span class="nu0">25</span></div></li><li class="li1"><div class="de1">  <span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">foreach</span><span class="br0">&#40;</span><span class="re0">$matriu</span> <span class="kw1">as</span> <span class="re0">$posicio</span> <span class="sy0">=&gt;</span> <span class="re0">$valor</span><span class="br0">&#41;</span> </div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span> <span class="st0">&quot;L'alumne <span class="es4">$posicio</span> té <span class="es4">$valor</span> anys.&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

</div>

<h3><a id="funcions" >Funcions</a></h3>
<div class="level3">

<p>
En el desenvolupament normal d’un programa sempre arriba un punt en què es veu la necessitat d’agrupar codi i donar-hi un nom, per controlar-lo o per evitar repetir-ne contínuament les mateixes línies.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Una <strong>funció</strong> és un grup de codi independent que fa una tasca per al programa.
</p>
</div></div>
<p>
La funció executa l’operació i retorna el control del programa a la instrucció següent a la que la va cridar.
</p>

</div>

<h4><a id="funcions_definides_per_l_usuari" >Funcions definides per l&#039;usuari</a></h4>
<div class="level4">

<p>
L’usuari pot definir totes les funcions que necessiti. És imprescindible que el nom donat a la funció no estigui prohibit, és a dir, no es poden fer servir paraules reservades (per exemple, <em>echo</em>), començar amb un nombre o un caràcter especial ni repetir el nom d’una funció dins un mateix àmbit. Tot i que el PHP no farà cap distinció entre majúscules i minúscules, es recomana utilitzar el nom de la funció idèntic a l’utilitzat en la declaració.
</p>

<p>
Les funcions poden rebre paràmetres. El pas de paràmetres d’entrada es fa escrivint entre parèntesis i a continuació del nom de la funció.
</p>

<p>
En l’exemple següent podeu veure com es declara la funció <em>missatge</em> i com, posteriorment, es crida passant-hi un paràmetre.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="kw2">function</span> missatge<span class="br0">&#40;</span><span class="re0">$argument</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span> <span class="st0">&quot;<span class="es4">$argument</span>&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">missatge<span class="br0">&#40;</span><span class="st0">&quot;Aquest és l'argument que es passa en aquest exemple.&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
Les funcions també podran retornar valors. Per fer-ho caldrà utilitzar la sentència <em>return</em>.
</p>

<p>
En l’exemple següent comprovareu com la funció <em>suma</em>, la qual rep dos paràmetres, retorna el resultat de sumar dos nombres:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="kw2">function</span> suma <span class="br0">&#40;</span><span class="re0">$valor1</span><span class="sy0">,</span><span class="re0">$valor2</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">return</span><span class="br0">&#40;</span><span class="re0">$valor1</span><span class="sy0">+</span><span class="re0">$valor2</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> suma<span class="br0">&#40;</span><span class="nu0">4</span><span class="sy0">,</span><span class="nu0">6</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

</div>

<h4><a id="funcions_internes" >Funcions internes</a></h4>
<div class="level4">

<p>
El llenguatge PHP té funcions definides internament. Aquestes funcions són de gran utilitat per al programador i resulta imprescindible estudiarles i conèixer-ne les més importants.
</p>

<p>
És possible que diverses funcions no es reconeguin en el vostre entorn de treball del PHP; el motiu d’això és que algunes funcions internes no s’han inclòs en la compilació, la qual cosa ha fet necessària una compilació dels mòduls que les contenen. Amb <em>phpinfo()</em> es poden veure les extensions carregades en la vostra configuració del PHP.
</p>
<div class="iocnote"><div class="ioccontent">
<p>
Podeu mirar l’ajuda de PHP a <a href="http://www.php.net/manual/es/funcref.php" class="urlextern" title="http://www.php.net/manual/es/funcref.php"  rel="nofollow">www.php.net/manual/es/</a> <a href="http://www.php.net/manual/es/funcref.php" class="urlextern" title="http://www.php.net/manual/es/funcref.php"  rel="nofollow">funcref.php</a>. Aquí podeu trobar una caixa per cercar la referència de les diferents funcions del llenguatge. 
</p>
</div></div>
<p>
Són funcions internes molt usuals <em>echo</em>, <em>fprintf</em>, <em>print</em>, <em>printf</em> i <em>sprintf</em>, en què queda demostrat que el llenguatge PHP ja té definides funcions específiques que poden ser de gran utilitat per a l’usuari.
</p>

<p>
En l’exemple següent es mostra com es pot codificar amb codificació <code>md5</code> el contingut d’una variable:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1">  <span class="re0">$nom</span> <span class="sy0">=</span> <span class="st_h">'Blanca'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="kw1">echo</span><span class="br0">&#40;</span><span class="st0">&quot;La codificació md5 de <span class="es4">$nom</span> és:&lt;br&gt;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="kw1">echo</span> <a href="http://www.php.net/md5"><span class="kw3">md5</span></a><span class="br0">&#40;</span><span class="re0">$nom</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

</div>

<h3><a id="classes_i_objectes" >Classes i objectes</a></h3>
<div class="level3">

<p>
El llenguatge de programació PHP està preparat per fer ús d’aspectes propis de la programació orientada a objectes, tot i que el PHP no és un llenguatge de programació orientada a objectes.
</p>

<p>
Per definir una classe en llenguatge PHP s’ha d’utilitzar la paraula reservada <em>class</em> seguida del nom que hi voleu donar. Entre claus s’han d’ubicar els atributs i els mètodes propis de la classe.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Simula 67</p>
<p>
Es tracta d’un llenguatge creat per fer simulacions. Se’l considera l’origen de la programació orientada a objectes. Els seus autors són els noruecs Ole-Johan Dahl i Kristen Nygaard.
</p>
</div></div>
<p>
Per instanciar objectes en PHP es farà servir l’operador <em>new</em> seguit del mètode constructor de la classe.
</p>

<p>
L’exemple següent mostra el funcionament de la classe Alumne. Aquesta classe té dos atributs que resumeixen les característiques de la classe. Podreu observar que els atributs <em>$nom</em> i <em>$curs</em> són precedits per l’operador <em>var</em>, el qual identifica com a variable el text que ve a continuació.
</p>

<p>
La classe Alumne conté un mètode especial anomenat <em>constructor</em>, el qual té la missió d’inicialitzar objectes. És molt fàcil identificar els mètodes constructors, ja que reben el mateix nom que la classe. Dins el mètode constructor s’assignen valors als atributs <em>$nom</em> i <em>$curs</em>. En aquest exemple s’utilitza <em>$this</em>, que és una variable predefinida que fa referència a l’objecte que en aquest moment s’està utilitzant.
</p>

<p>
Una altra manera de generar mètodes constructors és utilitzar <em>function __construct</em>. Últimament aquesta variant és la que més s’utilitza, tot i que les dues fórmules són perfectament vàlides.
</p>

<p>
Podeu veure que dins la classe hi ha un mètode anomenat <em>avaluar</em> que s’encarrega d’assignar un valor a l’atribut <em>$nota</em>.
</p>

<p>
Fora de l’àmbit de la funció es crea un objecte de la classe Alumne amb la partícula <em>new</em> seguida del mètode constructor.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="kw2">class</span> Alumne</div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw2">var</span> <span class="re0">$nom</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw2">var</span> <span class="re0">$curs</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw2">var</span> <span class="re0">$nota</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="kw2">function</span> Alumne<span class="br0">&#40;</span><span class="re0">$nom</span><span class="sy0">,</span><span class="re0">$curs</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">nom</span><span class="sy0">=</span><span class="re0">$nom</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">curs</span><span class="sy0">=</span><span class="re0">$curs</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="kw2">function</span> avaluar<span class="br0">&#40;</span><span class="re0">$nota</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">nota</span><span class="sy0">=</span><span class="re0">$nota</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="re0">$nouAlumne</span><span class="sy0">=</span><span class="kw2">new</span> Alumne<span class="br0">&#40;</span><span class="st_h">'Laura'</span><span class="sy0">,</span><span class="nu0">2</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st0">&quot;Nom de l'alumne: <span class="es4">$nouAlumne-&gt;nom</span>&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st0">&quot;Curs: <span class="es4">$nouAlumne-&gt;curs</span>&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$nouAlumne</span><span class="sy0">-&gt;</span><span class="me1">avaluar</span><span class="br0">&#40;</span><span class="nu0">7</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st0">&quot;Nota: <span class="es4">$nouAlumne-&gt;nota</span>&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

</div>

<h2><a id="integracio_php_amb_html" >Integració PHP amb HTML</a></h2>
<div class="level2">

<p>
Normalment trobareu el llenguatge de programació PHP dins d’altres llenguatges. El més usual és escriure codi en PHP dins de codi <acronym title="HyperText Markup Language">HTML</acronym>.
</p>

<p>
Heu de recordar que el codi PHP és interpretat pel servidor, i els resultats es mostren en el navegador que utilitzeu. La simbiosi que es crea entre el PHP i l’<acronym title="HyperText Markup Language">HTML</acronym> permet al PHP generar <acronym title="HyperText Markup Language">HTML</acronym> i a l’<acronym title="HyperText Markup Language">HTML</acronym> passar dades al PHP.
</p>

<p>
Per començar a dominar el llenguatge PHP és recomanable que comenceu creant una pàgina bàsica. A partir d’aquesta pàgina podeu provar coses i construir les bases que necessitareu més endavant. Això és important, ja que l’aprenentatge de qualsevol llenguatge de programació comença en establir unes bones bases.
</p>

<p>
Heu de saber que no és necessari treballar amb una pàgina <acronym title="HyperText Markup Language">HTML</acronym> per utilitzar el PHP; ara bé, per veure resultats en un navegador haureu de filtrar el PHP per un llenguatge que el navegador pugui interpretar, com l’<acronym title="HyperText Markup Language">HTML</acronym>.
</p>

</div>

<h3><a id="l_us_del_php_en_formularis" >L&#039;ús del PHP en formularis</a></h3>
<div class="level3">
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">PhpMyAdmin</p>
<p>
L’eina de programari lliure PhpMyAdmin està creada integrament en llenguatge de programació PHP. És un exemple del que podeu arribar a programar amb aquest llenguatge de programació.
</p>
</div></div>
<p>
El formulari electrònic és una eina molt potent fortament establida a Internet. Permet l’intercanvi o la introducció de dades entre usuaris d’una manera ràpida i senzilla. Un formulari permet la interactivitat i és el detonant que converteix Internet en l’eina més poderosa per enviar informació a un destinatari.
</p>

<p>
El llenguatge PHP representa un salt qualitatiu enorme en l’ús de formularis. L’<acronym title="HyperText Markup Language">HTML</acronym> no és un llenguatge creat pensant a utilitzar formularis, sinó que es va crear amb altres objectius. El llenguatge PHP té un gran potencial en la gestió de dades; per tant, quan <acronym title="HyperText Markup Language">HTML</acronym> i PHP treballen juntament amb formularis ens trobem amb un binomi ideal.
</p>

</div>

<h4><a id="preparacio_de_l_html" >Preparació de l&#039;HTML</a></h4>
<div class="level4">

<p>
El llenguatge <acronym title="HyperText Markup Language">HTML</acronym> mostrarà la façana que l’usuari veurà a la pantalla del navegador. El PHP serà darrere d’aquesta primera pantalla i treballarà amb les dades.
</p>

<p>
En la <span class="figref"><a href="#Figura 7"><span>figura<span class=refId> Figura 7</span></span></a></span> podeu veure l’aspecte típic d’un formulari. El codi necessari per dissenyar aquest formulari és elaborat en <acronym title="HyperText Markup Language">HTML</acronym>; en canvi, el motor que espera les dades és constituït amb PHP.
</p>
<div class="iocfigure"><a name="Figura 7"></a>
<p>
<figure>
<figcaption><span class="figuretitle">Figura</span>

Aspecte d’un formulari

</figcaption><img src="../media/asxm09u1_03.png" alt="" /></figure>

</p>
</div>
<p>
El primer que cal programar per fer servir un formulari dissenyat en PHP és crear el codi <acronym title="HyperText Markup Language">HTML</acronym>. Un formulari en <acronym title="HyperText Markup Language">HTML</acronym> s’emmarca entre les etiquetes <em>&lt;FORM&gt;</em> i <em>&lt;/FORM&gt;.</em> Per manipular aquest formulari s’utilitza l’atribut <code>ACTION</code>.
</p>

<p>
L’atribut <code>ACTION</code> indica el programa que s’encarrega de manipular les dades, tasca que encomanareu a un codi dissenyat en llenguatge PHP.
</p>

<p>
L’etiqueta <code>&lt;form&gt;</code> us permet fer servir dos mètodes per enviar informació:<code>GET</code> i <code>POST</code>. El mètode <code>GET</code> és molt útil en motors de cerca, però no ofereix gaire seguretat, ja que les dades que envia es poden veure en l’<acronym title="Uniform Resource Locator">URL</acronym> del navegador. El mètode <code>POST</code> és molt més segur, ja que quan el servidor detecta que el mètode de transacció d’informació és <code>POST</code> espera rebre dades immediatament sense fer servir l’<acronym title="Uniform Resource Locator">URL</acronym>, la qual cosa implica que aquestes dades no seran visibles en l’<acronym title="Uniform Resource Locator">URL</acronym>.
</p>

<p>
Un petit exemple de crida a un formulari seria:
</p>
<pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/html.html"><span class="kw2">HTML</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/head.html"><span class="kw2">head</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/title.html"><span class="kw2">title</span></a>&gt;</span>El nostre primer exemple amb formularis<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/title.html"><span class="kw2">title</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/head.html"><span class="kw2">head</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/body.html"><span class="kw2">body</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/h1.html"><span class="kw2">H1</span></a>&gt;</span>Introdueix el teu nom i prem el botó!<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/h1.html"><span class="kw2">H1</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/form.html"><span class="kw2">FORM</span></a> <span class="kw3">ACTION</span><span class="sy0">=</span><span class="st0">&quot;contesta.php&quot;</span> <span class="kw3">METHOD</span><span class="sy0">=</span><span class="st0">&quot;POST&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">          Si us plau, escriu el teu nom:<span class="sc2">&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">INPUT</span></a> <span class="kw3">TYPE</span><span class="sy0">=</span><span class="st0">&quot;text&quot;</span> <span class="kw3">NAME</span><span class="sy0">=</span><span class="st0">&quot;nom&quot;</span>&gt;&lt;<a href="http://december.com/html/4/element/br.html"><span class="kw2">BR</span></a>&gt;</span></div></li><li class="li1"><div class="de1">          <span class="sc2">&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">INPUT</span></a> <span class="kw3">TYPE</span><span class="sy0">=</span><span class="st0">&quot;submit&quot;</span> <span class="kw3">VALUE</span><span class="sy0">=</span><span class="st0">&quot;Enviar&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/form.html"><span class="kw2">FORM</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/body.html"><span class="kw2">body</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/html.html"><span class="kw2">HTML</span></a>&gt;</span></div></li></ol></pre>

<p>
Podeu veure com, dins l’etiqueta <code>&lt;BODY&gt;</code>, apareix l’etiqueta <code>&lt;FORM&gt;</code>. L’atribut <code>ACTION</code> crida un fitxer anomenat contesta.php, el qual contindrà el codi PHP encarregat de valorar el formulari. El pas de les dades es farà mitjançant el mètode <code>POST</code>. El servidor detecta que s’està executant un codi que conté transacció d’informació mitjançant el mètode <code>POST</code>; per tant, el servidor es posa a escoltar a l’espera que hi arribin dades. Les dades les rebrà directament, sense fer servir l’<acronym title="Uniform Resource Locator">URL</acronym>. En el moment en què es premi el botó etiquetat com a <em>Enviar</em> totes les dades introduïdes en el formulari s’envien al fitxer contesta.php.
</p>

</div>

<h4><a id="com_valora_el_php_un_formulari" >Com valora el PHP un formulari</a></h4>
<div class="level4">

<p>
En el moment d’enviar les dades des del formulari d’una pàgina <acronym title="HyperText Markup Language">HTML</acronym> a un fitxer escrit en PHP s’ha de tenir en compte que l’atribut <code>NAME</code> emmagatzema el valor.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">HTML i PHP</p>
<p>
En el treball de formularis i PHP és interessant que exploreu el món de les etiquetes de l’<acronym title="HyperText Markup Language">HTML</acronym>. Si no sabeu com l’<acronym title="HyperText Markup Language">HTML</acronym> treballa amb els formularis, limitareu les possibilitats del vostre codi.
</p>
</div></div><pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/html.html"><span class="kw2">HTML</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/head.html"><span class="kw2">head</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/title.html"><span class="kw2">title</span></a>&gt;</span>Resposta a la petició de dades<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/title.html"><span class="kw2">title</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/head.html"><span class="kw2">head</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/body.html"><span class="kw2">body</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/h1.html"><span class="kw2">H1</span></a>&gt;</span>...Continuem amb l'exemple!<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/h1.html"><span class="kw2">H1</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      El teu nom és: </div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;?php </span></div></li><li class="li1"><div class="de1"><span class="sc2">        echo $_POST<span class="br0">&#91;</span>nom<span class="br0">&#93;</span>;</span></div></li><li class="li1"><div class="de1"><span class="sc2">      ?&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/body.html"><span class="kw2">body</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/html.html"><span class="kw2">HTML</span></a>&gt;</span></div></li></ol></pre>

<p>
En el moment en què s’envien dades del formulari <acronym title="HyperText Markup Language">HTML</acronym> cap a un fitxer PHP, aquestes dades apareixeran dins d’un <em>array</em> superglobal amb tots els seus valors. 
</p>

</div>

<h4><a id="les_matrius_associatives_i_els_formularis" >Les matrius associatives i els formularis</a></h4>
<div class="level4">

<p>
Resulta de gran utilitat fer servir matrius associatives per tractar la informació rebuda d’un formulari.
</p>

<p>
Podeu utilitzar les matrius associatives <em>$_POST</em> i <em>$_GET</em>; el seu ús, però, serà condicionat pel mètode utilitzat en el pas de dades en el codi <acronym title="HyperText Markup Language">HTML</acronym>. Així, si en el codi HTMLel mètode és <code>POST</code> haureu de fer servir la matriu associativa <em>$_POST</em>; en canvi, si heu fet servir el mètode <code>GET</code> en el codi <acronym title="HyperText Markup Language">HTML</acronym>, haureu de fer servir la matriu associativa <em>$_GET</em>.
</p>

<p>
Per accedir als valors emmagatzemats en les matrius associatives fareu servir l’atribut corresponent <code>NAME</code> de l’<acronym title="HyperText Markup Language">HTML</acronym> com a índex de la matriu associativa.
</p>

<p>
No heu d’oblidar que el PHP és un llenguatge de programació que, entre altres coses, us permet utilitzar bucles. En el formulari següent es defineix una selecció múltiple, en què podreu marcar els navegadors que coneixeu.
</p>
<pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/html.html"><span class="kw2">HTML</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/head.html"><span class="kw2">head</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/title.html"><span class="kw2">title</span></a>&gt;</span>Un exemple amb un formulari<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/title.html"><span class="kw2">title</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/head.html"><span class="kw2">head</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/body.html"><span class="kw2">body</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a> <span class="kw3">action</span><span class="sy0">=</span><span class="st0">&quot;seleccioMultiple.php&quot;</span> <span class="kw3">method</span><span class="sy0">=</span><span class="st0">&quot;POST&quot;</span>&gt;</span>   </div></li><li class="li1"><div class="de1">          Nom: <span class="sc2">&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;nom&quot;</span>&gt;&lt;<a href="http://december.com/html/4/element/br.html"><span class="kw2">br</span></a>&gt;</span>   </div></li><li class="li1"><div class="de1">          Correu electrònic: <span class="sc2">&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;email&quot;</span>&gt;</span> <span class="sc2">&lt;<a href="http://december.com/html/4/element/br.html"><span class="kw2">br</span></a>&gt;</span>   </div></li><li class="li1"><div class="de1">          Navegadors que coneixes: <span class="sc2">&lt;<a href="http://december.com/html/4/element/br.html"><span class="kw2">br</span></a>&gt;</span>   </div></li><li class="li1"><div class="de1">          <span class="sc2">&lt;<a href="http://december.com/html/4/element/select.html"><span class="kw2">select</span></a> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;navegadors[]&quot;</span> multiple&gt;</span>    </div></li><li class="li1"><div class="de1">              <span class="sc2">&lt;<a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;Chrome&quot;</span>&gt;</span>Chrome<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a>&gt;</span>    </div></li><li class="li1"><div class="de1">              <span class="sc2">&lt;<a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;MozillaFirefox&quot;</span>&gt;</span>Mozilla Firefox<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a>&gt;</span>    </div></li><li class="li1"><div class="de1">              <span class="sc2">&lt;<a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;Safari&quot;</span>&gt;</span>Safari<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a>&gt;</span>    </div></li><li class="li1"><div class="de1">              <span class="sc2">&lt;<a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;Opera&quot;</span>&gt;</span>Opera<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a>&gt;</span>    </div></li><li class="li1"><div class="de1">              <span class="sc2">&lt;<a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;Lynx&quot;</span>&gt;</span>Lynx<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/option.html"><span class="kw2">option</span></a>&gt;</span>   </div></li><li class="li1"><div class="de1">          <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/select.html"><span class="kw2">select</span></a>&gt;&lt;<a href="http://december.com/html/4/element/br.html"><span class="kw2">br</span></a>&gt;</span>   </div></li><li class="li1"><div class="de1">          <span class="sc2">&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;submit&quot;</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;Envia&quot;</span> &gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a>&gt;</span> </div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/body.html"><span class="kw2">body</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/html.html"><span class="kw2">HTML</span></a>&gt;</span></div></li></ol></pre>

<p>
Aquí us trobareu amb un petit problema. Per recuperar els valors introduïts com a nom i correu electrònic no hi ha cap problema, la matriu <em>$_POST</em> us permetrà un recorregut buscant els valors emmagatzemats a <em>nom</em> i<em>email</em>. Amb la selecció múltiple, però, sorgeix un petit problema. A diferència dels casos anteriors, ara <em>navegadors</em> pot contenir més d’un valor, com ho fareu per mostrar tots els valors per pantalla? La solució és utilitzar un bucle:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="kw1">foreach</span> <span class="br0">&#40;</span><span class="re0">$_POST</span><span class="br0">&#91;</span><span class="st_h">'navegadors'</span><span class="br0">&#93;</span> <span class="kw1">as</span> <span class="re0">$opcio</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">  <span class="kw1">echo</span> <span class="re0">$opcio</span><span class="sy0">.</span><span class="st0">&quot;<span class="es1">\n</span>&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
El bucle <em>foreach</em> anterior permet recórrer la matriu <em>navegadors</em>, la qual contindrà els navegadors que heu marcat en el formulari inicial.
</p>

<p>
Si no recorreu la matriu i la mostreu directament amb:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="re0">$_POST</span><span class="br0">&#91;</span><span class="st_h">'navegadors'</span><span class="br0">&#93;</span><span class="sy0">;</span></div></li></ol></pre>

<p>
només es mostrarà la cadena <em>Array</em>.
</p>

</div>

<h3><a id="tipus_de_dades_en_php" >Tipus de dades en PHP</a></h3>
<div class="level3">

<p>
En PHP no és necessari declarar una variable abans d’utilitzar-la; de fet, no cal ni establir el tipus al qual pertany, el mateix llenguatge s’encarregarà d’assignar el tipus corresponent segons el contingut i el context. Fixeu-vos en l’exemple següent:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$valor</span><span class="sy0">=</span><span class="nu0">123</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st0">&quot;<span class="es4">$valor</span>&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$valor</span><span class="sy0">=</span><span class="st_h">'Hola'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st0">&quot;<span class="es4">$valor</span>&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$valor</span><span class="sy0">=</span><span class="nu0">123</span><span class="sy0">+</span><span class="st_h">'Hola'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st0">&quot;<span class="es4">$valor</span>&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
Podeu veure que en l’exemple anterior en cap moment no s’ha definit el tipus de la variable.
</p>

<p>
Si voleu, podeu indicar el tipus de la variable o forçar una conversió de tipus. Una utilitat que fareu servir sovint és forçar el tipus d’una variable per validar l’entrada de dades.
</p>

<p>
El llenguatge del PHP suporta vuit tipus primitius, dos d’especials i alguns pseudotipus.
</p>

</div>

<h4><a id="tipus_de_dades_primitius" >Tipus de dades primitius</a></h4>
<div class="level4">

<p>
Els tipus de dades primitius suportats pel PHP són vuit, agrupats en escalars, compostos i especials. Per dinamitzar el tractament de dades i ajudar a comprendre alguns codis es permet utilitzar pseudotipus, com ara <em>mixed</em>,<em>number</em> o <em>callback</em>.
</p>

<p>
<strong>1.</strong> Els tipus de <strong>dades escalars</strong> són:
</p>
<ul>
<li class="level1"><div class="li"> <em>boolean</em>: és un tipus de dades molt simple que pot representar un valor cert (<em>TRUE</em>) o fals (<em>FALSE</em>). Aquest tipus de dades s’utilitza molt en estructures de control. Si feu conversió de dades és molt important que tingueu en compte que es considerarà fals el nombre enter i amb coma 0, la cadena 0 o una cadena buida, una matriu buida, un objecte sense variables membre, el tipus</div>
</li>
</ul>

<p>
<em>NULL</em> i els objectes <em>SimpleXML</em> que s’hagin creat d’etiquetes buides. A continuació, es mostren dues variables booleanes:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="re0">$sortir</span><span class="sy0">=</span><span class="kw4">FALSE</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$entrar</span><span class="sy0">=</span><span class="kw4">TRUE</span><span class="sy0">;</span></div></li></ol></pre>
<ul>
<li class="level1"><div class="li"> <em>integer</em>: aquest tipus representa nombres no fraccionables per sota de la unitat. Poden ser positius i negatius. Aquests nombres enters els podeu representar en notació decimal, hexadecimal o octal. La plataforma sobre la qual treballeu determinarà la mida de les variables enteres. El PHP forçarà un canvi de tipus a flotant si es produeix un desbordament, tant si és positiu com negatiu. A continuació, es mostren dos exemples de variables enteres:</div>
</li>
</ul>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="re0">$positiu</span><span class="sy0">=</span><span class="nu0">3451</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$negatiu</span><span class="sy0">=-</span><span class="nu0">4345</span><span class="sy0">;</span></div></li></ol></pre>
<ul>
<li class="level1"><div class="li"> <em>float</em>: aquest tipus fa referència als nombres de coma flotant, i normalment treballa amb una precisió aproximada de catorze dígits decimals. A continuació, es mostra un exemple d’una variable amb coma flotant:</div>
</li>
</ul>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="re0">$amb_coma</span><span class="sy0">=</span><span class="nu19">34.5</span><span class="sy0">;</span></div></li></ol></pre>
<ul>
<li class="level1"><div class="li"> <em>string</em>: es tracta d’una cadena de caràcters. El llenguatge del PHP no imposa un límit a la mida d’aquestes cadenes; ara bé, no oblideu que el límit el marcarà la memòria del maquinari en què estigui funcionant el PHP. Aquí teniu diversos exemples de cadenes:</div>
</li>
</ul>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$nom</span><span class="sy0">=</span><span class="st_h">'Wayan'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$salutacio</span><span class="sy0">=</span><span class="st0">&quot;Hola <span class="es4">$nom</span>!&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="re0">$salutacio</span><span class="sy0">.</span><span class="st0">&quot; Benvingut&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
En l’exemple anterior es fan servir cometes dobles i simples per marcar les cadenes. La diferència entre fer-ho d’una manera o d’una altra és que amb cometes dobles s’interpreten les variables com a tals, mentre que amb cometes simples no es mostrarà el contingut de les variables. Una manera de concatenar cadenes és utilitzar l’operador punt.
</p>

<p>
<strong>2.</strong> Els tipus de <strong>dades compostos</strong> són:
</p>
<ul>
<li class="level1"><div class="li"> <em>array</em>: un <em>array</em> és una matriu, d’una dimensió o més, que conté dades que s’associen segons unes claus. És un tipus molt útil, i comprovareu que el seu ús té una gran potència. Per crear una matriu podeu utilitzar la paraula reservada <em>array()</em> o bé acompanyar el nom de la variable amb [ ].</div>
</li>
</ul>

<p>
En l’exemple següent es creen dos <em>arrays</em>, un que conté els dos graus de cicles formatius que hi ha, i un altre que emmagatzemarà dues famílies professionals. Podeu veure que en el segon cas la paraula <em>array</em> no apareix per enlloc i es crea la matriu igualment:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="re0">$grau_cicles</span><span class="sy0">=</span><a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">&#40;</span><span class="st0">&quot;superior&quot;</span><span class="sy0">,</span><span class="st0">&quot;mitja&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$families</span><span class="br0">&#91;</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="st0">&quot;Informàtica&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$families</span><span class="br0">&#91;</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="st0">&quot;Electrònica&quot;</span><span class="sy0">;</span></div></li></ol></pre>
<ul>
<li class="level1"><div class="li"> <em>object</em>: aquest tipus d’objecte està previst en el llenguatge PHP perquè suporta el llenguatge orientat a objectes. Un objecte és un ítem amb unes característiques i funcionalitats marcades per la classe a la qual pertany. Per crear un objecte cal utilitzar la partícula <em>new</em>.</div>
</li>
</ul>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="kw2">class</span> Alumne <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="kw2">public</span> <span class="kw2">function</span> matricular<span class="br0">&#40;</span><span class="re0">$nom</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">      <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">          <span class="kw1">echo</span> <span class="st0">&quot;Ja estàs matriculat <span class="es4">$nom</span>&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">      <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="re0">$alumne1</span><span class="sy0">=</span><span class="kw2">new</span> Alumne<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$alumne1</span><span class="sy0">-&gt;</span><span class="me1">matricular</span><span class="br0">&#40;</span><span class="st_h">'Made'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
<strong>3.</strong> Els tipus de <strong>dades especials</strong> són:
</p>
<ul>
<li class="level1"><div class="li"> <em>resource</em>: la variable que pertany a aquest tipus farà referència a un recurs extern. Determinades funcions faran ús d’aquest recurs. Per exemple, la funció <em>mysql_db_query</em>, que té la funció d’enviar una petició <em>mySQL</em>, retorna un tipus <em>resource</em>. En l’exemple següent la variable <em>$resultat</em> és de tipus <em>resource</em>:</div>
</li>
</ul>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="re0">$query</span><span class="sy0">=</span><span class="st_h">'SELECT * FROM alumnes'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$resultat</span><span class="sy0">=</span><a href="http://www.php.net/mysql_query"><span class="kw3">mysql_query</span></a><span class="br0">&#40;</span><span class="re0">$query</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li></ol></pre>
<ul>
<li class="level1"><div class="li"> <em>NULL</em>: quan necessiteu una variable que no tingui cap valor haureu d’utilitzar aquest tipus.</div>
</li>
</ul>

<p>
<strong>4.</strong> Els <strong>pseudotipus</strong> són:
</p>
<ul>
<li class="level1"><div class="li"> <em>mixed</em>: aquest pseudotipus indica que la variable en questió pot emmagatzemar múltiples tipus.</div>
</li>
<li class="level1"><div class="li"> <em>number</em>: indica que la variable pot contenir un valor enter o de coma flotant.</div>
</li>
<li class="level1"><div class="li"> <em>callback</em>: utilitzareu aquest pseudotipus per emmagatzemar crides de retorn generades per funcions de l’usuari.</div>
</li>
</ul>

</div>

<h4><a id="manipulacio_de_tipus" >Manipulació de tipus</a></h4>
<div class="level4">

<p>
El llenguatge PHP fa la majoria de conversions de tipus d’una manera automàtica. Una conversió molt normal és la que es fa de cadenes a valors numèrics. Si, per exemple, la cadena conté un punt o la lletra <em>e</em> (majúscula o minúscula) i la sumeu a un enter, la cadena es considerarà un nombre de coma flotant, i el resultat serà de tipus de coma flotant.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$cadena</span><span class="sy0">=</span><span class="st0">&quot;Aquí hi ha text&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st_h">'Contingut de $cadena: '</span><span class="sy0">.</span><span class="re0">$cadena</span><span class="sy0">.</span><span class="st0">&quot;&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$numero</span><span class="sy0">=</span><span class="nu0">12</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st_h">'El valor de $numero: '</span><span class="sy0">.</span><span class="re0">$numero</span><span class="sy0">.</span><span class="st0">&quot;&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st_h">'Ara $cadena conté: '</span><span class="sy0">.</span><span class="re0">$cadena</span><span class="sy0">=</span><span class="re0">$cadena</span><span class="sy0">+</span><span class="re0">$numero</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
En l’exemple anterior la variable <em>$cadena</em> passa de ser un <em>string</em> a un <em>integer</em>.
</p>

</div>

<h4><a id="conversio_de_tipus_casting" >Conversió de tipus (casting)</a></h4>
<div class="level4">

<p>
Per forçar un canvi de tipus haureu d’especificar entre parèntesis el tipus al qual voleu fer la conversió i col·locar-lo davant la variable.
</p>

<p>
En la <span class="tabref"><a href="#Taula8b"><span>taula<span class=refId> Taula8b</span></span></a></span> podeu trobar les conversions permeses.
</p>
<div class="ioctable"><div class="titletable"><a name="Taula8b"><span>Taula</span></a>

Modelitzacions de tipus

</div><div class="table"><table class="inline">
	<tr class="row0">
		<th class="col0"> Sentència </th><th class="col1"> Modelat a… </th>
	</tr>
	<tr class="row1">
		<td class="col0"> (integer), (int) </td><td class="col1"> integer </td>
	</tr>
	<tr class="row2">
		<td class="col0"> (boolean) </td><td class="col1"> boolean </td>
	</tr>
	<tr class="row3">
		<td class="col0"> (float), (double), (real) </td><td class="col1"> float </td>
	</tr>
	<tr class="row4">
		<td class="col0"> (string) </td><td class="col1"> string </td>
	</tr>
	<tr class="row5">
		<td class="col0"> (binary) </td><td class="col1"> string </td>
	</tr>
	<tr class="row6">
		<td class="col0"> (array) </td><td class="col1"> array </td>
	</tr>
	<tr class="row7">
		<td class="col0"> (object) </td><td class="col1"> object </td>
	</tr>
</table></div>
</div>
<p>
En l’exemple següent es mostra com es pot utilitzar la conversió (<em>casting</em>). En aquest cas, es modela el que hauria de ser un nombre amb decimals a un nombre enter:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st0">&quot;Sense modelar 27/5: &quot;</span><span class="sy0">.</span><span class="br0">&#40;</span><span class="nu0">27</span><span class="sy0">/</span><span class="nu0">5</span><span class="br0">&#41;</span><span class="sy0">.</span><span class="st0">&quot;&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st0">&quot;I ara ja modelat: &quot;</span><span class="sy0">.</span><span class="br0">&#40;</span>integer<span class="br0">&#41;</span><span class="br0">&#40;</span><span class="nu0">27</span><span class="sy0">/</span><span class="nu0">5</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

</div>

<h3><a id="variables1" >Variables</a></h3>
<div class="level3">

<p>
El llenguatge de programació PHP té una característica que destaca. El món de les variables en PHP és una gran ajuda per al programador, i això no ve al cas pel fet que no calgui declarar els tipus de les variables, sinó perquè té un gran nombre de variables predefinides que simplifiquen molt les tasques del tècnic.
</p>

</div>

<h4><a id="ambit_de_les_variables" >Àmbit de les variables</a></h4>
<div class="level4">

<p>
Les variables tenen una vida determinada depenent d’on les declareu i com ho feu. És molt important conèixer l’àmbit de les variables per controlar els vostres codis. No comprendre aquesta part pot provocar fallades inesperades en les vostres creacions.
</p>

<p>
L’àmbit d’una variable és el context en què és definida.
</p>

<p>
En l’exemple següent es mostra com es pot declarar una variable nombroses vegades en àmbits diferents:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$nom</span><span class="sy0">=</span><span class="st_h">'Nyoman'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st_h">'De moment $nom val '</span><span class="sy0">.</span><span class="re0">$nom</span><span class="sy0">.</span><span class="st0">&quot;&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">function</span> canvi<span class="br0">&#40;</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="re0">$nom</span><span class="sy0">=</span><span class="st_h">'Ketut'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span> <span class="st_h">'Però ara $nom val '</span><span class="sy0">.</span><span class="re0">$nom</span><span class="sy0">.</span><span class="st0">&quot;&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">canvi<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st_h">'I de nou $nom torna a tenir el valor de '</span><span class="sy0">.</span><span class="re0">$nom</span><span class="sy0">.</span><span class="st0">&quot;&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

</div>

<h4><a id="variables_predefinides" >Variables predefinides</a></h4>
<div class="level4">

<p>
En PHP hi ha una sèrie de <strong>variables predefinides</strong> que resulten de gran ajuda per al programador. Dins d’aquestes variables predefinides cal destacar un gran grup, el grup de les anomenades <em>superglobals</em>.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Les <strong>variables superglobals</strong> són variables que sempre estan disponibles en tots els àmbits.
</p>
</div></div>
<p>
Les variables superglobals són nou:
</p>

<p>
<strong>1.</strong> <em>$GLOBALS</em>: fa referència a totes les variables disponibles en l’àmbit global. Es tracta d’una variable de tipus matriu associativa.
</p>

<p>
En l’exemple següent es recorre la variable superglobal <em>$GLOBALS</em>:
</p>
<div class="iocnote"><div class="ioccontent">
<p>
Una manera de recórrer matrius és utilitzar la funció <em>foreach</em>. Introduïda en el PHP4 s’ha revisat en el PHP5 per iterar també objectes.
</p>
</div></div><pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$una_variable</span><span class="sy0">=</span><span class="st0">&quot;Hola&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$una_altra_variable</span><span class="sy0">=</span><span class="st0">&quot;Com va?&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">foreach</span> <span class="br0">&#40;</span><span class="re0">$GLOBALS</span> <span class="kw1">as</span> <span class="re0">$key</span> <span class="sy0">=&gt;</span> <span class="re0">$valor</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">  <span class="kw1">echo</span> <span class="st0">&quot;GLOBALS[<span class="es4">$key</span>] = <span class="es4">$valor</span>&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
<strong>2.</strong> <em>$_SERVER</em>: ofereix informació molt últil sobre el servidor i l’entorn d’execució. Els valors que emmagatzema són generats pel navegador web.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="kw1">foreach</span> <span class="br0">&#40;</span><span class="re0">$_SERVER</span> <span class="kw1">as</span> <span class="re0">$key</span> <span class="sy0">=&gt;</span> <span class="re0">$valor</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">  <span class="kw1">echo</span> <span class="st0">&quot;SERVER[<span class="es4">$key</span>] = <span class="es4">$valor</span>&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
L’exemple anterior és de gran utilitat. Executeu-lo i veureu un seguit de dades referents a la màquina que fa de servidor del PHP. Entre altres coses, identificareu el nom de la màquina, la versió del navegador, la versió del servidor web, la ubicació de fitxers importants i un llarg etcètera.
</p>

<p>
<strong>3.</strong> <em>$_GET</em>: correspon a la variable <em>GET</em> del protocol HTTP. Emmagatzema els valors de les variables que es trasmeten per mitjà del protocol
<em>HTTP</em> mitjançant el mètode <em>GET</em>. El seu ús és molt normal en formularis.
</p>

<p>
<strong>4.</strong> <em>$_POST</em>: correspon a la variable <em>POST</em> del protocol HTTP. Emmagatzema els valors de les variables que es transmeten per mitjà del protocol <em>HTTP</em> mitjançant el mètode <em>POST</em>. El seu ús és, generalment, més adequat que el mètode <em>GET</em> per a temes de seguretat.
</p>

<p>
<strong>5.</strong> <em>$_FILES</em>: aquesta variable s’utilitza en la càrrega de fitxers per mitjà del protocol HTTP. El mètode utilitzat és el <em>POST</em>.
</p>

<p>
<strong>6.</strong> <em>$_COOKIE</em>: és una variable de tipus matriu associativa que emmagatzemarà les variables passades a l’<em>script</em> per mitjà de les galetes de l’<acronym title="HyperText Markup Language">HTML</acronym>.
</p>

<p>
<strong>7.</strong> <em>$_SESSION</em>: conté les variables de sessió disponibles en l’<em>script</em> actual.
</p>

<p>
<strong>8.</strong> <em>$_REQUEST</em>: és una matriu associativa que conté les dades de <em>$_GET</em> , <em>$_POST</em> i <em>$_COOKIE</em>.
</p>

<p>
<strong>9.</strong> <em>$_ENV</em>: conté les variables d’entorn.
</p>

<p>
Altres variables predefinides són:
</p>
<ul>
<li class="level1"><div class="li"> <em>$php_errormsg</em>: aquesta variable emmagatzema el text de l’últim missatge d’error. Per poder-la utilitzar, l’opció de configuració <em>track_errors</em> ha d’estar activada.</div>
</li>
<li class="level1"><div class="li"> <em>$HTTP_RAW_POST_DATA</em>: en aquesta variable quedaran emmagatzemades les dades <em>POST</em> originals.</div>
</li>
<li class="level1"><div class="li"> <em>$http_response_header</em>: conté les capçaleres de resposta HTTP.</div>
</li>
<li class="level1"><div class="li"> <em>$argc</em>: indica el nombre de paràmetres que s’han passat a l’<em>script</em>.</div>
</li>
<li class="level1"><div class="li"> <em>$argv</em>: conté els arguments que s’han passat a l’<em>script</em>.</div>
</li>
</ul>

</div>

<h4><a id="variables_globals" >Variables globals</a></h4>
<div class="level4">

<p>
La paraula reservada global indica que la variable que l’acompanya s’ha d’entendre en un àmbit global. 
</p>

<p>
També podeu fer servir l’<em>array</em> associatiu <em>$GLOBALS</em>, que conté referències a totes les variables globals definides en cada moment en l’àmbit del programa. 
Els índexs de l’<em>array</em> són els noms de les variables. 
</p>

<p>
En l’exemple següent es mostren tots dos casos, i podeu veure com es traspassen els problemes derivats de l’àmbit local de les variables.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$nom</span><span class="sy0">=</span><span class="st_h">'Elewa'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$benvinguda</span><span class="sy0">=</span><span class="st_h">'benvingut al curs!'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">function</span> salutacio<span class="br0">&#40;</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw2">global</span> <span class="re0">$nom</span><span class="sy0">,</span> <span class="re0">$benvinguda</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="re0">$benvinguda</span><span class="sy0">=</span> <span class="re0">$nom</span><span class="sy0">.</span><span class="st0">&quot; &quot;</span><span class="sy0">.</span><span class="re0">$benvinguda</span><span class="sy0">.</span><span class="st0">&quot;&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">salutacio<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="re0">$benvinguda</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st0">&quot;Valor d'una variable global: &quot;</span><span class="sy0">.</span><span class="re0">$GLOBALS</span><span class="br0">&#91;</span><span class="st_h">'nom'</span><span class="br0">&#93;</span><span class="sy0">.</span><span class="st0">&quot;&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st0">&quot;i de l'altra: &quot;</span><span class="sy0">.</span><span class="re0">$GLOBALS</span><span class="br0">&#91;</span><span class="st_h">'benvinguda'</span><span class="br0">&#93;</span><span class="sy0">.</span><span class="st0">&quot;&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
Quan dins la funció <em>salutacio()</em> es declaren globals les variables <em>$nom</em> i<em>$benvinguda</em>, es força que totes les referències a aquestes dues variables apuntin a les variables globals.
</p>

</div>

<h4><a id="variables_estatiques" >Variables estàtiques</a></h4>
<div class="level4">

<p>
Les <strong>variables estàtiques</strong> sempre mantenen el valor encara que el programa abandoni l’àmbit de la variable, i existeixen només en l’àmbit local de les funcions. No s’hi pot accedir fora d’aquest àmbit.
</p>

<p>
Fixeu-vos en l’exemple següent. Hi ha dues funcions, una de les quals conté una variable estàtica, mentre que l’altra no. L’acció de totes dues funcions no és cap altra que incrementar el valor d’una variable, però els resultats són molt diferents. En la funció anomenada <em>comptador()</em> la variable que s’incrementa no és estàtica; per tant, cada vegada que la seqüència del programa abandoni la funció, la variable perdrà el seu valor. En canvi, en la funció <em>comptadorEstatic()</em>, la variable que s’incrementa és estàtica; per tant, quan la seqüència del programa abandoni aquesta funció no es perdrà el valor acumulat, i aquest restarà en la memòria.
</p>

<p>

</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="kw2">function</span> comptador<span class="br0">&#40;</span><span class="br0">&#41;</span> </div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="re0">$a</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span> <span class="st0">&quot;Al comptador: &quot;</span><span class="sy0">.</span><span class="re0">$a</span><span class="sy0">.</span><span class="st0">&quot;&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="re0">$a</span><span class="sy0">++;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">function</span> comptadorEstatic<span class="br0">&#40;</span><span class="br0">&#41;</span> </div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    static <span class="re0">$b</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span> <span class="st0">&quot;Al comptador estàtic: &quot;</span><span class="sy0">.</span><span class="re0">$b</span><span class="sy0">.</span><span class="st0">&quot;&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="re0">$b</span><span class="sy0">++;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">for</span><span class="br0">&#40;</span><span class="re0">$i</span><span class="sy0">=</span><span class="nu0">0</span><span class="sy0">;</span><span class="re0">$i</span><span class="sy0">&lt;</span><span class="nu0">3</span><span class="sy0">;</span><span class="re0">$i</span><span class="sy0">++</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    comptador<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    comptadorEstatic<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span> </div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

</div>

<h4><a id="variables_variables" >Variables variables</a></h4>
<div class="level4">

<p>
De vegades, pot resultar de gran utilitat disposar de noms de variables que es puguin definir i utilitzar dinàmicament; d’aquestes, en diem <strong>variables variables</strong>. Mireu l’exemple següent, en què una variable variable pren el valor d’una variable i el tracta com si fos el nom d’una variable.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="co1">// no podeu deixar espais dins de la cadena Hola, doncs es farà servir per nom d'altra variable</span></div></li><li class="li1"><div class="de1"><span class="re0">$variable</span> <span class="sy0">=</span> <span class="st0">&quot;Hola&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="re0">$$variable</span> <span class="sy0">=</span> <span class="st0">&quot; mon&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co1">//Mostra el mateix</span></div></li><li class="li1"><div class="de1"><span class="kw1">print</span> <span class="st0">&quot; <span class="es4">$variable</span>{$<span class="es4">$variable</span>}&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">print</span>  <span class="st0">&quot;<span class="es4">$variable</span><span class="es4">$Hola</span>&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
No podreu utilitzar les variables superglobals com a variables variables dins de funcions o mètodes de classe.
</p>

</div>

<h4><a id="variables_de_sessio" >Variables de sessió</a></h4>
<div class="level4">

<p>
Les necessitats actuals forcen a buscar solucions ràpides i segures per accelerar la presentació d’informació i la comunicació entre les diferents parts que formen un sistema informàtic comunicatiu. Les variables de sessió són una solució molt adequada per resoldre aquests problemes.
</p>

<p>
Les <strong>variables de sessió</strong> són variables que estan disponibles en múltiples pàgines sense haver de fer servir pas de paràmetres. Les variables de sessió tenen un temps de vida limitat i s’emmagatzemen en el servidor.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Podeu fer servir les variables de sessió per mantenir informació (l’anomenada <em>informació de sessió</em>) entre diferents pàgines. Per exemple, el nom d’usuari o una selecció de productes que ja s’hagi fet. 
</p>
</div></div>
<p>
A continuació, estudiareu un exemple format per tres fitxers. El primer fitxer és un formulari senzill que demana a l’usuari un identificador i una contrasenya. Aquestes dades s’envien a un segon fitxer, anomenat exempleAutenticar.php, que crea les variables de sessió. Finalment, trobareu un tercer fitxer anomenat continuem.php, que recupera la informació emmagatzemada en les variables de sessió.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">&lt;input type=”password”&gt;</p>
<p>
Si indiqueu a l’etiqueta <acronym title="HyperText Markup Language">HTML</acronym> que sigui de tipus contrasenya, no s’imprimiran els caràcters conforme aneu escrivint. En comptes de text es mostraran asteriscs.
</p>
</div></div>
<p>
Just a sota d’aquest text hi ha el fitxer del qual partireu. L’hem anomena exempleSessions.php, però el podeu anomenar d’una altra manera:
</p>
<pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/html.html"><span class="kw2">HTML</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/head.html"><span class="kw2">head</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/title.html"><span class="kw2">title</span></a>&gt;</span>Exemple amb variables de sessió<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/title.html"><span class="kw2">title</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/head.html"><span class="kw2">head</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/body.html"><span class="kw2">body</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a> <span class="kw3">action</span><span class="sy0">=</span><span class="st0">&quot;exempleAutenticar.php&quot;</span> <span class="kw3">method</span><span class="sy0">=</span><span class="st0">&quot;post&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">          Escriu el teu nom:</div></li><li class="li1"><div class="de1">          <span class="sc2">&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;usuari&quot;</span>&gt;&lt;<a href="http://december.com/html/4/element/br.html"><span class="kw2">br</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">          Escriu la teva contrasenya:</div></li><li class="li1"><div class="de1">          <span class="sc2">&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;password&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;contrasenya&quot;</span>&gt;&lt;<a href="http://december.com/html/4/element/br.html"><span class="kw2">br</span></a>&gt;&lt;<a href="http://december.com/html/4/element/br.html"><span class="kw2">br</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">          <span class="sc2">&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;submit&quot;</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;Envia!&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/body.html"><span class="kw2">body</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/html.html"><span class="kw2">HTML</span></a>&gt;</span></div></li></ol></pre>

<p>
Tot seguit apareix el codi del fitxer exempleAutenticar.php. En aquest fitxer creareu i inicialitzareu les dues variables de sessió que utilitzareu.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/session_start"><span class="kw3">session_start</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$_SESSION</span><span class="br0">&#91;</span><span class="st_h">'id_usuari'</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="re0">$_REQUEST</span><span class="br0">&#91;</span><span class="st_h">'usuari'</span><span class="br0">&#93;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$_SESSION</span><span class="br0">&#91;</span><span class="st_h">'clau_acces'</span><span class="br0">&#93;</span><span class="sy0">=</span><span class="re0">$_REQUEST</span><span class="br0">&#91;</span><span class="st_h">'contrasenya'</span><span class="br0">&#93;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;HTML&gt;</div></li><li class="li1"><div class="de1">  &lt;head&gt;</div></li><li class="li1"><div class="de1">      &lt;title&gt;...continueu amb l'exemple de variables de sessió...&lt;/title&gt;</div></li><li class="li1"><div class="de1">  &lt;/head&gt;</div></li><li class="li1"><div class="de1">  &lt;body&gt;</div></li><li class="li1"><div class="de1">      Ja s'han emmagatzemat les variables de sessió.&lt;br&gt;&lt;br&gt;</div></li><li class="li1"><div class="de1">      &lt;a href=&quot;continuem.php&quot;&gt;Vinga! Cap al final de l'exemple!&lt;/a&gt;</div></li><li class="li1"><div class="de1">  &lt;/body&gt;</div></li><li class="li1"><div class="de1">&lt;/HTML&gt;</div></li></ol></pre>

<p>
Fixeu-vos que el primer que es fa és cridar la funció <em>session_start()</em>. És obligatori que inicieu la sessió abans de cap etiqueta <acronym title="HyperText Markup Language">HTML</acronym> perquè tot funcioni correctament.
</p>

<p>
Amb <em>$_REQUEST</em> es recuperen els dos valors que s’han passat des del fitxer inicial, és a dir, <em>usuari</em> i <em>contrasenya</em>, i els heu d’emmagatzemar en dues variables de sessió creades a <em>$_SESSION</em>, que rebran el nom d’<em>id_usuari</em> i <em>clau_acces</em>.
</p>

<p>
<em>$_REQUEST</em> és un <em>array</em> associatiu global que per defecte té els continguts de <em>$_GET</em>, <em>$_POST</em> i <em>$_COOKIE</em>. 
</p>

<p>
A part de crear les variables de sessió i donar-los valors trobareu un enllaç cap al tercer fitxer.
</p>

<p>
El codi del tercer fitxer, continuem.php, el teniu a continuació:
</p>

<p>

</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/session_start"><span class="kw3">session_start</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;HTML&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;head&gt;</div></li><li class="li1"><div class="de1">  &lt;title&gt;...i acabem l'exemple de variables de sessió!&lt;/title&gt;</div></li><li class="li1"><div class="de1">&lt;/head&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;body&gt;</div></li><li class="li1"><div class="de1">  <span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span> <span class="st0">&quot;L'usuari que havíeu escrit era: &quot;</span><span class="sy0">.</span><span class="re0">$_SESSION</span><span class="br0">&#91;</span><span class="st_h">'id_usuari'</span><span class="br0">&#93;</span><span class="sy0">;</span><span class="kw1">echo</span> <span class="st0">&quot;&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span> <span class="st0">&quot;La contrasenya que havíeu escrit era: &quot;</span><span class="sy0">.</span><span class="re0">$_SESSION</span><span class="br0">&#91;</span><span class="st_h">'clau_acces'</span><span class="br0">&#93;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="sy1">?&gt;</span></div></li><li class="li1"><div class="de1">&lt;/body&gt;</div></li><li class="li1"><div class="de1">&lt;/HTML&gt;</div></li></ol></pre>

<p>
Com que esteu treballant amb sessions, el primer que hauríeu de fer és llançar la sessió amb <em>session_start().</em> A continuació, es recuperen els valors emmagatzemats en les dues variables de sessió.
</p>

</div>

<h3><a id="excepcions_en_php" >Excepcions en PHP</a></h3>
<div class="level3">

<p>
No diu gaire el codi que, a causa d’un error produït en temps d’execució, fa caure tot el programa i en força la sortida.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Les <strong>excepcions</strong> tenen la missió de detectar i corregir errors.
</p>
</div></div>
<p>
En cas que es produís un error, la vostra aplicació no hauria de produir un terrabastall i forçar la sortida del programa, sinó que es pot llançar una excepció (<em>throw</em>) que haureu de capturar (<em>catch</em>) i resoldre la situació d’error. El codi susceptible de provocar l’error ha d’anar dins d’un bloc <em>try</em>, que obligatòriament ha de tenir un bloc <em>catch</em>.
</p>

<p>
Quan es produeix una excepció, el PHP va a buscar directament el bloc de codi del <em>catch</em>. Si no es captura una excepció, l’error resulta fatal per al programa.
</p>

<p>
En l’exemple següent es fa un filtratge perquè no hi hagi cap divisió en què el divisor tingui per valor 0. Si això passa, en comptes de caure el programa, es tracta el problema. En aquest cas, quan es dóna la situació simplement es mostra un missatge per pantalla que n’avisa:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="kw2">function</span> filtreDividir<span class="br0">&#40;</span><span class="re0">$dividend</span><span class="sy0">,</span><span class="re0">$divisor</span><span class="br0">&#41;</span> </div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">  <span class="kw1">if</span> <span class="br0">&#40;</span><span class="re0">$divisor</span><span class="sy0">==</span><span class="nu0">0</span><span class="br0">&#41;</span> </div></li><li class="li1"><div class="de1">    <span class="kw1">throw</span> <span class="kw2">new</span> Exception<span class="br0">&#40;</span><span class="st_h">'Divisió per zero.'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="kw1">else</span> </div></li><li class="li1"><div class="de1">    <span class="kw1">return</span> <span class="br0">&#40;</span><span class="re0">$dividend</span><span class="sy0">/</span><span class="re0">$divisor</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">try </div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">  <span class="re0">$dividend</span><span class="sy0">=</span><span class="re0">$_POST</span><span class="br0">&#91;</span><span class="st_h">'dividend'</span><span class="br0">&#93;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="re0">$divisor</span><span class="sy0">=</span><span class="re0">$_POST</span><span class="br0">&#91;</span><span class="st_h">'divisor'</span><span class="br0">&#93;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  filtreDividir<span class="br0">&#40;</span><span class="re0">$dividend</span><span class="sy0">,</span><span class="re0">$divisor</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span> </div></li><li class="li1"><div class="de1">catch <span class="br0">&#40;</span>Exception <span class="re0">$e</span><span class="br0">&#41;</span> </div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">  <span class="kw1">echo</span> <span class="st0">&quot;S'ha capturat l'excepció: &quot;</span><span class="sy0">.</span><span class="re0">$e</span><span class="sy0">-&gt;</span><span class="me1">getMessage</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">.</span><span class="st0">&quot;&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="st0">&quot;I no s'avorta l'execució del programa!!!&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>
<div class="iocimportant"><div class="ioccontent">
<p>
Hi ha dues excepcions predefinides: <em>Exceptions</em> i <em>ErrorException</em>. La primera és la classe base de totes les excepcions, conté el missatge de l’excepció, el nom de l’excepció, el codi de l’excepció, el nom del fitxer que ha llançat l’excepció, el número de línia en què s’ha produït l’excepció i la traça associada a l’excepció. L’excepció<em>ErrorException</em> hereta de l’excepció <em>Exception</em> i indica numèricament la severitat de l’excepció produïda.
</p>
</div></div>
</div>

<h3><a id="galetes_cookies" >Galetes (cookies)</a></h3>
<div class="level3">

<p>
Quan navegueu per Internet visiteu pàgines que poden amagar una certa complexitat per donar un servei millor a l’usuari. Podeu comprovar com diverses pàgines web, fins i tot, us reconeixen en el moment en què hi accediu.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Lou Montulli</p>
<p>
Aquest programador va crear les galetes mentre treballava a Netscape durant la dècada de 1990. També va crear, juntament amb altres dos programadors, el popular navegador Lynx.
</p>
</div></div><div class="iocimportant"><div class="ioccontent">
<p>
Les <strong>galetes</strong> són uns fitxers de text que emmagatzemen informació a l’ordinador client referent a la visita d’un usuari a una pàgina web.
</p>
</div></div>
<p>
Les galetes no són un acte d’intromissió per part de la pàgina web visitada; simplement, són una font d’informació molt útil per augmentar l’eficiència en l’accés.
</p>

<p>
Les galetes tenen una mida màxima d’1K i caduquen, la qual cosa fa molt difícil que s’utilitzin amb fins malintencionats. A més, únicament pot consultar la galeta el web que l’ha dipositada, la informació que conté no és visible per a la resta de pàgines web.
</p>

</div>

<h4><a id="utilitat_de_les_galetes" >Utilitat de les galetes</a></h4>
<div class="level4">

<p>
Un ús molt freqüent de les galetes és emmagatzemar un perfil d’usuari. Així s’aconsegueix que cada vegada que el mateix usuari accedeix a un web, aquest en conegui les preferències i li mostri directament els continguts més adequats.
</p>

<p>
Les galetes ajuden els programadors a crear un entorn més adequat per a l’usuari visitant. Moltes pàgines web permeten canviar la mida del text, els colors de la pàgina, la disposició d’alguns continguts, etc. Una vegada l’usuari ha modificat al seu gust l’aspecte de la pàgina web, aquestes dades s’emmagatzemen per a la propera visita.
</p>

</div>

<h4><a id="funcions_del_php_per_treballar_amb_galetes" >Funcions del PHP per treballar amb galetes</a></h4>
<div class="level4">

<p>
La funció que s’utilitza en PHP per crear galetes és <em>setcookie</em>.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
La definició de la funció <em>Setcookie</em> és:
</p>

<p>
<code>bool <strong>setcookie</strong> ( string $nom [, string $valor [, int $caduca= 0 [, string $ruta [, string $domini [, bool $seguretat= false [, bool $nomeshttp= false ]]]]]] )</code>
</p>
</div></div>
<p>
La funció <em>setcookie</em> retornarà <em>cert</em> si la galeta s’ha creat sense cap dificultat i <em>fals</em> si hi ha hagut algun problema. 
</p>

<p>
A continuació anem a descriure els seus paràmetres: 
</p>
<ul>
<li class="level1"><div class="li"> <em>$nom</em>: és obligatori i indica el nom que donareu a la galeta, la resta de paràmetres són opcionals. </div>
</li>
<li class="level1"><div class="li"> <em>$valor</em>: és el valor que tindrà la galeta. </div>
</li>
<li class="level1"><div class="li"> <em>$caduca</em>: indica els segons que té de vida la galeta; si no s’indica res la galeta deixarà d’existir quan finalitzi la sessió de l’usuari. </div>
</li>
<li class="level1"><div class="li"> <em>$ruta</em>: indica on podeu trobar la galeta dins el servidor. </div>
</li>
<li class="level1"><div class="li"> <em>$domini</em>: marca el domini en què la galeta està disponible. </div>
</li>
<li class="level1"><div class="li"> <em>$seguretat</em>: tindrà el valor <em>TRUE</em> si voleu que la galeta només s’utilitzi en una connexió segura, i <em>FALSE</em> (que és el valor per defecte), si no és necessari un cert grau de seguretat. </div>
</li>
<li class="level1"><div class="li"> <em>$nomeshttp</em>: si té per valor <em>TRUE</em> marcarà que la galeta solament és accessible si s’utilitza el protocol HTTP.</div>
</li>
</ul>
<div class="iocnote"><div class="ioccontent">
<p>
Galeta és la traducció de l’anglès <em>cookie</em>. El nom originari és <em>magic cookie</em>, que són les galetes de la sort, les quals amaguen informació a l’interior.
</p>
</div></div>
<p>
L’exemple següent mostra l’ús d’una galeta. L’exemple consta de dues parts, un primer exemple en què es crea la galeta i s’hi assigna un valor, i una segona part en què es recupera el valor emmagatzemat en la galeta.
</p>

<p>
El primer fitxer s’encarrega de declarar la galeta amb un identificatiu, en aquest cas <em>nom</em>, i s’hi assignarà el valor <em>Maadiva</em>:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"> <a href="http://www.php.net/setcookie"><span class="kw3">setcookie</span></a><span class="br0">&#40;</span><span class="st_h">'nom'</span><span class="sy0">,</span> <span class="st_h">'Maadiva'</span><span class="br0">&#41;</span><span class="sy0">;</span>    </div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
El segon fitxer s’encarregarà de consultar a la matriu associativa<em>$_COOKIE</em> el valor de la galeta indicada, que en aquest cas seria <em>nom</em>:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span> </div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <span class="re0">$_COOKIE</span><span class="br0">&#91;</span><span class="st_h">'nom'</span><span class="br0">&#93;</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

</div>

<h3><a id="encriptacio_de_dades_amb_el_php" >Encriptació de dades amb el PHP</a></h3>
<div class="level3">

<p>

</p>

<p>
La seguretat és un aspecte molt important que cal tenir en compte en l’administració d’un sistema. El llenguatge PHP us ofereix la possibilitat d’aplicar tècniques d’encriptació mitjançant funcions com <em>crypt()</em>, <em>md5()</em> i les funcions <em>mcrypt</em>.
</p>

<p>
A més d’encriptar dades podreu verificar les vostres contrasenyes amb funcions <em>crack</em>, utilitzar funcions <em>hash</em> per identificar fitxers o comprovar signatures amb OpenSSL.
</p>

</div>

<h4><a id="sha1" >SHA1</a></h4>
<div class="level4">

<p>
SHA1 és una funció de <em>hash</em> criptogràfica disenyada per l’agència de seguretat nacional nordamericana. La informació està codificada amb una clau de 160 bits i es considera una funció criptogràfica més segura que MD5 (que va ser durant molt de temps la funció criptogràfica més popular a PHP). 
</p>

<p>
La funció per calcular el <em>hash</em> SHA1 té la següent forma a PHP:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1">string <a href="http://www.php.net/sha1"><span class="kw3">sha1</span></a> <span class="br0">&#40;</span> string <span class="re0">$str</span> <span class="br0">&#91;</span><span class="sy0">,</span> bool <span class="re0">$sortida_raw</span> <span class="sy0">=</span> <span class="kw4">false</span> <span class="br0">&#93;</span> <span class="br0">&#41;</span></div></li></ol></pre>

<p>
Aquesta funció, calcula el <em>hash</em> de la variable <em>$str</em> i el retorna en forma de números hexadecimals de 40 dígits en format <em>string</em>. Si l’argument opcional <em>$sortida_raw</em> està ficat a <em>TRUE</em> la sortida tindrà el format binari amb una mida de 20 bytes. 
</p>

<p>
En el següent exemple podeu veure el resultat d’encriptar una paraula i com es comprova amb el seu valor encriptat.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="re0">$str</span> <span class="sy0">=</span> <span class="st_h">'apple'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <a href="http://www.php.net/sha1"><span class="kw3">sha1</span></a><span class="br0">&#40;</span><span class="re0">$str</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">if</span> <span class="br0">&#40;</span><a href="http://www.php.net/sha1"><span class="kw3">sha1</span></a><span class="br0">&#40;</span><span class="re0">$str</span><span class="br0">&#41;</span> <span class="sy0">===</span> <span class="st_h">'d0be2dc421be4fcd0172e5afceea3970e2f3d940'</span><span class="br0">&#41;</span> </div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">echo</span> <span class="st0">&quot;Has seleccionat una poma&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>
<div class="iocnote"><div class="ioccontent">
<p>
Tot i poder encriptar les contrasenyes amb SHA1 o MD5, aquests algorismes han estat dissenyats per ser ràpids i eficients. Per aquests motius, amb l’ús de força bruta aplicada mitjançant els ordinadors actuals, es poden trencar sense moltes complicacions aquestes encriptacions. Alguns experts en criptografia no les recomanen com a sistema d’encriptació segur per les contrasenyes. 
</p>
</div></div>
</div>

<h4><a id="algorismes_de_hash" >Algorismes de hash</a></h4>
<div class="level4">

<p>
Si s’aplica un algorisme determinat sobre un fitxer es pot arribar a obtenir un segon fitxer. Aquest segon fitxer conté un <em>número resum</em> del fitxer original. 
</p>

<p>
Si els continguts del fitxer canvien, també ho farà el número resultant de la funció de <em>hash</em>. D’aquesta manera es pot comprovar si el contingut d’un fitxer és el mateix o no després d’alguna transacció en concret (per exemple, després de descarregar-lo d’Internet o de fer-ne una còpia de seguretat). 
</p>

<p>
L’algorisme de <em>hash</em> permet obtenir una sèrie de bits de longitud fixa a partir d’un fitxer qualsevol. És impossible la reconstrucció del fitxer original utilitzant el codi <em>hash</em> obtingut.
</p>

<p>
Les aplicacions més esteses del <em>hash</em> són:
</p>
<ul>
<li class="level1"><div class="li"> Comprovar la integritat dels fitxers.</div>
</li>
<li class="level1"><div class="li"> Reforçar la seguretat en processos d’autentificació.</div>
</li>
<li class="level1"><div class="li"> Signatura digital.</div>
</li>
</ul>

<p>
No confongueu l’algorisme <em>hash</em> amb les taules <em>hash</em>. Les taules <em>hash</em> són una estructura de dades.
</p>

</div>

<h5><a id="funcions_hash" >Funcions hash</a></h5>
<div class="level5">

<p>
El llenguatge PHP suporta diferents funcions que utilitzen l’algoritme<em>hash</em>. La funció més característica és <em>hash</em>. La funció <em>hash</em> genera una cadena utilitzant un algorisme i una font de dades.
</p>

<p>
La forma que té la funció <em>hash</em> és:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1">string <span class="sy0">**</span><a href="http://www.php.net/hash"><span class="kw3">hash</span></a><span class="sy0">**</span> <span class="br0">&#40;</span>string <span class="sy0">%%</span>$<span class="sy0">%%</span>algorisme <span class="sy0">,</span> string <span class="sy0">%%</span>$<span class="sy0">%%</span>data <span class="br0">&#91;</span><span class="sy0">,</span> bool <span class="sy0">%%</span>$<span class="sy0">%%</span>mode_binari<span class="sy0">=</span> <span class="kw4">false</span> <span class="br0">&#93;</span><span class="br0">&#41;</span></div></li></ol></pre>

<p>
Els seus paràmetres indiquen el següent: 
</p>
<ul>
<li class="level1"><div class="li"> <em>$algorisme</em>: representa l’algorisme que s’ha d’utilitzar. Aquest algorisme pot ser <em>md5</em>, <em>sha1</em>, <em>gost</em>, <em>crc32</em>, <em>crc32b</em>, etc. </div>
</li>
<li class="level1"><div class="li"> <em>$data</em>: són les dades que es filtraran per l’algorisme. </div>
</li>
<li class="level1"><div class="li"> <em>$mode_binari</em>: és opcional i si el seu valor és <em>TRUE</em> marcarà que la cadena de sortida estigui formada per dades binàries; en canvi, si pren com a valor <em>FALSE</em> el resultat serà una cadena hexadecimal. Per defecte té el valor <em>FALSE</em>.</div>
</li>
</ul>

<p>
El codi següent:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <a href="http://www.php.net/hash"><span class="kw3">hash</span></a><span class="br0">&#40;</span><span class="st_h">'md5'</span><span class="sy0">,</span> <span class="st_h">'No oblideu la seguretat en els sistemes informàtics.'</span><span class="sy0">,</span><span class="kw4">FALSE</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
crea la seqüència:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1">520b1e3205e719aa4d13a8c01b89e28d</div></li></ol></pre>

<p>
En l’exemple anterior s’ha utilitzat l’algorisme MD5 per obtenir un codi <em>hash</em> hexadecimal. Per obtenir el codi és necessari tenir dades, que les podem obtenir d’una cadena de text. El resultat és en format hexadecimal i no en binari perquè hem indicat <em>FALSE</em> en el tercer paràmetre de la funció.
</p>

<p>
Normalment, s’utilitza una codificació <em>hash</em> per comprovar que el contingut d’un fitxer no s’ha modificat.
</p>

<p>
En aquest cas, la funció utilitzada és <em>hash_file</em>:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1">string <span class="sy0">**</span><a href="http://www.php.net/hash_file"><span class="kw3">hash_file</span></a><span class="sy0">**</span> <span class="br0">&#40;</span> string <span class="sy0">%%</span>$<span class="sy0">%%</span>algorisme <span class="sy0">,</span> string <span class="sy0">%%</span>$<span class="sy0">%%</span>nom_fitxer <span class="br0">&#91;</span><span class="sy0">,</span> bool <span class="sy0">%%</span>$<span class="sy0">%%</span>mode_binari<span class="sy0">=</span> <span class="kw4">false</span> <span class="br0">&#93;</span> <span class="br0">&#41;</span></div></li></ol></pre>

<p>
La funció <em>hash_file</em> retornarà una cadena. Aquesta és l’explicació dels seus paràmetres:
</p>
<ul>
<li class="level1"><div class="li"> <em>$algorisme</em>: indica l’algorisme que s’ha d’utilitzar. </div>
</li>
<li class="level1"><div class="li"> <em>$nom_fitxer</em>: indica l’arxiu que s’utilitzarà com a base per crear la codificació <em>hash</em>. </div>
</li>
<li class="level1"><div class="li"> <em>$mode_binari</em>: és opcional, si el seu valor és <em>TRUE</em> la cadena resultant serà binària, i si el seu valor és <em>FALSE</em> el resultat es mostrarà en codificació hexadecimal.</div>
</li>
</ul>
<div class="iocnote"><div class="ioccontent">
<p>
<strong>Tiger</strong> és una funció <em>hash</em> pensada per a plataformes de 64 bits. Aquesta funció, entre d’altres, possiblement serà la que substituirà l’algorisme MD5.
</p>
</div></div>
<p>
Fixeu-vos en l’exemple següent, en què es calcula el codi <em>hash</em> d’un fitxer anomenat exemple_hash_file.php:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><span class="kw1">echo</span> <a href="http://www.php.net/hash_file"><span class="kw3">hash_file</span></a><span class="br0">&#40;</span><span class="st_h">'md5'</span><span class="sy0">,</span> <span class="st_h">'exemple_hash_file.php'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

<p>
que dóna com a resultat:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1">2d205ca4c799ac669c97c93eadc5df2a</div></li></ol></pre>

<p>
Podeu comprovar que si només utilitzeu els dos primers paràmetres la funció no dóna cap error i es mostra directament el resultat en codificació hexadecimal.
</p>

<p>
Després de fer una petita modificació en el fitxer exemple_hash_file.php el que es mostra en el navegador és:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1">7c804cc0743ef78c8cdaaa540ea332d2</div></li></ol></pre>

<p>
Com podeu veure, el resultat és completament diferent. Per petita que sigui la modificació en el contingut d’un fitxer, el resultat d’aplicar un algoritme en una codificació <em>hash</em> implica obtenir una clau completament nova.
</p>

<p>
És molt important saber quin algoritme es pot utilitzar en l’ús d’aquestes funcions. El mateix llenguatge PHP us ofereix la possibilitat de consultar els algoritmes suportats mitjançant la funció <em>hash_algos().</em> Aquesta funció retorna una matriu que conté tots els algoritmes que es poden utilitzar. A continuació, es mostra com es pot utilitzar aquesta funció:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1"><a href="http://www.php.net/print_r"><span class="kw3">print_r</span></a><span class="br0">&#40;</span><a href="http://www.php.net/hash_algos"><span class="kw3">hash_algos</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

</div>

<h4><a id="generacio_i_verificacio_de_signatures_en_php" >Generació i verificació de signatures en PHP</a></h4>
<div class="level4">

<p>
La seguretat en l’intercanvi d’informació a través de la Xarxa és una de les bases de la programació actual. El llenguatge PHP no podia oblidar implementar funcionalitats com ara la generació i verificació de signatures.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Mitjançant les funcions de l’OpenSSL, el llenguatge PHP pot generar certificats digitals i implementar protocols de comunicació segurs.
</p>
</div></div>
<p>
L’OpenSSL forma part d’un paquet. Abans de provar les funcions que veureu a continuació assegureu-vos que teniu instal·lat el paquet.
</p>

<p>
L’OpenSSL suporta els algorismes de signatura <em>DSS1</em>, <em>SHA1</em>, <em>MD5</em>, <em>MD4</em> i<em>MD2</em>. Per obtenir certificats heu de fer servir la funció <em>openssl_x509_read</em>:
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">X.509</p>
<p>
X.509 és un estàndard que especifica, entre altres coses, certificats de clau pública. L’any 2007 es va demostrar que era vulnerable a determinats atacs.
</p>
</div></div><pre class="code php"><ol><li class="li1"><div class="de1">resource <a href="http://www.php.net/openssl_x509_read"><span class="kw3">openssl_x509_read</span></a> <span class="br0">&#40;</span> mixed <span class="re0">$x509certdata</span> <span class="br0">&#41;</span></div></li></ol></pre>

<p>
El paràmetre <em>$x509certdata</em> és el certificat que es llegeix. Es retorna un identificador d’aquest certificat; aquest identificador es pot utilitzar en altres funcions PHP.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">PEM</p>
<p>
PEM és un format de fitxer utilitzat per emmagatzemar xifrats digitals. Quan feu servir un paràmetre en una funció que sigui un certificat o una clau podreu fer servir fitxers d’aquest format.
</p>
</div></div>
<p>
Per a la gestió de claus, les dues funcions principals són <em>open_get_publickey()</em> per obtenir una clau pública i <em>open_get_privatekey()</em> per obtenir una clau privada.
</p>

<p>
La descripció d’<em>open_get_publickey()</em> és un àlies de:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1">resource <a href="http://www.php.net/openssl_pkey_get_public"><span class="kw3">openssl_pkey_get_public</span></a> <span class="br0">&#40;</span> mixed <span class="re0">$certificat</span> <span class="br0">&#41;</span></div></li></ol></pre>

<p>
El paràmetre <em>$certificat</em> pot ser un certificat X.509 o una clau privada.
</p>

<p>
La descripció d’<em>open_get_privatekey()</em>és un àlies de:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1">resource <a href="http://www.php.net/openssl_pkey_get_private"><span class="kw3">openssl_pkey_get_private</span></a> <span class="br0">&#40;</span> mixed <span class="re0">$clau</span> <span class="br0">&#91;</span><span class="sy0">,</span> string <span class="re0">$passphrase</span><span class="sy0">=</span> <span class="st0">&quot;&quot;</span> <span class="br0">&#93;</span> <span class="br0">&#41;</span></div></li></ol></pre>

<p>
en què el paràmetre <em>$clau</em> és la clau que es fa servir. Opcionalment, podeu utilitzar el paràmetre <em>$passphrase</em> si la clau està encriptada.
</p>

</div>

<h2><a id="programacio_orientada_a_objectes_en_php" >Programació orientada a objectes en PHP</a></h2>
<div class="level2">

<p>
El llenguatge de programació PHP no és un llenguatge orientat a objectes, però sí que en suporta la gran majoria de característiques. 
</p>

<p>
La programació orientada a objectes es fonamenta en dos pilars: les classes i els objectes. Amb aquests dos elements bàsics es poden dissenyar programes complexos molt potents d’una manera molt clara i senzilla.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Una <strong>classe</strong> en programació orientada a objectes és la definició d’un element que forma part d’un sistema.
</p>
</div></div>
<p>
Les classes defineixen la forma i el comportament dels objectes.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Els <strong>objectes</strong> són variables que responen a unes propietats i funcionalitats descrites en una classe.
</p>
</div></div>
<p>
Un exemple d’ús de la programació orientada a objectes seria:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1">&lt;HTML&gt;</div></li><li class="li1"><div class="de1">  &lt;head&gt;</div></li><li class="li1"><div class="de1">      &lt;title&gt;Primer exemple amb POO&lt;/title&gt;</div></li><li class="li1"><div class="de1">  &lt;/head&gt;</div></li><li class="li1"><div class="de1">  &lt;body&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">      <span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1">        <span class="kw2">class</span> Alumne </div></li><li class="li1"><div class="de1">        <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">            <span class="kw2">var</span> <span class="re0">$nom</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">            <span class="kw2">var</span> <span class="re0">$dni</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">            <span class="kw2">public</span> <span class="kw2">function</span> anomenar<span class="br0">&#40;</span><span class="re0">$nom</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">            <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">                <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">nom</span><span class="sy0">=</span><span class="re0">$nom</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">            <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">            <span class="kw2">public</span> <span class="kw2">function</span> dades<span class="br0">&#40;</span><span class="re0">$dni</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">            <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">                <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">dni</span><span class="sy0">=</span><span class="re0">$dni</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">            <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">            <span class="kw2">public</span> <span class="kw2">function</span> imprimir<span class="br0">&#40;</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">            <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">                <span class="kw1">echo</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">nom</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">                <span class="kw1">echo</span> <span class="st_h">'&lt;br&gt;'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">                <span class="kw1">echo</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">dni</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">                <span class="kw1">echo</span> <span class="st_h">'&lt;br&gt;'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">            <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">        <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">        <span class="re0">$alumne1</span><span class="sy0">=</span><span class="kw2">new</span> Alumne<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="re0">$alumne1</span><span class="sy0">-&gt;</span><span class="me1">anomenar</span><span class="br0">&#40;</span><span class="st_h">'Imena'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="re0">$alumne1</span><span class="sy0">-&gt;</span><span class="me1">dades</span><span class="br0">&#40;</span><span class="st_h">'23344556D'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="re0">$alumne1</span><span class="sy0">-&gt;</span><span class="me1">imprimir</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="re0">$alumne2</span><span class="sy0">=</span><span class="kw2">new</span> Alumne<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="re0">$alumne2</span><span class="sy0">-&gt;</span><span class="me1">anomenar</span><span class="br0">&#40;</span><span class="st_h">'Ketut'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="re0">$alumne2</span><span class="sy0">-&gt;</span><span class="me1">dades</span><span class="br0">&#40;</span><span class="st_h">'65544332E'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="re0">$alumne2</span><span class="sy0">-&gt;</span><span class="me1">imprimir</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="sy1">?&gt;</span></div></li><li class="li1"><div class="de1">  &lt;/body&gt;</div></li><li class="li1"><div class="de1">&lt;/HTML&gt;</div></li></ol></pre>

</div>

<h3><a id="les_classes_en_php" >Les classes en PHP</a></h3>
<div class="level3">

<p>
Per definir una classe heu d’utilitzar la paraula reservada <em>class</em> seguida del nom de la classe. Heu de fer tot el possible perquè el nom de la classe sigui tan descriptiu com sigui possible respecte al que ha de representar. Entre claus heu d’escriure el codi de la classe.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">class</span> Alumne <span class="br0">&#123;</span><span class="br0">&#125;</span></div></li></ol></pre>

<p>
En la <span class="figref"><a href="#Figura 8"><span>figura<span class=refId> Figura 8</span></span></a></span> es representen les parts que defineixen una classe i com s’entrellacen entre elles. Podeu veure que les classes no són altra cosa que la definició de dades i mètodes, la unió dels quals genera la mateixa classe.
</p>
<div class="iocfigure"><a name="Figura 8"></a>
<p>
<figure>
<figcaption><span class="figuretitle">Figura</span>

 Definició de classe

</figcaption><img src="../media/asic5ud3_im13.png" alt="" /></figure>

</p>
</div>
<p>
Les classes poden tenir atributs i mètodes.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Els <strong>atributs</strong> són les variables que defineixen com són els objectes.
</p>
</div></div>
<p>
Per indicar els atributs d’una classe utilitzareu la cadena <em>var</em> davant del nom de l’atribut.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">var</span> <span class="re0">$nom</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw2">var</span> <span class="re0">$dni</span><span class="sy0">;</span></div></li></ol></pre>

<p>
Normalment, els atributs són privats, almenys així es recomana. D’aquesta manera, no s’hi pot accedir directament des de fora de la classe i s’ha de crear un mètode per accedir-hi. Per tant, quedaria:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">private</span> <span class="re0">$nom</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw2">private</span> <span class="re0">$dni</span><span class="sy0">;</span></div></li></ol></pre>
<div class="iocimportant"><div class="ioccontent">
<p>
Els <strong>mètodes</strong> són les funcions que defineixen el comportament dels objectes.
</p>
</div></div>
<p>
Igual que els atributs, els mètodes també poden ser privats. Si us trobeu atributs o mètodes que no indiquen l’accessibilitat es consideren d’àmbit públic. Si voleu marcar explícitament que són públics heu de fer servir la partícula <em>public</em>.
</p>

<p>
En cas que es cridi un mètode dins el context d’un objecte, podreu utilitzar la pseudovariable <em>$this</em>, la qual fa referència al mateix objecte.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">public</span> <span class="kw2">function</span> anomenar<span class="br0">&#40;</span><span class="re0">$nom</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">  <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">nom</span><span class="sy0">=</span><span class="re0">$nom</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">public</span> <span class="kw2">function</span> dades<span class="br0">&#40;</span><span class="re0">$dni</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">  <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">dni</span><span class="sy0">=</span><span class="re0">$dni</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">public</span> <span class="kw2">function</span> imprimir<span class="br0">&#40;</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">  <span class="kw1">echo</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">nom</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="kw1">echo</span> <span class="st_h">'&lt;br&gt;'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="kw1">echo</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">dni</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="kw1">echo</span> <span class="st_h">'&lt;br&gt;'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>

<p>
Vigileu de no confondre variables atributs i variables paràmetres. Fixeuvos en l’exemple anterior en què apareix:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">dni</span><span class="sy0">=</span><span class="re0">$dni</span><span class="sy0">;</span></div></li></ol></pre>

<p>
<em>$this→dni</em> fa referència a l’atribut d’un objecte i l’heu de considerar tot un grup; en canvi, <em>$dni</em> és una variable paràmetre que arriba al mètode. No s’anomenen igual per confondre el programador, tot el contrari, resulta més senzill, ja que en definitiva en tots dos casos estem parlant del DNI, un és el DNI de l’alumne i l’altre és una variable que fa referència a un valor que s’acabarà assignant a un DNI.
</p>

</div>

<h3><a id="objectes_en_php" >Objectes en PHP</a></h3>
<div class="level3">

<p>
Per treballar amb classes cal que instancieu objectes. <em>Instanciar objectes</em> vol dir crear un ítem que és definit en la classe en què es referencia.
</p>

<p>
Els mètodes i les variables donaran personalitat als objectes que creeu.
</p>

<p>
Per instanciar un objecte caldrà que utilitzeu la paraula reservada <em>new</em>. Una vegada instanciats els objectes, penseu que cada un tindrà unes característiques pròpies (indicades en els atributs) i podrà fer una sèrie de funcions (definides en els mètodes).
</p>

<p>
A continuació, es mostra com s’instanciarien dos objectes de la classe Alumne:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="re0">$alumne1</span><span class="sy0">=</span><span class="kw2">new</span> Alumne<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$alumne2</span><span class="sy0">=</span><span class="kw2">new</span> Alumne<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li></ol></pre>

<p>
Aquests objectes tindran els atributs i mètodes definits en la classe.
</p>

<p>
Si esteu gestionant la secretaria de l’escola i us arriben dos alumnes n’haureu de crear les fitxes. Per cada alumne es crearà un objecte mitjançant <em>new</em>. Però, com n’emmagatzemareu els noms? Així de senzill:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="re0">$alumne1</span><span class="sy0">-&gt;</span><span class="me1">anomenar</span><span class="br0">&#40;</span><span class="st_h">'Anna'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$alumne2</span><span class="sy0">-&gt;</span><span class="me1">anomenar</span><span class="br0">&#40;</span><span class="st_h">'Filomena'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li></ol></pre>

<p>
La classe Alumne té un mètode que és anomenar, és a dir, donar nom. Per accedir als mètodes caldrà que utilitzeu <em>→</em> entre el nom de l’objecte i el mètode. Als mètodes, els podeu passar un paràmetre o més:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="re0">$alumne1</span><span class="sy0">-&gt;</span><span class="me1">dades</span><span class="br0">&#40;</span><span class="st_h">'23344556D'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$alumne2</span><span class="sy0">-&gt;</span><span class="me1">dades</span><span class="br0">&#40;</span><span class="st_h">'65544332E'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li></ol></pre>

<p>
Heu de tenir en compte que coincideixin el nombre de paràmetres d’entrada definits en la classe i el nombre de paràmetres que passeu al mètode. 
</p>

<p>
El següent exemeple, el mètode dades és definit en la classe Alumne i espera rebre tres paràmetres: un DNI, una data de naixement i un cicle formatiu.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">class</span> Alumne</div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="kw2">var</span> <span class="re0">$dni</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw2">var</span> <span class="re0">$dataNaixement</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw2">var</span> <span class="re0">$cicleFormatiu</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">public</span> <span class="kw2">function</span> dades<span class="br0">&#40;</span><span class="re0">$dni</span><span class="sy0">,</span> <span class="re0">$dataNaixement</span><span class="sy0">,</span> <span class="re0">$cicleFormatiu</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">  <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">dni</span> <span class="sy0">=</span> <span class="re0">$dni</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">dataNaixement</span> <span class="sy0">=</span> <span class="re0">$dataNaixement</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">cicleFormatiu</span> <span class="sy0">=</span> <span class="re0">$cicleFormatiu</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">public</span> <span class="kw2">function</span> imprimir<span class="br0">&#40;</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">  <span class="kw1">echo</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">dni</span> <span class="sy0">.</span> <span class="st0">&quot;&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="kw1">echo</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">dataNaixement</span> <span class="sy0">.</span> <span class="st0">&quot;&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="kw1">echo</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">cicleFormatiu</span> <span class="sy0">.</span> <span class="st0">&quot;&lt;br&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="re0">$alumne1</span> <span class="sy0">=</span> <span class="kw2">new</span> Alumne<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$alumne1</span><span class="sy0">-&gt;</span><span class="me1">dades</span><span class="br0">&#40;</span><span class="st_h">'12345678A'</span><span class="sy0">,</span> <span class="st_h">'12/12/12'</span><span class="sy0">,</span> <span class="st_h">'ASIX'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$alumne1</span><span class="sy0">-&gt;</span><span class="me1">imprimir</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$alumne2</span> <span class="sy0">=</span> <span class="kw2">new</span> Alumne<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$alumne2</span><span class="sy0">-&gt;</span><span class="me1">dades</span><span class="br0">&#40;</span><span class="st_h">'98765432B'</span><span class="sy0">,</span> <span class="st_h">'1/1/1'</span><span class="sy0">,</span> <span class="st_h">'DAM'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$alumne2</span><span class="sy0">-&gt;</span><span class="me1">imprimir</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li></ol></pre>

</div>

<h4><a id="metodes_constructors" >Mètodes constructors</a></h4>
<div class="level4">

<p>
Normalment, totes les classes tenen un mètode que s’encarrega d’inicialitzar els objectes. No és usual anar creant els objectes per parts, sinó que hi ha un mètode que s’encarrega d’iniciar directament l’objecte.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Un <strong>mètode constructor</strong> és un mètode especial que s’encarrega d’inicialitzar els atributs de l’objecte que es crea; és el primer mètode que s’executa quan es crea un objecte i es crida automàticament.
</p>
</div></div>
<p>

</p>

<p>
L’exemple següent seria el mètode constructor d’una classe <em>Alumne</em>:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="kw2">public</span> <span class="kw2">function</span> __construct<span class="br0">&#40;</span><span class="re0">$nom</span><span class="sy0">,</span><span class="re0">$dni</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1"><span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">nom</span><span class="sy0">=</span><span class="re0">$nom</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">dni</span><span class="sy0">=</span><span class="re0">$dni</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>

<p>
Per crear l’objecte caldrà que utilitzeu la partícula <em>new</em>:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="re0">$alumne3</span><span class="sy0">=</span><span class="kw2">new</span> Alumne<span class="br0">&#40;</span><span class="st0">&quot;Carles&quot;</span><span class="sy0">,</span><span class="st0">&quot;39485764R&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li></ol></pre>

<p>
Automàticament, el PHP va a buscar dins la classe Alumne el mètode constructor, que estarà sempre identificat amb la cadena <em>function __construct</em>.
</p>

<p>
Vigileu, no ho escriviu malament! De vegades, segons el tipus de font no queda clar que abans de <em>construct</em> van dos guions baixos. 
</p>

</div>

<h3><a id="herencia_en_php" >Herència en PHP</a></h3>
<div class="level3">

<p>
Per considerar un llenguatge com a orientat a objectes, aquest ha de tenir en compte l’herència obligatòriament.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
L’<strong>herència</strong> permet crear noves classes a partir de classes ja existents; aquestes noves classes tenen els atributs i mètodes no protegits de les classes ja existents.
</p>
</div></div>
<p>
En PHP l’herència és limitada, una classe només pot heretar d’una altra classe.
</p>
<div class="iocnote"><div class="ioccontent">
<p>
En el llenguatge de programació C++, l’herència múltiple és permesa, és a dir, que una classe hereti de més d’una classe.
</p>
</div></div><div class="iocimportant"><div class="ioccontent">
<p>
S’anomenen <strong>superclasses</strong> les classes de què deriven altres classes. Les classes <strong>filles</strong> són les que hereten atributs i mètodes.
</p>
</div></div>
<p>
Per utilitzar l’herència cal fer servir la paraula reservada <em>extends</em>.
</p>

<p>
A continuació, es mostra una classe anomenada <em>Persona</em>, que té una sèrie d’atributs i mètodes. Dues classes anomenades <em>Professor</em> i <em>Estudiant</em> hereten de <em>Persona</em>. Apareix una altra classe anomenada <em>Becari</em>, que hereta de la classe Estudiant. Podeu veure que hi podeu afegir més atributs i mètodes.
</p>
<pre class="code php"><ol><li class="li1"><div class="de1">&lt;html&gt;</div></li><li class="li1"><div class="de1">&lt;head&gt;</div></li><li class="li1"><div class="de1">    &lt;title&gt;Exemple amb Herència&lt;/title&gt;</div></li><li class="li1"><div class="de1">&lt;/head&gt;</div></li><li class="li1"><div class="de1">&lt;body&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="kw2">class</span> Persona </div></li><li class="li1"><div class="de1">  <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw2">private</span> <span class="re0">$nom</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw2">private</span> <span class="re0">$dni</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="kw2">public</span> <span class="kw2">function</span> __construct<span class="br0">&#40;</span><span class="re0">$nom</span><span class="sy0">,</span><span class="re0">$dni</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">nom</span><span class="sy0">=</span><span class="re0">$nom</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">dni</span><span class="sy0">=</span><span class="re0">$dni</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="kw2">public</span> <span class="kw2">function</span> dades_persona<span class="br0">&#40;</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">echo</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">nom</span><span class="sy0">.</span><span class="st_h">'&lt;br&gt;'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">echo</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">dni</span><span class="sy0">.</span><span class="st_h">'&lt;br&gt;&lt;br&gt;'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">  <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="kw2">class</span> Professor <span class="kw2">extends</span> Persona</div></li><li class="li1"><div class="de1">  <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw2">private</span> <span class="re0">$sou</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw2">public</span> <span class="kw2">function</span> salari<span class="br0">&#40;</span><span class="re0">$sou</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">sou</span><span class="sy0">=</span><span class="re0">$sou</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">  <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="kw2">class</span> Estudiant <span class="kw2">extends</span> Persona</div></li><li class="li1"><div class="de1">  <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw2">private</span> <span class="re0">$cicle</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="kw2">public</span> <span class="kw2">function</span> matricular<span class="br0">&#40;</span><span class="re0">$cicle</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">cicle</span><span class="sy0">=</span><span class="re0">$cicle</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="kw2">public</span> <span class="kw2">function</span> dades_persona<span class="br0">&#40;</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        parent<span class="sy0">::</span><span class="me2">dades_persona</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">echo</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">cicle</span><span class="sy0">.</span><span class="st_h">'&lt;br&gt;'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">  <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="kw2">class</span> Becari <span class="kw2">extends</span> Estudiant</div></li><li class="li1"><div class="de1">  <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw2">private</span> <span class="re0">$sou</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="kw2">public</span> <span class="kw2">function</span> salari<span class="br0">&#40;</span><span class="re0">$sou</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">      <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">sou</span><span class="sy0">=</span><span class="re0">$sou</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="re0">$professorASI</span><span class="sy0">=</span><span class="kw2">new</span> Professor<span class="br0">&#40;</span><span class="st_h">'Lola'</span><span class="sy0">,</span><span class="st_h">'12345678A'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="re0">$professorASI</span><span class="sy0">-&gt;</span><span class="me1">salari</span><span class="br0">&#40;</span><span class="nu0">10</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="re0">$alumneASI</span><span class="sy0">=</span><span class="kw2">new</span> Estudiant<span class="br0">&#40;</span><span class="st_h">'Joana'</span><span class="sy0">,</span><span class="st_h">'98765432S'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="re0">$alumneASI</span><span class="sy0">-&gt;</span><span class="me1">matricular</span><span class="br0">&#40;</span><span class="st_h">'ASI'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="re0">$becariASI</span><span class="sy0">=</span><span class="kw2">new</span> Becari<span class="br0">&#40;</span><span class="st_h">'Anna'</span><span class="sy0">,</span><span class="st_h">'38475619T'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="re0">$becariASI</span><span class="sy0">-&gt;</span><span class="me1">salari</span><span class="br0">&#40;</span><span class="nu0">8</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="kw1">echo</span> <span class="re0">$professorASI</span><span class="sy0">-&gt;</span><span class="me1">dades_persona</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="kw1">echo</span> <span class="re0">$alumneASI</span><span class="sy0">-&gt;</span><span class="me1">dades_persona</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="kw1">echo</span> <span class="re0">$becariASI</span><span class="sy0">-&gt;</span><span class="me1">dades_persona</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&lt;/body&gt;</div></li><li class="li1"><div class="de1">&lt;/html&gt;</div></li></ol></pre>

<p>
Si observeu la classe Estudiant veureu la línia següent:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1">parent<span class="sy0">::</span><span class="me2">dades_persona</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li></ol></pre>

<p>
D’això, se’n diu <em>sobreescriptura</em>
<em>de mètodes</em>.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
La <strong>sobreescriptura de mètodes</strong> consisteix a aprofitar un mètode ja existent i redefinir-lo.
</p>
</div></div>
<p>
És possible que necessiteu ocultar dades a altres objectes, llavors utilitzareu <em>private</em>, però si treballeu amb herència podeu tenir problemes. Les classes filles no poden accedir als atributs i mètodes privats de les classes pare. Els llenguatges orientats a objectes ens ofereixen una solució: fer servir <em>protected</em>.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
La classe i les subclasses poden accedir a un atribut o un mètode <strong>protected</strong>, però no els objectes creats a partir d’aquestes classes.
</p>
</div></div>
<p>
En l’exemple següent es protegeix l’atribut <em>$sou</em>. Per poder-lo canviar s’ha creat la funció <em>salari</em>:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1">&lt;html&gt;</div></li><li class="li1"><div class="de1">&lt;head&gt;</div></li><li class="li1"><div class="de1">    &lt;title&gt;Exemple amb protected&lt;/title&gt;</div></li><li class="li1"><div class="de1">&lt;/head&gt;</div></li><li class="li1"><div class="de1">&lt;body&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw2">&lt;?php</span></div></li><li class="li1"><div class="de1">  <span class="kw2">class</span> Persona </div></li><li class="li1"><div class="de1">  <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw2">var</span> <span class="re0">$nom</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw2">private</span> <span class="re0">$dni</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw2">protected</span> <span class="re0">$sou</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="kw2">public</span> <span class="kw2">function</span> anomena<span class="br0">&#40;</span><span class="re0">$nom</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">nom</span><span class="sy0">=</span><span class="re0">$nom</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="kw2">public</span> <span class="kw2">function</span> fitxa<span class="br0">&#40;</span><span class="re0">$dni</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">dni</span><span class="sy0">=</span><span class="re0">$dni</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="kw2">public</span> <span class="kw2">function</span> salari<span class="br0">&#40;</span><span class="re0">$sou</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">sou</span><span class="sy0">=</span><span class="re0">$sou</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="kw2">public</span> <span class="kw2">function</span> mostra_dades<span class="br0">&#40;</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">echo</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">nom</span><span class="sy0">.</span><span class="st_h">'&lt;br&gt;'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">echo</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">dni</span><span class="sy0">.</span><span class="st_h">'&lt;br&gt;'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">echo</span> <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">sou</span><span class="sy0">.</span><span class="st_h">'&lt;br&gt;'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">  <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="kw2">class</span> Professor <span class="kw2">extends</span> Persona</div></li><li class="li1"><div class="de1">  <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw2">private</span> <span class="re0">$especialitat</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="kw2">public</span> <span class="kw2">function</span> assigna_especialitat<span class="br0">&#40;</span><span class="re0">$especialitat</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">especialitat</span><span class="sy0">=</span><span class="re0">$especialitat</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">  <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="re0">$nouProfessor</span><span class="sy0">=</span><span class="kw2">new</span> Professor<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="re0">$nouProfessor</span><span class="sy0">-&gt;</span><span class="me1">nom</span><span class="sy0">=</span><span class="st_h">'Andrea'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="re0">$nouProfessor</span><span class="sy0">-&gt;</span><span class="me1">dni</span><span class="sy0">=</span><span class="st_h">'38293847Y'</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="co1">//$nouProfessor-&gt;sou=10;</span></div></li><li class="li1"><div class="de1">  <span class="re0">$nouProfessor</span><span class="sy0">-&gt;</span><span class="me1">salari</span><span class="br0">&#40;</span><span class="nu0">10</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="re0">$nouProfessor</span><span class="sy0">-&gt;</span><span class="me1">assigna_especialitat</span><span class="br0">&#40;</span><span class="st_h">'Informàtica'</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="kw1">echo</span> <span class="re0">$nouProfessor</span><span class="sy0">-&gt;</span><span class="me1">mostra_dades</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="sy1">?&gt;</span></div></li><li class="li1"><div class="de1">&lt;/body&gt;</div></li><li class="li1"><div class="de1">&lt;/html&gt;</div></li></ol></pre>

<p>
Si descomenteu la línia,
</p>
<pre class="code php"><ol><li class="li1"><div class="de1"><span class="co1">//$nouProfessor-&gt;sou=10;</span></div></li></ol></pre>

<p>
us donarà l’error següent:
</p>
<pre class="code php"><ol><li class="li1"><div class="de1">Fatal error<span class="sy0">:</span> Cannot access <span class="kw2">protected</span> property Professor<span class="sy0">::</span><span class="re0">$sou</span></div></li></ol></pre>

<p>
És a dir, esteu intentant accedir directament a un valor protegit. Aprofitant l’exemple anterior podreu veure que s’està intentant donar valor a l’atribut <em>dni</em>, quan aquest és privat; això no genera error, però no fa res, no emmagatzema cap valor.
</p>

</div>

	 </article>
     <div class="pnpage">
      <div class="left-corner"></div>
      <div id="prevpage">Anar a la p&agrave;gina anterior:<br /><a href="../../../WebContent/u1/a1/exercicis.html">Exercicis d'autoavaluació</a></div>
      <div id="nextpage">Anar a la p&agrave;gina seg&uuml;ent:<br /><a href="../../../WebContent/u1/a2/activitats.html">Activitats</a></div>
      <div class="right-corner"></div>
     </div>
    </div>
    <footer class="footer">
      <div><small>Aquest document està subjecte a una llicència oberta de Creative Commons, es reserva el dret de reconeixement de l'autoria, d'exigir que no se'n faci cap mena d'ús comercial. Si altereu o transformeu aquesta obra, o en genereu obres derivades, només podeu distribuir l'obra generada amb una llicència idèntica a aquesta.</small></div>
    </footer>
 </div>
 <div id="back_preview" class="hidden"></div>
 <div id="preview" class="hidden">
  <div class="prevcontent"></div>
 </div>
 <div id="help-tooltips">
  <div id="help-toc" class="hidden tooltip"><span>Taula de continguts:</span> Ofereix una vista general de l&#39;estructura del m&ograve;dul, que us facilitar&agrave; la navegaci&oacute; a trav&eacute;s dels seus continguts.<span class="arrow-left"></span></div> 
  <div id="help-settings" class="hidden tooltip"><span>Opcions de format:</span> Permet configurar el format de lectura a partir de les vostres prefer&egrave;ncies, modificant la mida de la lletra, el color del fons, l&#39;amplada de la p&agrave;gina o l&#39;ocultaci&oacute; dels continguts complementaris, entre d&#39;altres.<span class="arrow-left"></span></div>
  <div id="help-printer" class="hidden tooltip"><span>Imprimir:</span>  Envia el contingut seleccionat a la impressora.<span class="arrow-left"></span></div>
  <div id="help-favorites" class="hidden tooltip"><span>Prefereits:</span> Permet desar aquelles parts del contingut a les que us interessi accedir en un moment posterior; us permetr&agrave; anar creant un repositori personalitzat de les seccions que considereu m&eacute;s rellevants. Un cop l&#39;hageu començat a fer servir se us mostrar&agrave; a sota un comptador que us informar&agrave; del nombre de preferits que s&#39;hagin emmagatzemat fins al moment.<span class="arrow-left"></span></div>
  <div id="help-favcounter" class="hidden tooltip"><span>Comptador i llistat de preferits:</span> Indica el nombre de preferits que s&#39;han desat fins el moment; clicant damunt seu accedireu al llistat de preferits, i a trav&eacute;s d&#39;aquest podreu accedir directament als continguts que hageu emmagatzemat.<span class="arrow-left"></span></div>
  <div id="help-help_icon" class="hidden tooltip"><span>Ajuda:</span> Aquesta opci&oacute; activa la informaci&oacute; de les funcionalitats del web tot situant el punter del ratol&iacute; al damunt dels diferents &iacute;tems.<span class="arrow-left"></span></div>
  <div id="help-sidebar-hide" class="hidden tooltip"><span>Mostrar/Ocultar barra lateral:</span>  Deshabilita la barra d&#39;opcions, permetent la seva recuperaci&oacute; quan es desitgi.<span class="arrow-left"></span></div>
  <div id="help-search" class="hidden tooltip"><span>Cerca:</span>  Introdu&iuml;u les paraules clau sobre aquells conceptes que desitgeu localitzar en els continguts del m&ograve;dul. Tamb&eacute; podeu excloure un terme de la cerca tot afegint-hi el signe &#8220;-&#8221; al davant.<span class="arrow-top"></span></div>
  <div id="help-header" class="hidden tooltip"><span>Cap&ccedil;alera:</span>  Indica l&#39;apartat o secci&oacute; que es mostra en pantalla. Tingueu present que les capçaleres de segon, tercer i quart nivell tamb&eacute; es poden desar com a marcadors.<span class="arrow-left"></span></div>
</div> 
</body>
</html>
