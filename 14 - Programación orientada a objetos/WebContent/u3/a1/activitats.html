<!doctype html>

<!--[if lt IE 7 ]> <html class="ie ie6 no-js" lang="ca"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie ie7 no-js" lang="ca"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie ie8 no-js" lang="ca"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie ie9 no-js" lang="ca"> <![endif]-->
<!--[if gt IE 9]><!--><html class="no-js" lang="ca"><!--<![endif]-->
<!-- the "no-js" class is for Modernizr. -->

<head id="www-sitename-com" data-template-set="html5-reset">

	<meta charset="utf-8">
	
	<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>Programació orientada a objectes</title>
	
<!-- <meta name="title" content=""> --> 
	<meta name="description" content="">
	<!-- Google will often use this as its description of your page/site. Make it good. -->
	
	<meta name="google-site-verification" content="">
	<!-- Speaking of Google, don't forget to set your site up: http://google.com/webmasters -->
	
	<meta name="author" content="Institut Obert de Catalunya">
	<meta name="Copyright" content="Copyright Institut Obert de Catalunya 2011. All Rights Reserved.">

	<!-- Dublin Core Metadata : http://dublincore.org/ -->
	<meta name="DC.title" content="Programació orientada a objectes">
	<meta name="DC.subject" content="Informàtica i comunicacions">
	<meta name="DC.creator" content="Institut Obert de Catalunya">
	
	<!--  Mobile Viewport Fix
	j.mp/mobileviewport & davidbcalhoun.com/2010/viewport-metatag 
	device-width : Occupy full width of the screen in its current orientation
	initial-scale = 1.0 retains dimensions instead of zooming out if page height > device height
	maximum-scale = 1.0 retains dimensions instead of zooming in if page width < device width
	-->
	<!-- Uncomment to use � use thoughtfully!
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	-->

	<link rel="shortcut icon" href="../../../img/favicon.ico">
	<!-- This is the traditional favicon.
		 - size: 16x16 or 32x32
		 - transparency is OK
		 - see wikipedia for info on browser support: http://mky.be/favicon/ -->
		 
	<link rel="apple-touch-icon" href="../../../img/apple-touch-icon.png">
	<!-- The is the icon for iOS's Web Clip.
		 - size: 57x57 for older iPhones, 72x72 for iPads, 114x114 for iPhone4's retina display (IMHO, just go ahead and use the biggest one)
		 - To prevent iOS from applying its styles to the icon name it thusly: apple-touch-icon-precomposed.png
		 - Transparency is not recommended (iOS will put a black BG behind the icon) -->
	
	<!-- CSS: screen, mobile & print are all in the same file -->
	<link rel="stylesheet" href="../../../_/css/style.css">

	<!-- CSS: jQuery UI -->
	<link rel="stylesheet" href="../../../_/css/jquery-ui.css">
	
	<!-- all our JS is at the bottom of the page, except for Modernizr. -->
	<script src="../../../_/js/modernizr-1.7.min.js"></script>
	<script src="../../../_/js/Hyphenator.js" type="text/javascript"></script>
	<script type="text/javascript">
	   Hyphenator.config({
		minwordlength : 4
	   });
	   Hyphenator.run();
	</script>
    <script src="../../../_/js/build.js" type="text/javascript"></script>
</head>

<body class="style-newspaper">

<div class="wrapper"><!-- not needed? up to you: http://camendesign.com/code/developpeurs_sans_frontieres -->

	<header id="header">
		<div class="head"><a href="http://ioc.gencat.cat"><img src="../../../img/logo.png" alt="Institut Obert de Catalunya"/></a><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/es/deed.ca"><img src="../../../img/license.png" alt="Llic&egrave;ncia" class="license"/></a></div>
		<div class="headdocument"><a href="../../../index.html">Programació orientada a objectes</a></div>
        <div id="search" class="search" name="search">
         <form id="frmsearch" action="../../../search.html" method="get">
          <input type="text" name="q"/>
        </form>
        </div>
	</header>
   <div id="upbutton" class="upbutton" style="display:none;"><img src="../../../img/uparrow.png" alt="Pujar a l'inici de p&agrave;gina"/></div>
   <aside id="aside">
    <div id="menu">
      <ul>
       <li name="toc"><div><img src="../../../img/toc.png" alt="&Iacute;ndex"/></div></li>
       <li name="settings"><div><img src="../../../img/settings.png" alt="Configuraci&oacute;"/></div></li>
       <li name="printer"><div><img src="../../../img/printer.png" alt="Imprimir"/></div></li>
       <li name="favorites"><div><img src="../../../img/favorites.png" alt="Favorits"/></div></li>
       <li name="help_icon" class="help_icon"><div><img src="../../../img/help_icon.png" alt="Ajuda"/></div></li>
      </ul>
     </div>
   </aside>
   <div id="sidebar-hide" name="sidebar-hide"><img src="../../../img/arrows.png"/></div>
   <section>
     <div id="toc" class="hidden">
      <div class="menucontent">
        <ul>
        <li id="u3" class="parentnode"><p><a href="../../../WebContent/u3/introduccio.html">3. Classes fonamentals</a></p><ul class="expander"><li id="u3introduccio"><a href="../../../WebContent/u3/introduccio.html">Introducció</a></li><li id="u3resum"><a href="../../../WebContent/u3/resum.html">Resum</a></li><li id="u3mapa"><a href="../../../WebContent/u3/mapa.html">Mapa conceptual</a></li><li id="u3resultats"><a href="../../../WebContent/u3/resultats.html">Resultats d'aprenentatge</a></li><li id="u3referencies"><a href="../../../WebContent/u3/referencies.html">Referències</a></li><li id="u3a1" class="tocsection"><p id="u3a1continguts"><a href="../../../WebContent/u3/a1/continguts.html">Classes fonamentals</a><span class="buttonexp"></span></p><ul><li id="u3a1activitats"><a href="../../../WebContent/u3/a1/activitats.html">Activitats</a></li><li id="u3a1exercicis"><a href="../../../WebContent/u3/a1/exercicis.html">Exercicis</a></li></ul></li></ul></li><li id="" class="indexnode"><p><a href="../../../index.html">Anar a l&#39;&iacute;ndex general</a></p></li>
        </ul>
      </div>
    </div>
   </section>
   <section>
   <div id="settings" class="hidden">
    <div class="menucontent">
     <div class="allsettings">
     <div class="settings">
      <label>Font i Color</label>
		<div class="setting-option">
	        <ul class="fontBackground">
				<li id="style-newspaper" title="Newspaper" class="appearance-style-newspaper"><span>Newspaper</span></li>
                <li id="style-novel" title="Novel" class="appearance-style-novel"><span>Novel</span></li>
                <li id="style-ebook" title="eBook" class="appearance-style-ebook"><span>eBook</span></li>
				<li id="style-inverse" title="Inverse" class="appearance-style-inverse active"><span>Inverse</span></li>
				<li id="style-athelas" title="Athelas" class="appearance-style-athelas"><span>Athelas</span></li>
			</ul>
		</div>
     </div>
	<div class="settings">
      <label>Amplada</label>
		<div class="setting-option">
	        <div id="slider-width"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
		<div class="setting-option">
	        <div id="slider-font"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
	  <div class="setting-option">
       <form action="" class="sett-options">
		<ul>
		    <li><input type="checkbox" id="secondary-content" /><label for="secondary-content">Mostra recursos complementaris</label></li>
		    <li><input type="checkbox" id="main-images" /><label for="main-images">Mostra imatges</label></li>
		    <li><input type="checkbox" id="text-alignment" /><label for="text-alignment">Text justificat</label></li>
			<li><input type="checkbox" id="text-hyphen" /><label for="text-hyphen">Partici&oacute; sil·l&agrave;bica</label></li>
		</ul>
       </form>
	  </div>
     </div>
     </div>
    </div>
   </div>
   </section>
 <section>
 <div id="favorites" class="hidden"></div>
 </section>   
 <div id="bridge" class="hidden"></div>
 <div id="help" class="hidden">
  <div class="helptitle">Dreceres del teclat<hr></div>
  <div class="helpsection"><span>General</span>
   <ul>
    <li><span class="shortcut">g</span>: Anar al men&uacute; de navegaci&oacute;</li>
    <li><span class="shortcut">o</span>: Anar a opcions</li>
    <li><span class="shortcut">s</span>: Guardar la p&agrave;gina actual a favorits</li>
    <li><span class="shortcut">p</span>: Imprimir la p&agrave;gina actual</li>
    <li><span class="shortcut">?</span>: Mostrar/Ocultar l&#39;ajuda</li>
   </ul>
  </div>
  <div class="helpsection"><span>Navegaci&oacute;</span>
   <ul>
    <li><span class="shortcut">i</span>: Anar a l&#39;&iacute;ndex general</li>
    <li><span class="shortcut">t</span>: Anar a l&#39;inici de p&agrave;gina</li>
    <li><span class="shortcut">b</span>: Anar al final de p&agrave;gina</li>
    <li><span class="shortcut">j</span>: Anar cap endavant dintre la p&agrave;gina</li>
    <li><span class="shortcut">k</span>: Anar cap enrere dintre la p&agrave;gina</li>
    <li><span class="shortcut">h</span>: Anar a la p&agrave;gina anterior:</li>
    <li><span class="shortcut">l</span>: Anar a la p&agrave;gina seg&uuml;ent:</li>
   </ul>
   </div>
 </div>
 <div id="favcounter" name="favcounter" class="hidden"><span></span></div>
 <div id="navmenu" class="navmenu"><ul class="webnav"><li><a href="../../../index.html" title="Anar a l&#39;&iacute;ndex general">Inici</a></li><li><a href="../introduccio.html">Classes fonamentals</a></li><li><a href="continguts.html">Classes fonamentals</a></li><li>Activitats</li></ul></div>
	<div id="content" lang="ca" class="hyphenate text">
     <article lang="ca" class="sheet">
        <h1><a id="activitats"> Activitats </a></h1>
    	
<h2><a id="gestio_d_excepcions" >Gestió d&#039;excepcions</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és practicar el disseny d’excepcions.
</p>

<p>
Milloreu la implementació de la classe <code>Data03</code>, creant una nova classe anomenada <code>Data04</code> mostrada tot seguit amb la incorporació de la gestió d’excepcions. Aprofiteu la millora per introduir l’ordre natural en la classe.
</p>

<p>
Descarregueu tot seguit el codi font de l’enunciat:
</p>

<p>
<div class="mediaf filezip"><div class="mediacontent"><a href="../media/enu-u3.a1.act1.zip">Enunciat</a><span> ( 3.4 KB )</span></div></div>
</p>

<p>
<form action=""><div class="solution ioccontent">
<p>
Descarregueu tot seguit el codi font de la solució:
</p>

<p>
<div class="mediaf filezip"><div class="mediacontent"><a href="../media/sol-u3.a1.act1.zip">Solució</a><span> ( 5.9 KB )</span></div></div>
</p>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="gestio_de_taules_1" >Gestió de taules (1)</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és comprovar la funcionalitat de la classe <code>Arrays</code> del framework de col·leccions del Java (JCF).
</p>

<p>
Considereu la jerarquia de classes corresponent a la figura següent, implementada en els fitxers FiguraGeometrica02.java, Rectangle02.java, Cercle02.java i Triangle02.java. El seu codi font el podeu trobar al final de l’enunciat.
</p>
<div class="iocfigure"><a name="figX1"></a><figure>
<figcaption><span class="figuretitle">Figura</span></figcaption><img src="../media/3.2.act2.gif" alt="" /></figure>
</div>
<p>
Dissenyeu la classe GrupFiguraGeometricaViaTaula per gestionar un grup de figures geomètriques emmagatzemades en una taula del Java, amb els requeriments següents:
</p>
<ul>
<li class="level1"><div class="li"> El codi de la figura és identificador dins la taula.</div>
</li>
<li class="level1"><div class="li"> La classe ha de proporcionar els mètodes bàsics per a la gestió de taules de figures geomètriques (afegir, cercar per codi, extreure, veure quina figura hi ha en una posició determinada, buidar el grup…).</div>
</li>
<li class="level1"><div class="li"> La classe ha de proporcionar un mètode per ordenar la taula segons el codi de les figures.</div>
</li>
<li class="level1"><div class="li"> La classe ha de proporcionar un mètode per ordenar la taula segons l’àrea de les figures.</div>
</li>
<li class="level1"><div class="li"> La classe ha de sobreescriure els mètode <code>equals()</code> heretat de la classe <code>Object</code>.</div>
</li>
</ul>

<p>
Cal aprofitar, en el que sigui factible, els mètodes proporcionats per la classe <code>Arrays</code>.
</p>

<p>
Si cal, podeu millorar el disseny de les classes de la jerarquia que neix a <code>FiguraGeometrica</code>, afegint els mètodes i/o característiques que corresponguin.
</p>

<p>
Desenvolupeu una altra classe, anomenada <code>ProvaGrupFiguraGeometricaViaTaula</code>, pertanyent a un paquet anomenat proves, que contingui un mètode main() en què es comprovi el funcionament dels mètodes dissenyats en la classe <code>GrupFiguraGeometricaViaTaula</code>.
</p>

<p>
Allà on ho considereu oportú, utilitzeu excepcions (pròpies o de les que proporciona el Java).
</p>

<p>
Descarregueu l’arxiu següent amb el codi font de les classes: <div class="mediaf filezip"><div class="mediacontent"><a href="../media/figures.zip">Codi</a><span> ( 2.6 KB )</span></div></div>
</p>

<p>
<form action=""><div class="solution ioccontent">
<p>
En primer lloc, cal recordar que la classe <code>Arrays</code> ofereix diverses sobrecàrregues del mètode sort(…) per aconseguir l’ordenació dels elements d’una taula. A nosaltres ens convé utilitzar la sobrecàrrega del mètode sort(…) que permet ordenar una taula d’objectes d’una classe X, sempre que aquesta classe implementi la interfície <code>Comparable</code>.
</p>

<p>
La interfície Comparable obliga a sobreescriure un mètode <code>compareTo(…)</code> a utilitzar per comparar dos objectes de la classe que implementi la interfície. L’ordre definit pel mètode <code>compareTo(…)</code> s’anomena ordre natural entre els elements de la classe i ha de ser compatible amb el mètode <code>equals(…)</code>, de manera que si dos elements són iguals segons el mètode <code>equals(…)</code>, llavors el mètode <code>compareTo(…)</code> entre ells ha de donar zero.
</p>

<p>
Se’ns demana que la classe <code>GrupFiguraGeometricaViaTaula</code> permeti ordenar una taula de figures segons el codi i segons l’àrea, aprofitant, sempre que es pugui, els mètodes de la classe <code>Arrays</code>. Atès que la classe <code>FiguraGeometrica</code> té definit el mètode <code>equals(…)</code> entre dues figures en base a la igualtat dels seus codis, sembla lògic definir l’ordre natural en la classe <code>FiguraGeometrica</code> a partir de la comparació dels codis de les figures. Així podrem aprofitar el mètode sort(…) de la classe <code>Arrays</code> basat en l’ordre natural de la classe a què pertanyen els objectes de la taula per proporcionar un mètode <code>ordenarPerCodi()</code>.
</p>

<p>
Però, i com es pot aconseguir l’ordenació per àrea? L’ordre natural només existeix per a un criteri i, si ja el tenim assignat a la comparació de figures per codi, no el podem emprar per a la comparació de figures per àrea. La classe <code>Arrays</code>, però, també proporciona una sobrecàrrega del mètode sort(…) per ordenar una taula d’objectes segons un criteri que ha de proporcionar un objecte d’una classe que implementi la interfície <code>Comparator</code>.
</p>

<p>
La interfície <code>Comparator</code> obliga a sobreescriure un mètode compare(…) a utilitzar per comparar dos objectes de qualsevol classe. Com que ens interessa poder comparar figures geomètriques a partir de la seva àrea i hem decidit utilitzar l’ordre natural per comparar figures geomètriques a partir del codi, no ens queda altra sortida que dissenyar una classe que implementi la interfície <code>Comparator</code> per comparar figures geomètriques a partir de l’àrea i així aprofitar el mètode sort(…) de la classe <code>Arrays</code> que necessita un objecte d’una classe que implementi <code>Comparator</code> per proporcionar un mètode <code>ordenarPerArea()</code>.
</p>

<p>
Respecte a la sobreescriptura del mètode <code>equals()</code>, hem de pensar amb lògica quan dos grups de figures geomètriques són iguals. L’enunciat no ens ha definit la igualtat entre grups, però ja que les figures no estan ordenades, pot tenir sentit considerar que dos grups són iguals si per cada figura geomètrica en un grup hi ha una altra figura geomètrica en l’altre grup amb igualtat segons el mètode <code>FiguraGeometrica.equals()</code>. Evidentment, podeu estar en desacord amb aquesta definició, però és la que hem implementat en la solució que es dóna.
</p>

<p>
La solució a l’activitat està formada pels fitxers següents:
</p>
<ul>
<li class="level1"><div class="li"> FiguraGeometrica04.java, Rectangle04.java, Cercle04.java i Triangle04.java, evolució de la implementació proporcionada de la jerarquia de classes que neix a FiguraGeometrica de manera que passen a implementar la interfície Comparable i el mètode <code>compareTo()</code> sap comparar dues figures geomètriques.</div>
</li>
<li class="level1"><div class="li"> Com que FiguraGeometrica implementa la interfície Comparable, ha calgut sobreescriure el mètode <code>compareTo(…)</code>, que compara figures geomètriques segons el seu codi (compatible amb el mètode equals(…)).</div>
</li>
<li class="level1"><div class="li"> Com que també interessava poder comparar figures geomètriques segons l’àrea, s’ha afegit una classe interna estàtica anomenada <code>ComparatorFiguraGeometricaSegonsArea</code> amb la sobreescriptura del mètode compare(…), que compara figures geomètriques segons la seva àrea. La implementació s’ha efectuat com una classe interna estàtica perquè sembla el lloc més adequat per declarar aquesta classe.</div>
</li>
<li class="level1"><div class="li"> Per tal de provar si l’ordenació de figures segons el criteri de l’àrea funciona correctament, s’ha retocat el mètode toString() sobre FiguraGeometrica perquè mostri l’àrea de la figura.</div>
</li>
<li class="level1"><div class="li"> GrupFiguraGeometricaViaTaula.java, que defineix la classe que se’ns demanava, amb els mètodes bàsics per a la gestió de taules i amb els dos mètodes d’ordenació indicats.</div>
</li>
<li class="level1"><div class="li"> ProvaGrupFiguraGeometricaViaTaula.java, que conté el programa de prova sol·licitat.</div>
</li>
</ul>

<p>
Descarregueu l’arxiu següent amb el codi de la solució: <div class="mediaf filezip"><div class="mediacontent"><a href="../media/soluciofigures.zip">Solució</a><span> ( 5.1 KB )</span></div></div>
</p>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="gestio_de_taules_2" >Gestió de taules  (2)</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és comprovar la funcionalitat de la classe Arrays del framework de col·leccions del Java (JCF)
</p>

<p>
Considereu la jerarquia de classes corresponent al disseny UML de la figura següent, implementada en els fitxers FiguraGeometrica02.java, Rectangle02.java, Cercle02.java i Triangle02.java. El seu codi font el podeu trobar al final de l’enunciat.
</p>
<div class="iocfigure"><a name="figX2"></a><figure>
<figcaption><span class="figuretitle">Figura</span></figcaption><img src="../media/3.2.act2.gif" alt="" /></figure>
</div>
<p>
Dissenyeu la classe <code>GrupOrdenatFiguraGeometricaViaTaula</code> per gestionar un grup de figures geomètriques emmagatzemades en una taula del Java, amb els requeriments següents:
</p>
<ul>
<li class="level1"><div class="li"> El codi de la figura és identificador dins la taula.</div>
</li>
<li class="level1"><div class="li"> Les figures geomètriques estan permanentment ordenades pel codi.</div>
</li>
<li class="level1"><div class="li"> La classe ha de proporcionar els mètodes bàsics per a la gestió de taules de figures geomètriques (afegir, cercar per codi, extreure, veure quina figura hi ha en una posició determinada, buidar el grup…).</div>
</li>
<li class="level1"><div class="li"> Les cerques per codi dins la taula s’han d’efectuar de la manera més eficient possible (cerca dicotòmica).</div>
</li>
<li class="level1"><div class="li"> La classe ha de sobreescriure els mètode <code>equals()</code> heretats de la classe <code>Object</code>.</div>
</li>
</ul>

<p>
Cal aprofitar, en el que sigui factible, els mètodes proporcionats per la classe <code>Arrays</code>.
</p>

<p>
Si cal, podeu millorar el disseny de les classes de la jerarquia que neix a FiguraGeometrica afegint els mètodes i/o característiques que corresponguin.
</p>

<p>
Desenvolupeu una altra classe, anomenada <code>ProvaGrupOrdenatFiguraGeometricaViaTaula</code>, pertanyent a un paquet anomenat proves, que contingui un mètode main() en què es comprovi el funcionament dels mètodes dissenyats en la classe <code>GrupOrdenatFiguraGeometricaViaTaula</code>.
</p>

<p>
Allà on ho considereu oportú, utilitzeu excepcions (pròpies o de les que proporciona el Java).
</p>

<p>
Descarregueu l’arxiu següent amb el codi font de les classes: <div class="mediaf filezip"><div class="mediacontent"><a href="../media/figures.zip">Codi</a><span> ( 2.6 KB )</span></div></div>
</p>

<p>
<form action=""><div class="solution ioccontent">
<p>
En primer lloc, cal recordar que la classe <code>Arrays</code> proporciona diverses sobrecàrregues del mètode <code>binarySearch(…)</code> per efectuar la cerca dicotòmica en una taula ordenada. A nosaltres ens convé utilitzar la sobrecàrrega del mètode <code>binarySearch(…)</code>, que permet efectuar la cerca dicotòmica en una taula d’objectes d’una classe X, sempre que aquesta classe implementi la interfície Comparable.
</p>

<p>
La interfície Comparable obliga a sobreescriure un mètode <code>compareTo(…)</code> a utilitzar per comparar dos objectes de la classe que implementi la interfície. L’ordre definit pel mètode <code>compareTo(…)</code> s’anomena ordre natural entre els elements de la classe i ha de ser compatible amb el mètode <code>equals(…)</code>, de manera que si dos elements són iguals segons el mètode <code>equals(…)</code> llavors el mètode <code>compareTo(…)</code> entre ells ha de donar zero.
</p>

<p>
La classe <code>GrupOrdenatFiguraGeometricaViaTaula</code> ha de mantenir, en tot moment, la taula ordenada per codi i, per tant, el mètode afegir(…) ha de consistir en una inserció ordenada. D’altra banda, atès que la taula estarà ordenada en tot moment, per qüestions d’eficiència, és evident que totes les cerques per codi s’haurien de basar en el mètode <code>binarySearch(…)</code> de la classe <code>Arrays</code> i, perquè això sigui possible, la classe <code>FiguraGeometrica</code> ha de passar a implementar la interfície Comparable implementant l’ordre natural a partir de la comparació dels codis de les figures. I no n’hi haurà prou de comparar dues figures, sinó que també haurà de saber comparar una figura amb un codi de figura.
</p>

<p>
Respecte a la sobreescriptura del mètode <code>equals()</code>, hem de pensar amb lògica quan dos grups de figures geomètriques ordenades són iguals. L’enunciat no ens ha definit la igualtat entre grups, però ja que les figures estan ordenades, pot tenir sentit considerar que dos grups són iguals si hi ha igualtat de figures geomètriques, dos a dos, entre els dos grups, segons el mètode <code>FiguraGeometrica.equals()</code>, és a dir, si la figura que ocupa la posició i en un grup és igual a la figura que ocupa la posició i en l’altre grup. Evidentment, podeu estar en desacord amb aquesta definició, però és la que hem implementat en la solució que es dóna.
</p>

<p>
La solució a l’activitat està formada pels fitxers següents:
</p>
<ul>
<li class="level1"><div class="li"> FiguraGeometrica05.java, Rectangle05.java, Cercle05.java i Triangle05.java, evolució de la implementació proporcionada de la jerarquia de classes que neix a <code>FiguraGeometrica</code> de manera que passen a implementar la interfície Comparable i el mètode <code>compareTo()</code> sap comparar dues figures geomètriques, i també una figura geomètrica amb un codi de figura geomètrica.</div>
</li>
<li class="level1"><div class="li"> GrupOrdenatFiguraGeometricaViaTaula.java, que defineix la classe que se’ns demanava, amb els mètodes bàsics per a la gestió de taules ordenades.</div>
</li>
<li class="level1"><div class="li"> ProvaGrupOrdenatFiguraGeometricaViaTaula.java, que conté el programa de prova sol·licitat.</div>
</li>
</ul>

<p>
El codi de la solució és el següent: <div class="mediaf filezip"><div class="mediacontent"><a href="../media/soluciofigures2.zip">Solució</a><span> ( 5.2 KB )</span></div></div>
</p>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="gestio_de_la_classe_vector_1" >Gestió de la classe Vector (1)</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és comprovar la funcionalitat de les classes <code>Vector</code> i <code>Collections</code> del framework de col·leccions del Java (JCF).
</p>

<p>
Considereu la jerarquia de classes corresponent al disseny UML de la figura següent, implementada en els fitxers FiguraGeometrica02.java, Rectangle02.java, Cercle02.java i Triangle02.java.
</p>
<div class="iocfigure"><a name="figX3"></a><figure>
<figcaption><span class="figuretitle">Figura</span></figcaption><img src="../media/3.2.act2.gif" alt="" /></figure>
</div>
<p>
Dissenyeu la classe <code>GrupFiguraGeometricaViaVector</code> per gestionar un grup de figures geomètriques emmagatzemades en un objecte <code>Vector</code> del Java, amb els requeriments següents:
</p>
<ul>
<li class="level1"><div class="li"> El codi de la figura és identificador dins el vector.</div>
</li>
<li class="level1"><div class="li"> La classe ha de proporcionar els mètodes bàsics per a la gestió de vectors (taules) de figures geomètriques (afegir, cercar per codi, extreure, veure quina figura hi ha en una posició determinada, buidar el grup…).</div>
</li>
<li class="level1"><div class="li"> La classe ha de proporcionar un mètode per ordenar el vector segons el codi de les figures.</div>
</li>
<li class="level1"><div class="li"> La classe ha de proporcionar un mètode per ordenar el vector segons l’àrea de les figures.</div>
</li>
<li class="level1"><div class="li"> La classe ha de sobreescriure el mètode <code>equals()</code> heretats de la classe Object.</div>
</li>
</ul>

<p>
Cal aprofitar, en el que sigui factible, els mètodes proporcionats per la classe Collections.
</p>

<p>
Si cal, podeu millorar el disseny de les classes de la jerarquia que neix a FiguraGeometrica, afegint els mètodes i/o característiques que corresponguin.
</p>

<p>
Desenvolupeu una altra classe, anomenada <code>ProvaGrupFiguraGeometricaViaVector</code>, pertanyent a un paquet anomenat proves, que contingui un mètode main() en el qual es comprovi el funcionament dels mètodes dissenyats en la classe <code>GrupFiguraGeometricaViaVector</code>.
</p>

<p>
Allà on ho considereu oportú, utilitzeu excepcions (pròpies o de les que proporciona el Java).
</p>

<p>
Descarregueu l’arxiu següent amb el codi font de les classes: <div class="mediaf filezip"><div class="mediacontent"><a href="../media/figures.zip">Codi</a><span> ( 2.6 KB )</span></div></div>
</p>

<p>
<form action=""><div class="solution ioccontent">
<p>
En primer lloc, cal adonar-nos que tenim dues possibilitats d’implementar la classe demanada:
</p>
<ul>
<li class="level1"><div class="li"> Fent que derivi de la classe <code>Vector</code>.</div>
</li>
<li class="level1"><div class="li"> Fent que contingui un membre de la classe <code>Vector</code>.</div>
</li>
</ul>

<p>
La primera possibilitat provoca que la nostra classe hereti tots els mètodes de la classe <code>Vector</code> i això implicaria haver de sobreescriure tots aquells per als quals la implementació en la classe Vector no fos adequada tenint en compte el caràcter identificador del codi de les figures geomètriques. Per tant, en aquesta solució s’opta per la segona possibilitat.
</p>

<p>
Respecte als processos d’ordenació que es demanen, cal recordar que la classe <code>Collections</code> proporciona diverses sobrecàrregues del mètode sort(…) per aconseguir l’ordenació dels elements d’una taula. A nosaltres ens convé utilitzar la sobrecàrrega del mètode sort(…), que permet ordenar una taula d’objectes d’una classe X, sempre que aquesta classe implementi la interfície Comparable.
</p>

<p>
La interfície Comparable obliga a sobreescriure un mètode <code>compareTo(…)</code> a utilitzar per comparar dos objectes de la classe que implementi la interfície. L’ordre definit pel mètode <code>compareTo(…)</code> s’anomena ordre natural entre els elements de la classe i ha de ser compatible amb el mètode <code>equals(…)</code>, de manera que, si dos elements són iguals segons el mètode <code>equals(…)</code>, llavors el mètode <code>compareTo(…)</code> entre ells ha de donar zero.
</p>

<p>
Se’ns demana que la classe <code>GrupFiguraGeometricaViaVector</code> permeti ordenar un vector de figures segons el codi i segons l’àrea, aprofitant, sempre que es pugui, els mètodes de la classe <code>Collections</code>. Ja que la classe <code>FiguraGeometrica</code> té definit el mètode <code>equals(…)</code> entre dues figures a partir de la igualtat dels seus codis, sembla lògic definir l’ordre natural a la classe <code>FiguraGeometrica</code> a partir de la comparació dels codis de les figures. Així podrem aprofitar el mètode sort(…) de la classe <code>Collections</code> basat en l’ordre natural de la classe a la qual pertanyen els objectes de la taula per proporcionar un mètode <code>ordenarPerCodi()</code>.
</p>

<p>
Però, i com es pot aconseguir l’ordenació per àrea? L’ordre natural només existeix per a un criteri i, si ja el tenim assignat a la comparació de figures per codi, no el podem emprar per a la comparació de figures per àrea. La classe <code>Collections</code>, però, també proporciona una sobrecàrrega del mètode sort(…) per ordenar una taula d’objectes segons un criteri que ha de proporcionar un objecte d’una classe que implementi la interfície <code>Comparator</code>.
</p>

<p>
La interfície <code>Comparator</code> obliga a sobreescriure un mètode compare(…) a utilitzar per comparar dos objectes de qualsevol classe. Com que ens interessa poder comparar figures geomètriques a partir de la seva àrea i hem decidit utilitzar l’ordre natural per comparar figures geomètriques a partir del seu codi, no ens queda altra sortida que dissenyar una classe que implementi la interfície <code>Comparator</code> per comparar figures geomètriques a partir de l’àrea, i així aprofitar el mètode sort(…) de la classe <code>Collections</code> que necessita un objecte d’una classe que implementi <code>Comparator</code> per proporcionar un mètode <code>ordenarPerArea()</code>.
</p>

<p>
Respecte a la sobreescriptura del mètode <code>equals()</code>, hem de pensar amb lògica quan dos grups de figures geomètriques són iguals. L’enunciat no ens ha definit la igualtat entre grups, però ja que les figures no estan ordenades, pot tenir sentit considerar que dos grups són iguals si, per cada figura geomètrica en un grup, hi ha una altra figura geomètrica en l’altre grup amb igualtat segons el mètode <code>FiguraGeometrica.equals()</code>. Evidentment, podeu estar en desacord amb aquesta definició, però és la que hem implementat en la solució que es dóna.
</p>

<p>
La solució a l’activitat està formada pels fitxers següents:
</p>
<ul>
<li class="level1"><div class="li"> FiguraGeometrica04.java, Rectangle04.java, Cercle04.java i Triangle04.java, evolució de la implementació proporcionada de la jerarquia de classes que neix a <code>FiguraGeometrica</code> de manera que passen a implementar la interfície Comparable, de manera que el mètode <code>compareTo()</code> sap comparar dues figures geomètriques. Com que <code>FiguraGeometrica</code> implementa la interfície Comparable, ha calgut sobreescriure el mètode <code>compareTo(…)</code>, que compara figures geomètriques segons el seu codi (compatible amb el mètode <code>equals(…)</code>). Com que també interessava poder comparar figures geomètriques segons l’àrea, s’ha afegit una classe interna estàtica anomenada ComparatorFiguraGeometricaSegonsArea amb la sobreescriptura del mètode compare(…), que compara figures geomètriques segons la seva àrea. La implementació s’ha efectuat com una classe interna estàtica perquè sembla el lloc més adequat per declarar aquesta classe. Per tal de provar si l’ordenació de figures segons el criteri de l’àrea funciona correctament, s’ha retocat el mètode <code>toString()</code> sobre <code>FiguraGeometrica</code> perquè mostri l’àrea de la figura.</div>
</li>
<li class="level1"><div class="li"> GrupFiguraGeometricaViaVector.java, que defineix la classe que se’ns demanava, amb els mètodes bàsics per a la gestió de vectors (taules) i amb els dos mètodes d’ordenació indicats.</div>
</li>
<li class="level1"><div class="li"> ProvaGrupFiguraGeometricaViaVector.java, que conté el programa de prova sol·licitat.</div>
</li>
</ul>

<p>
El codi de la solució és el següent: <div class="mediaf filezip"><div class="mediacontent"><a href="../media/soluciofigures3.zip">Solució</a><span> ( 4.4 KB )</span></div></div>
</p>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="gestio_de_la_classe_vector_2" >Gestió de la classe Vector (2)</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és comprovar la funcionalitat de les classes <code>Vector</code> i <code>Collections</code> del framework de col·leccions del Java (JCF).
</p>

<p>
Considereu la jerarquia de classes corresponent al disseny UML de la figura següent, implementada en els fitxers FiguraGeometrica02.java, Rectangle02.java, Cercle02.java i Triangle02.java.
</p>
<div class="iocfigure"><a name="figX4"></a><figure>
<figcaption><span class="figuretitle">Figura</span></figcaption><img src="../media/3.2.act2.gif" alt="" /></figure>
</div>
<p>
Dissenyeu la classe <code>GrupOrdenatFiguraGeometricaViaVector</code> per gestionar un grup de figures geomètriques emmagatzemades en un objecte Vector del Java, amb els requeriments següents:
</p>
<ul>
<li class="level1"><div class="li"> El codi de la figura és identificador dins el vector.</div>
</li>
<li class="level1"><div class="li"> Les figures geomètriques estan permanentment ordenades pel codi.</div>
</li>
<li class="level1"><div class="li"> La classe ha de proporcionar els mètodes bàsics per a la gestió de vectors (taules) de figures geomètriques (afegir, cercar per codi, extreure, veure quina figura hi ha en una posició determinada, buidar el grup…).</div>
</li>
<li class="level1"><div class="li"> Les cerques per codi dins el vector s’han d’efectuar de la manera més eficient possible (cerca dicotòmica).</div>
</li>
<li class="level1"><div class="li"> La classe ha de sobreescriure el mètode <code>equals()</code> heretat de la classe Object.</div>
</li>
</ul>

<p>
Cal aprofitar, en el que sigui factible, els mètodes proporcionats per la classe Collections.
</p>

<p>
Si cal, podeu millorar el disseny de les classes de la jerarquia que neix a FiguraGeometrica afegint els mètodes i/o característiques que corresponguin.
</p>

<p>
Desenvolupeu una altra classe, anomenada <code>ProvaGrupOrdenatFiguraGeometricaViaVector</code>, pertanyent a un paquet anomenat proves, que contingui un mètode main() en el qual es comprovi el funcionament dels mètodes dissenyats en la classe <code>GrupOrdenatFiguraGeometricaViaVector</code>.
</p>

<p>
Allà on ho considereu oportú, utilitzeu excepcions (pròpies o de les que proporciona el Java).
</p>

<p>
Descarregueu l’arxiu següent amb el codi font de les classes: <div class="mediaf filezip"><div class="mediacontent"><a href="../media/figures.zip">Codi</a><span> ( 2.6 KB )</span></div></div>
</p>

<p>
<form action=""><div class="solution ioccontent">
<p>
En primer lloc, cal adonar-nos que tenim dues possibilitats d’implementar la classe demanada:
</p>
<ul>
<li class="level1"><div class="li"> Fent que derivi de la classe Vector.</div>
</li>
<li class="level1"><div class="li"> Fent que contingui un membre de la classe Vector.</div>
</li>
</ul>

<p>
La primera possibilitat provoca que la nostra classe hereti tots els mètodes de la classe Vector i això implicaria haver de sobreescriure tots aquells per als quals la implementació en la classe Vector no fos adequada tenint en compte el caràcter identificador del codi de les figures geomètriques. Per tant, en aquesta solució s’opta per la segona possibilitat.
</p>

<p>
Respecte als processos d’ordenació que es demanen, cal recordar que la classe <code>Collections</code> proporciona diverses sobrecàrregues del mètode <code>binarySearch(…)</code> per efectuar la cerca dicotòmica en un vector ordenat. A nosaltres ens convé utilitzar la sobrecàrrega del mètode <code>binarySearch(…)</code> que permet efectuar la cerca dicotòmica en un vector d’objectes d’una classe X, sempre que aquesta classe implementi la interfície Comparable.
</p>

<p>
La interfície Comparable obliga a sobreescriure un mètode <code>compareTo(…)</code> a utilitzar per comparar dos objectes de la classe que implementi la interfície. L’ordre definit pel mètode <code>compareTo(…)</code> s’anomena ordre natural entre els elements de la classe i ha de ser compatible amb el mètode <code>equals(…)</code>, de manera que si dos elements són iguals segons el mètode <code>equals(…)</code>, llavors el mètode <code>compareTo(…)</code> entre ells ha de donar zero.
</p>

<p>
La classe <code>GrupOrdenatFiguraGeometricaViaVector</code> ha de mantenir, en tot moment, el vector ordenat per codi i, per tant, el mètode afegir(…) ha de consistir en una inserció ordenada. D’altra banda, atès que el vector estarà ordenat en tot moment, per qüestions d’eficiència, és evident que totes les cerques per codi s’haurien de basar en el mètode <code>binarySearch(…)</code> de la classe <code>Collections</code> i, perquè això sigui possible, la classe <code>FiguraGeometrica</code> ha de passar a implementar la interfície Comparable implementant l’ordre natural a partir de la comparació dels codis de les figures. I no n’hi haurà prou de comparar dues figures, sinó que també haurà de saber comparar una figura amb un codi de figura.
</p>

<p>
Respecte a la sobreescriptura del mètode <code>equals()</code>, hem de pensar amb lògica quan dos grups de figures geomètriques ordenades són iguals. L’enunciat no ens ha definit la igualtat entre grups, però ja que les figures estan ordenades, pot tenir sentit considerar que dos grups són iguals si hi ha igualtat de figures geomètriques, dos a dos, entre tots dos grups, segons el mètode <code>FiguraGeometrica.equals()</code>, és a dir, si la figura que ocupa la posició i en un grup és igual a la figura que ocupa la posició i en l’altre grup. Evidentment, podeu estar en desacord amb aquesta definició, però és la que hem implementat en la solució que es dóna i s’ha fet cridant directament el mètode <code>equals()</code> entre tots dos vectors, ja que la implementació del mètode <code>Vector.equals()</code> coincideix amb la que nosaltres volem implementar.
</p>

<p>
La solució a l’activitat està formada pels fitxers següents:
</p>
<ul>
<li class="level1"><div class="li"> FiguraGeometrica05.java, Rectangle05.java, Cercle05.java i Triangle05.java, evolució de la implementació proporcionada de la jerarquia de classes que neix a <code>FiguraGeometrica</code>, de manera que passen a implementar la interfície Comparable i el mètode <code>compareTo()</code> sap comparar dues figures geomètriques i també una figura geomètrica amb un codi de figura geomètrica.</div>
</li>
<li class="level1"><div class="li"> GrupOrdenatFiguraGeometricaViaVector.java, que defineix la classe que se’ns demanava, amb els mètodes bàsics per a la gestió de taules ordenades.</div>
</li>
<li class="level1"><div class="li"> ProvaGrupOrdenatFiguraGeometricaViaVector.java, que conté el programa de prova sol·licitat.</div>
</li>
</ul>

<p>
El codi de la solucio és el següent: <div class="mediaf filezip"><div class="mediacontent"><a href="../media/soluciofigures4.zip">Solució</a><span> ( 5 KB )</span></div></div>
</p>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="gestio_de_la_classe_hashtable" >Gestió de la classe Hashtable</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és comprovar la funcionalitat de les classes <code>Hashtable</code> i <code>Collections</code> del framework de col·leccions del Java (JCF).
</p>

<p>
Considereu la jerarquia de classes corresponent al disseny UML de la figura següent, implementada en els fitxers FiguraGeometrica02.java, Rectangle02.java, Cercle02.java i Triangle02.java.
</p>
<div class="iocfigure"><a name="figX5"></a><figure>
<figcaption><span class="figuretitle">Figura</span></figcaption><img src="../media/3.2.act2.gif" alt="" /></figure>
</div>
<p>
Dissenyeu la classe <code>GrupFiguraGeometricaViaHashtable</code> per gestionar un grup de figures geomètriques emmagatzemades en un objecte <code>Hashtable</code> de Java, amb els requeriments següents:
</p>
<ul>
<li class="level1"><div class="li"> El codi de la figura sigui el valor d’accés.</div>
</li>
<li class="level1"><div class="li"> La classe ha de proporcionar els mètodes bàsics per la gestió d’un grup de figures geomètriques (afegir, cercar per codi, extreure, buidar el grup…).</div>
</li>
<li class="level1"><div class="li"> La classe ha de sobreescriure el mètode <code>equals()</code> heretat de la classe Object.</div>
</li>
</ul>

<p>
Si cal, podeu millorar el disseny de les classes de la jerarquia que neix a FiguraGeometrica afegint els mètodes i/o característiques que corresponguin.
</p>

<p>
Desenvolupeu una altra classe, anomenada <code>ProvaGrupFiguraGeometricaViaHashtable</code>, pertanyent a un paquet anomenat proves, que contingui un mètode main() en el qual es comprovi el funcionament dels mètodes dissenyats en la classe <code>GrupFiguraGeometricaViaHashtable</code>.
</p>

<p>
Allà on ho considereu oportú, utilitzeu excepcions (pròpies o de les que proporciona el Java).
</p>

<p>
Descarregueu l’arxiu següent amb el codi font de les classes: <div class="mediaf filezip"><div class="mediacontent"><a href="../media/figures.zip">Codi</a><span> ( 2.6 KB )</span></div></div>
</p>

<p>
<form action=""><div class="solution ioccontent">
<p>
En primer lloc, cal adonar-nos que tenim dues possibilitats d’implementar la classe demanada:
</p>
<ol>
<li class="level1"><div class="li"> Fent que derivi de la classe <code>Hashtable</code>.</div>
</li>
<li class="level1"><div class="li"> Fent que contingui un membre de la classe <code>Hashtable</code>.</div>
</li>
</ol>

<p>
La primera possibilitat provoca que la nostra classe hereti tots els mètodes de la classe <code>Hashtable</code>. En aquesta solució optem per la segona possibilitat, de manera que la classe només tindrà els mètodes dissenyats per nosaltres.
</p>

<p>
Respecte a la sobreescriptura del mètode <code>equals()</code>, hem de pensar amb lògica quan dos grups de figures geomètriques són iguals. L’enunciat no ens ha definit la igualtat entre grups, però ja que les figures no estan ordenades, pot tenir sentit considerar que dos grups són iguals si, per cada figura geomètrica en un grup, hi ha una altra figura geomètrica en l’altre grup amb igualtat segons el mètode <code>FiguraGeometrica.equals()</code>, i això coincideix amb la implementació del mètode <code>Hashtable.equals()</code>. Evidentment, podeu estar en desacord amb aquesta definició, però és la que hem implementat en la solució que es dóna.
</p>

<p>
La solució a l’activitat està formada pels fitxers següents:
</p>
<ul>
<li class="level1"><div class="li"> GrupFiguraGeometricaViaHashtable.java, que defineix la classe que se’ns demanava, amb els mètodes bàsics per a la gestió de vectors (taules) i amb els dos mètodes d’ordenació indicats.</div>
</li>
<li class="level1"><div class="li"> ProvaGrupFiguraGeometricaViaHashtable.java, que conté el programa de prova sol·licitat.</div>
</li>
</ul>

<p>
El codi font de la solució és: <div class="mediaf filezip"><div class="mediacontent"><a href="../media/soluciofigures5.zip">Solució</a><span> ( 1.9 KB )</span></div></div>
</p>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="productes_esgotats_tractant_fitxers_xml" >Productes esgotats tractant fitxers XML</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és treballar amb el model DOM d’un fitxer XML per fer cerques a les dades que desa, modificar-les, i així generar una nova versió del document.
</p>

<p>
Partim d’un document XML, anomenat “Productes.xml”, que enumera una llista de productes seguint un format com el següent:
</p>
<pre class="code xml"><ol><li class="li1"><div class="de1"><span class="sc3"><span class="re1">&lt;?xml</span> <span class="re0">version</span>=<span class="st0">&quot;1.0&quot;</span> <span class="re0">encoding</span>=<span class="st0">&quot;UTF-8&quot;</span> <span class="re0">standalone</span>=<span class="st0">&quot;no&quot;</span><span class="re2">?&gt;</span></span></div></li><li class="li1"><div class="de1"><span class="sc3"><span class="re1">&lt;LlistaProductes</span> <span class="re0">data</span>=<span class="st0">&quot;23/11/2011&quot;</span><span class="re2">&gt;</span></span></div></li><li class="li1"><div class="de1"><span class="sc3"><span class="re1">&lt;Producte</span> <span class="re0">id</span>=<span class="st0">&quot;1&quot;</span> <span class="re0">aLaVenda</span>=<span class="st0">&quot;true&quot;</span><span class="re2">&gt;</span></span></div></li><li class="li1"><div class="de1">  <span class="sc3"><span class="re1">&lt;Nom<span class="re2">&gt;</span></span></span>Producte 1<span class="sc3"><span class="re1">&lt;/Nom<span class="re2">&gt;</span></span></span></div></li><li class="li1"><div class="de1">  <span class="sc3"><span class="re1">&lt;Preu<span class="re2">&gt;</span></span></span>10.0<span class="sc3"><span class="re1">&lt;/Preu<span class="re2">&gt;</span></span></span></div></li><li class="li1"><div class="de1">  <span class="sc3"><span class="re1">&lt;Estoc<span class="re2">&gt;</span></span></span>3<span class="sc3"><span class="re1">&lt;/Estoc<span class="re2">&gt;</span></span></span></div></li><li class="li1"><div class="de1"><span class="sc3"><span class="re1">&lt;/Producte<span class="re2">&gt;</span></span></span></div></li><li class="li1"><div class="de1"><span class="sc3"><span class="re1">&lt;Producte</span> <span class="re0">id</span>=<span class="st0">&quot;2&quot;</span> <span class="re0">aLaVenda</span>=<span class="st0">&quot;true&quot;</span><span class="re2">&gt;</span></span></div></li><li class="li1"><div class="de1">  <span class="sc3"><span class="re1">&lt;Nom<span class="re2">&gt;</span></span></span>Producte 2<span class="sc3"><span class="re1">&lt;/Nom<span class="re2">&gt;</span></span></span></div></li><li class="li1"><div class="de1">  <span class="sc3"><span class="re1">&lt;Preu<span class="re2">&gt;</span></span></span>15.0<span class="sc3"><span class="re1">&lt;/Preu<span class="re2">&gt;</span></span></span></div></li><li class="li1"><div class="de1">  <span class="sc3"><span class="re1">&lt;Estoc<span class="re2">&gt;</span></span></span>10<span class="sc3"><span class="re1">&lt;/Estoc<span class="re2">&gt;</span></span></span></div></li><li class="li1"><div class="de1"><span class="sc3"><span class="re1">&lt;/Producte<span class="re2">&gt;</span></span></span></div></li><li class="li1"><div class="de1"><span class="sc3"><span class="re1">&lt;Producte</span> <span class="re0">id</span>=<span class="st0">&quot;3&quot;</span> <span class="re0">aLaVenda</span>=<span class="st0">&quot;true&quot;</span><span class="re2">&gt;</span></span></div></li><li class="li1"><div class="de1">  <span class="sc3"><span class="re1">&lt;Nom<span class="re2">&gt;</span></span></span>Producte 3<span class="sc3"><span class="re1">&lt;/Nom<span class="re2">&gt;</span></span></span></div></li><li class="li1"><div class="de1">  <span class="sc3"><span class="re1">&lt;Preu<span class="re2">&gt;</span></span></span>25.0<span class="sc3"><span class="re1">&lt;/Preu<span class="re2">&gt;</span></span></span></div></li><li class="li1"><div class="de1">  <span class="sc3"><span class="re1">&lt;Estoc<span class="re2">&gt;</span></span></span>0<span class="sc3"><span class="re1">&lt;/Estoc<span class="re2">&gt;</span></span></span></div></li><li class="li1"><div class="de1"><span class="sc3"><span class="re1">&lt;/Producte<span class="re2">&gt;</span></span></span></div></li><li class="li1"><div class="de1"><span class="sc3"><span class="re1">&lt;Producte</span> <span class="re0">id</span>=<span class="st0">&quot;4&quot;</span> <span class="re0">aLaVenda</span>=<span class="st0">&quot;true&quot;</span><span class="re2">&gt;</span></span></div></li><li class="li1"><div class="de1">  <span class="sc3"><span class="re1">&lt;Nom<span class="re2">&gt;</span></span></span>Producte 4<span class="sc3"><span class="re1">&lt;/Nom<span class="re2">&gt;</span></span></span></div></li><li class="li1"><div class="de1">  <span class="sc3"><span class="re1">&lt;Preu<span class="re2">&gt;</span></span></span>5.75<span class="sc3"><span class="re1">&lt;/Preu<span class="re2">&gt;</span></span></span></div></li><li class="li1"><div class="de1">  <span class="sc3"><span class="re1">&lt;Estoc<span class="re2">&gt;</span></span></span>50<span class="sc3"><span class="re1">&lt;/Estoc<span class="re2">&gt;</span></span></span></div></li><li class="li1"><div class="de1"><span class="sc3"><span class="re1">&lt;/Producte<span class="re2">&gt;</span></span></span></div></li><li class="li1"><div class="de1"><span class="sc3"><span class="re1">&lt;/LlistaProductes<span class="re2">&gt;</span></span></span></div></li></ol></pre>

<p>
Feu un programa que elimini de la venda aquells productes amb estoc inferior a 5, canviant l’atribut “aLaVenda” al valor “false”. En el fitxer d’exemple, el resultat seria que hi ha 2 productes que cal retirar, i els productes 1 i 3 passarien a tenir el seu atribut “aLaVenda” de “true” a “false”. El nou XML resultant s’ha d’escriure en un nou fitxer anomenat “NouDoc.xml”.
</p>

<p>
<form action=""><div class="solution ioccontent"><pre class="code java"><ol><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">java.io.*</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">javax.xml.parsers.*</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">javax.xml.transform.*</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">javax.xml.transform.dom.*</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">javax.xml.transform.stream.*</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">org.w3c.dom.*</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">public</span> <span class="kw1">class</span> ProductesEsgotats <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    DocumentBuilderFactory builderFactory <span class="sy0">=</span> DocumentBuilderFactory.<span class="me1">newInstance</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+document"><span class="kw3">Document</span></a> document <span class="sy0">=</span> <span class="kw2">null</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">try</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">      DocumentBuilder  builder <span class="sy0">=</span> builderFactory.<span class="me1">newDocumentBuilder</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">      <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+file"><span class="kw3">File</span></a> f <span class="sy0">=</span> <span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+file"><span class="kw3">File</span></a> <span class="br0">&#40;</span><span class="st0">&quot;Productes.xml&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">      document <span class="sy0">=</span> builder.<span class="me1">parse</span><span class="br0">&#40;</span>f<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">      <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+element"><span class="kw3">Element</span></a> arrel <span class="sy0">=</span> document.<span class="me1">getDocumentElement</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">      NodeList productes <span class="sy0">=</span> arrel.<span class="me1">getElementsByTagName</span><span class="br0">&#40;</span><span class="st0">&quot;Producte&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">      <span class="kw4">int</span> nreProdEsgotats <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">      <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>i <span class="sy0">&lt;</span> productes.<span class="me1">getLength</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+element"><span class="kw3">Element</span></a> prod <span class="sy0">=</span> <span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+element"><span class="kw3">Element</span></a><span class="br0">&#41;</span>productes.<span class="me1">item</span><span class="br0">&#40;</span>i<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        NodeList estoc <span class="sy0">=</span> prod.<span class="me1">getElementsByTagName</span><span class="br0">&#40;</span><span class="st0">&quot;Estoc&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">if</span> <span class="br0">&#40;</span>estoc.<span class="me1">getLength</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">!=</span> <span class="nu0">1</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">          <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;Alerta! S'ha detectat un producte incorrecte al fitxer.&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="br0">&#125;</span> <span class="kw1">else</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">          <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+element"><span class="kw3">Element</span></a> e <span class="sy0">=</span> <span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+element"><span class="kw3">Element</span></a><span class="br0">&#41;</span>estoc.<span class="me1">item</span><span class="br0">&#40;</span><span class="nu0">0</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">          <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> text <span class="sy0">=</span> getText<span class="br0">&#40;</span>e<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">          <span class="kw4">int</span> valor <span class="sy0">=</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+integer"><span class="kw3">Integer</span></a>.<span class="me1">parseInt</span><span class="br0">&#40;</span>text<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">          <span class="kw1">if</span> <span class="br0">&#40;</span>valor <span class="sy0">&lt;</span> <span class="nu0">5</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">            prod.<span class="me1">setAttribute</span><span class="br0">&#40;</span><span class="st0">&quot;aLaVenda&quot;</span>, <span class="st0">&quot;false&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">          <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">        <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">      <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">      TransformerFactory tf <span class="sy0">=</span> TransformerFactory.<span class="me1">newInstance</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">      Transformer transformer <span class="sy0">=</span> tf.<span class="me1">newTransformer</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">      DOMSource source <span class="sy0">=</span> <span class="kw1">new</span> DOMSource<span class="br0">&#40;</span>document<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">      f <span class="sy0">=</span> <span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+file"><span class="kw3">File</span></a><span class="br0">&#40;</span><span class="st0">&quot;NouDoc.xml&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">      StreamResult result <span class="sy0">=</span> <span class="kw1">new</span> StreamResult<span class="br0">&#40;</span>f<span class="br0">&#41;</span><span class="sy0">;</span>      </div></li><li class="li1"><div class="de1">      transformer.<span class="me1">transform</span><span class="br0">&#40;</span>source, result<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span> <span class="kw1">catch</span> <span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+exception"><span class="kw3">Exception</span></a> ex<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">      <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;Error en la lectura del document: &quot;</span> <span class="sy0">+</span> ex<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="kw1">public</span> <span class="kw1">static</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> getText<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+element"><span class="kw3">Element</span></a> e<span class="br0">&#41;</span> <span class="kw1">throws</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+exception"><span class="kw3">Exception</span></a> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    NodeList llistaFills <span class="sy0">=</span> e.<span class="me1">getChildNodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> text <span class="sy0">=</span> <span class="st0">&quot;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw4">int</span> j <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> j <span class="sy0">&lt;</span> llistaFills.<span class="me1">getLength</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> j<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">      Node n <span class="sy0">=</span> llistaFills.<span class="me1">item</span><span class="br0">&#40;</span>j<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">      <span class="co1">//Mirar si els nodes són de text</span></div></li><li class="li1"><div class="de1">      <span class="kw1">if</span> <span class="br0">&#40;</span> <span class="br0">&#40;</span>n.<span class="me1">getNodeType</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">==</span> Node.<span class="me1">TEXT_NODE</span><span class="br0">&#41;</span><span class="sy0">||</span></div></li><li class="li1"><div class="de1">          <span class="br0">&#40;</span>n.<span class="me1">getNodeType</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">==</span> Node.<span class="me1">CDATA_SECTION_NODE</span><span class="br0">&#41;</span> <span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">        text <span class="sy0">+=</span> n.<span class="me1">getNodeValue</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">      <span class="br0">&#125;</span>      </div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span>  </div></li><li class="li1"><div class="de1">    <span class="kw1">return</span> text<span class="sy0">;</span></div></li><li class="li1"><div class="de1">  <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="productes_esgotats_amb_expressions_regulars" >Productes esgotats amb expressions regulars</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és veure com usar expressions regulars i les classes <code>Pattern</code> i <code>Match</code> del Java per cercar paraules amb certes propietats.
</p>

<p>
Partint del mateix fitxer que a l’exercici anterior, compteu el nombre de productes que hi ha esgotats (l’estoc és exactament 0) i mostreu aquest valor per pantalla. Per resoldre aquesta tasca, però, ara useu expressions regulars aplicades directament sobre el text del document XML. No cal modificar res de l’XML en aquest cas, només comptar el nombre de productes esgotats i mostrar aquest valor per pantalla.
</p>

<p>
<form action=""><div class="solution ioccontent"><pre class="code java"><ol><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">java.io.*</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">java.util.*</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">java.util.regex.*</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">public</span> <span class="kw1">class</span> ProductesEsgotats <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">try</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    Scanner lector <span class="sy0">=</span> <span class="kw1">new</span> Scanner<span class="br0">&#40;</span><span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+file"><span class="kw3">File</span></a><span class="br0">&#40;</span><span class="st0">&quot;Productes.xml&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> data <span class="sy0">=</span> <span class="st0">&quot;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">while</span> <span class="br0">&#40;</span>lector.<span class="me1">hasNextLine</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">      <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> lin <span class="sy0">=</span> lector.<span class="me1">nextLine</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">      data <span class="sy0">+=</span> lin <span class="sy0">+</span> <span class="st0">&quot;<span class="es0">\n</span>&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">    lector.<span class="me1">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> scriptregex <span class="sy0">=</span> <span class="st0">&quot;&lt;Estoc[^&gt;]*&gt;0&lt;/Estoc&gt;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    Pattern pattern <span class="sy0">=</span> Pattern.<span class="me1">compile</span><span class="br0">&#40;</span>scriptregex,Pattern.<span class="me1">CASE_INSENSITIVE</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    Matcher matcher <span class="sy0">=</span> pattern.<span class="me1">matcher</span><span class="br0">&#40;</span>data<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw4">int</span> nreEstocZero <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">while</span> <span class="br0">&#40;</span>matcher.<span class="me1">find</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">      nreEstocZero<span class="sy0">++;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">    <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;Hi ha &quot;</span> <span class="sy0">+</span> nreEstocZero <span class="sy0">+</span> <span class="st0">&quot; productes esgotats&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span> <span class="kw1">catch</span><span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+exception"><span class="kw3">Exception</span></a> ex<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">      <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;Error tractant dades: &quot;</span> <span class="sy0">+</span> ex<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">  <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="cercar_paraules_amb_diftongs_creixents" >Cercar paraules amb diftongs creixents</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és veure com usar expressions regulars i les classes <code>Pattern</code> i <code>Match</code> del Java per cercar paraules amb certes propietats.
</p>

<p>
Feu un programa en què, dins un text (per exemple, dins un fitxer anomenat “Diftongs.txt”),se cerqui totes les paraules que contenen un subconjunt dels diftongs creixents en català. Concretament, aquells amb un so i/u en posició inicial de mot, seguits d’una vocal.
</p>

<p>
El programa ha de mostrar per pantalla la paraula sencera que el conté. Per exemple, a partir del text següent:
</p>
<pre class="code txt"><ol><li class="li1"><div class="de1">Hola! Com anem? Cauen moltes coses, </div></li><li class="li1"><div class="de1">com ara iodes o iogurts, a part d'una </div></li><li class="li1"><div class="de1">hiena i moltes joies.</div></li></ol></pre>

<p>
El programa mostraria el següent:
</p>
<pre class="code txt"><ol><li class="li1"><div class="de1">iodes</div></li><li class="li1"><div class="de1">iogurts,</div></li><li class="li1"><div class="de1">hiena</div></li></ol></pre>

<p>
<form action=""><div class="solution ioccontent"><pre class="code java"><ol><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">java.io.*</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">java.util.*</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">java.util.regex.*</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">public</span> <span class="kw1">class</span> Diftongs <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">try</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">      Scanner lector <span class="sy0">=</span> <span class="kw1">new</span> Scanner<span class="br0">&#40;</span><span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+file"><span class="kw3">File</span></a><span class="br0">&#40;</span><span class="st0">&quot;Diftongs.txt&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">      <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> data <span class="sy0">=</span> <span class="st0">&quot;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">      <span class="kw1">while</span> <span class="br0">&#40;</span>lector.<span class="me1">hasNextLine</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> lin <span class="sy0">=</span> lector.<span class="me1">nextLine</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        data <span class="sy0">+=</span> lin<span class="sy0">;</span></div></li><li class="li1"><div class="de1">      <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">      lector.<span class="me1">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">      <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> scriptregex <span class="sy0">=</span> <span class="st0">&quot; [h]?[iu][aiueo][a-z]* &quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">      Pattern pattern <span class="sy0">=</span> Pattern.<span class="me1">compile</span><span class="br0">&#40;</span>scriptregex,Pattern.<span class="me1">CASE_INSENSITIVE</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">      Matcher matcher <span class="sy0">=</span> pattern.<span class="me1">matcher</span><span class="br0">&#40;</span>data<span class="br0">&#41;</span><span class="sy0">;</span>    </div></li><li class="li1"><div class="de1">      <span class="kw1">while</span> <span class="br0">&#40;</span>matcher.<span class="me1">find</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span>matcher.<span class="me1">group</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">      <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span> <span class="kw1">catch</span><span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+exception"><span class="kw3">Exception</span></a> ex<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">      <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;Error tractant dades: &quot;</span> <span class="sy0">+</span> ex<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">  <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

	 </article>
     <div class="pnpage">
      <div class="left-corner"></div>
      <div id="prevpage">Anar a la p&agrave;gina anterior:<br /><a href="../../../WebContent/u3/a1/continguts.html">Classes fonamentals</a></div>
      <div id="nextpage">Anar a la p&agrave;gina seg&uuml;ent:<br /><a href="../../../WebContent/u3/a1/exercicis.html">Exercicis</a></div>
      <div class="right-corner"></div>
     </div>
    </div>
    <footer class="footer">
      <div><small>Aquest document està subjecte a una llicència oberta de Creative Commons, es reserva el dret de reconeixement de l'autoria, d'exigir que no se'n faci cap mena d'ús comercial. Si altereu o transformeu aquesta obra, o en genereu obres derivades, només podeu distribuir l'obra generada amb una llicència idèntica a aquesta.</small></div>
    </footer>
 </div>
 <div id="back_preview" class="hidden"></div>
 <div id="preview" class="hidden">
  <div class="prevcontent"></div>
 </div>
 <div id="help-tooltips">
  <div id="help-toc" class="hidden tooltip"><span>Taula de continguts:</span> Ofereix una vista general de l&#39;estructura del m&ograve;dul, que us facilitar&agrave; la navegaci&oacute; a trav&eacute;s dels seus continguts.<span class="arrow-left"></span></div> 
  <div id="help-settings" class="hidden tooltip"><span>Opcions de format:</span> Permet configurar el format de lectura a partir de les vostres prefer&egrave;ncies, modificant la mida de la lletra, el color del fons, l&#39;amplada de la p&agrave;gina o l&#39;ocultaci&oacute; dels continguts complementaris, entre d&#39;altres.<span class="arrow-left"></span></div>
  <div id="help-printer" class="hidden tooltip"><span>Imprimir:</span>  Envia el contingut seleccionat a la impressora.<span class="arrow-left"></span></div>
  <div id="help-favorites" class="hidden tooltip"><span>Prefereits:</span> Permet desar aquelles parts del contingut a les que us interessi accedir en un moment posterior; us permetr&agrave; anar creant un repositori personalitzat de les seccions que considereu m&eacute;s rellevants. Un cop l&#39;hageu començat a fer servir se us mostrar&agrave; a sota un comptador que us informar&agrave; del nombre de preferits que s&#39;hagin emmagatzemat fins al moment.<span class="arrow-left"></span></div>
  <div id="help-favcounter" class="hidden tooltip"><span>Comptador i llistat de preferits:</span> Indica el nombre de preferits que s&#39;han desat fins el moment; clicant damunt seu accedireu al llistat de preferits, i a trav&eacute;s d&#39;aquest podreu accedir directament als continguts que hageu emmagatzemat.<span class="arrow-left"></span></div>
  <div id="help-help_icon" class="hidden tooltip"><span>Ajuda:</span> Aquesta opci&oacute; activa la informaci&oacute; de les funcionalitats del web tot situant el punter del ratol&iacute; al damunt dels diferents &iacute;tems.<span class="arrow-left"></span></div>
  <div id="help-sidebar-hide" class="hidden tooltip"><span>Mostrar/Ocultar barra lateral:</span>  Deshabilita la barra d&#39;opcions, permetent la seva recuperaci&oacute; quan es desitgi.<span class="arrow-left"></span></div>
  <div id="help-search" class="hidden tooltip"><span>Cerca:</span>  Introdu&iuml;u les paraules clau sobre aquells conceptes que desitgeu localitzar en els continguts del m&ograve;dul. Tamb&eacute; podeu excloure un terme de la cerca tot afegint-hi el signe &#8220;-&#8221; al davant.<span class="arrow-top"></span></div>
  <div id="help-header" class="hidden tooltip"><span>Cap&ccedil;alera:</span>  Indica l&#39;apartat o secci&oacute; que es mostra en pantalla. Tingueu present que les capçaleres de segon, tercer i quart nivell tamb&eacute; es poden desar com a marcadors.<span class="arrow-left"></span></div>
</div> 
</body>
</html>
