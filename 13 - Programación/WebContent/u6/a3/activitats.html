<!doctype html>

<!--[if lt IE 7 ]> <html class="ie ie6 no-js" lang="ca"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie ie7 no-js" lang="ca"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie ie8 no-js" lang="ca"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie ie9 no-js" lang="ca"> <![endif]-->
<!--[if gt IE 9]><!--><html class="no-js" lang="ca"><!--<![endif]-->
<!-- the "no-js" class is for Modernizr. -->

<head id="www-sitename-com" data-template-set="html5-reset">

	<meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html">
        
	<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>Programació bàsica (ASX) \ Programació (DAM i DAW)</title>
	
<!-- <meta name="title" content=""> --> 
	<meta name="description" content="">
	<!-- Google will often use this as its description of your page/site. Make it good. -->
	
	<meta name="google-site-verification" content="">
	<!-- Speaking of Google, don't forget to set your site up: http://google.com/webmasters -->
	
	<meta name="author" content="Institut Obert de Catalunya">
	<meta name="Copyright" content="Copyright Institut Obert de Catalunya 2011. All Rights Reserved.">

	<!-- Dublin Core Metadata : http://dublincore.org/ -->
	<meta name="DC.title" content="Programació bàsica (ASX) \ Programació (DAM i DAW)">
	<meta name="DC.subject" content="Informàtica i comunicacions">
	<meta name="DC.creator" content="Institut Obert de Catalunya">
	
	<!--  Mobile Viewport Fix
	j.mp/mobileviewport & davidbcalhoun.com/2010/viewport-metatag 
	device-width : Occupy full width of the screen in its current orientation
	initial-scale = 1.0 retains dimensions instead of zooming out if page height > device height
	maximum-scale = 1.0 retains dimensions instead of zooming in if page width < device width
	-->
	<!-- Uncomment to use � use thoughtfully!
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	-->

	<link rel="shortcut icon" href="../../../img/favicon.ico">
	<!-- This is the traditional favicon.
		 - size: 16x16 or 32x32
		 - transparency is OK
		 - see wikipedia for info on browser support: http://mky.be/favicon/ -->
		 
	<link rel="apple-touch-icon" href="../../../img/apple-touch-icon.png">
	<!-- The is the icon for iOS's Web Clip.
		 - size: 57x57 for older iPhones, 72x72 for iPads, 114x114 for iPhone4's retina display (IMHO, just go ahead and use the biggest one)
		 - To prevent iOS from applying its styles to the icon name it thusly: apple-touch-icon-precomposed.png
		 - Transparency is not recommended (iOS will put a black BG behind the icon) -->
	
	<!-- CSS: screen, mobile & print are all in the same file -->
	<link rel="stylesheet" href="../../../_/css/style.css">

	<!-- CSS: jQuery UI -->
	<link rel="stylesheet" href="../../../_/css/jquery-ui.css">
	
	<!-- all our JS is at the bottom of the page, except for Modernizr. -->
	<script src="../../../_/js/modernizr-1.7.min.js"></script>
	<script src="../../../_/js/Hyphenator.js" type="text/javascript"></script>
	<script type="text/javascript">
	   Hyphenator.config({
		minwordlength : 4
	   });
	   Hyphenator.run();
	</script>
    <script src="../../../_/js/build.js" type="text/javascript"></script>
</head>

<body class="style-newspaper">

<div class="wrapper"><!-- not needed? up to you: http://camendesign.com/code/developpeurs_sans_frontieres -->

	<header id="header">
		<div class="head"><a href="http://ioc.gencat.cat"><img src="../../../img/logo.png" alt="Institut Obert de Catalunya"/></a><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/es/deed.ca"><img src="../../../img/license.png" alt="Llic&egrave;ncia" class="license"/></a></div>
		<div class="headdocument"><a href="../../../index.html">Programació bàsica (ASX) \ Programació (DAM i DAW)</a></div>
        <div id="search" class="search" name="search">
         <form id="frmsearch" action="../../../search.html" method="get">
          <input type="text" name="q"/>
        </form>
        </div>
	</header>
   <div id="upbutton" class="upbutton" style="display:none;"><img src="../../../img/uparrow.png" alt="Pujar a l'inici de p&agrave;gina"/></div>
   <aside id="aside">
    <div id="menu">
      <ul>
       <li name="toc"><div><img src="../../../img/toc.png" alt="&Iacute;ndex"/></div></li>
       <li name="settings"><div><img src="../../../img/settings.png" alt="Configuraci&oacute;"/></div></li>
       <li name="printer"><div><img src="../../../img/printer.png" alt="Imprimir"/></div></li>
       <li name="favorites"><div><img src="../../../img/favorites.png" alt="Favorits"/></div></li>
       <li name="help_icon" class="help_icon"><div><img src="../../../img/help_icon.png" alt="Ajuda"/></div></li>
      </ul>
     </div>
   </aside>
   <div id="sidebar-hide" name="sidebar-hide"><img src="../../../img/arrows.png"/></div>
   <section>
     <div id="toc" class="hidden">
      <div class="menucontent">
        <ul>
        <li id="u6" class="parentnode"><p><a class="unit" href="../../../WebContent/u6/introduccio.html">6. Fitxers</a></p><ul class="expander"><li id="u6introduccio"><a href="../../../WebContent/u6/introduccio.html">Introducció</a></li><li id="u6resum"><a href="../../../WebContent/u6/resum.html">Resum</a></li><li id="u6resultats_d_aprenentatge"><a href="../../../WebContent/u6/resultats_d_aprenentatge.html">Resultats d'aprenentatge</a></li><li id="u6mapa"><a href="../../../WebContent/u6/mapa.html">Mapa conceptual</a></li><li id="u6referencies"><a href="../../../WebContent/u6/referencies.html">Referències</a></li><li id="u6a1" class="tocsection"><p id='u6a1continguts'><a class="section" href="../../../WebContent/u6/a1/continguts.html">Gestió de fitxers</a><span class="buttonexp"></span></p><ul><li id="u6a1activitats"><a href="../../../WebContent/u6/a1/activitats.html">Activitats</a></li><li id="u6a1exercicis"><a href="../../../WebContent/u6/a1/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u6a1' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u6/a1/continguts.html#la_classe_file">La classe File</a></li><li><a href="../../../WebContent/u6/a1/continguts.html#solucio_dels_reptes_proposats">Solució dels reptes proposats</a></li></ul></div></div><li id="u6a2" class="tocsection"><p id='u6a2continguts'><a class="section" href="../../../WebContent/u6/a2/continguts.html">Tractament bàsic de dades</a><span class="buttonexp"></span></p><ul><li id="u6a2activitats"><a href="../../../WebContent/u6/a2/activitats.html">Activitats</a></li><li id="u6a2exercicis"><a href="../../../WebContent/u6/a2/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u6a2' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u6/a2/continguts.html#acces_sequeencial_a_fitxers_orientats_a_caracter">Accés seqüencial a fitxers orientats a caràcter</a></li><li><a href="../../../WebContent/u6/a2/continguts.html#aspectes_importants_de_l_acces_sequeencial">Aspectes importants de l'accés seqüencial</a></li><li><a href="../../../WebContent/u6/a2/continguts.html#acces_sequeencial_a_fitxers_orientats_a_byte">Accés seqüencial a fitxers orientats a byte</a></li><li><a href="../../../WebContent/u6/a2/continguts.html#acces_relatiu_a_les_dades">Accés relatiu a les dades</a></li><li><a href="../../../WebContent/u6/a2/continguts.html#solucions_als_reptes_proposats">Solucions als reptes proposats</a></li></ul></div></div><li id="u6a3" class="tocsection"><p id='u6a3continguts'><a class="section" href="../../../WebContent/u6/a3/continguts.html">Tractament modular de dades. El joc de combats a l'arena</a><span class="buttonexp"></span></p><ul><li id="u6a3activitats"><a href="../../../WebContent/u6/a3/activitats.html">Activitats</a></li><li id="u6a3exercicis"><a href="../../../WebContent/u6/a3/exercicis.html">Exercicis d'autoavaluació</a></li><li id="u6a3annexos"><a href="../../../WebContent/u6/a3/annexos.html">Annexos</a></li></ul></li><div data-parent-id='u6a3' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u6/a3/continguts.html#descripcio_del_problema">Descripció del problema</a></li><li><a href="../../../WebContent/u6/a3/continguts.html#criteris_d_eleccio_de_tipus_de_fitxer">Criteris d'elecció de tipus de fitxer</a></li><li><a href="../../../WebContent/u6/a3/continguts.html#la_biblioteca_jocarenafitxers">La biblioteca "joc.arena.fitxers"</a></li><li><a href="../../../WebContent/u6/a3/continguts.html#esmenes_als_moduls_originals">Esmenes als mòduls originals</a></li></ul></div></div></ul></li><li id="" class="indexnode"><p><a href="../../../index.html">Anar a l&#39;&iacute;ndex general</a></p></li>
        </ul>
      </div>
    </div>
   </section>
   <section>
   <div id="settings" class="hidden">
    <div class="menucontent">
     <div class="allsettings">
     <div class="settings">
      <label>Font i Color</label>
		<div class="setting-option">
	        <ul class="fontBackground">
				<li id="style-newspaper" title="Newspaper" class="appearance-style-newspaper"><span>Newspaper</span></li>
                <li id="style-novel" title="Novel" class="appearance-style-novel"><span>Novel</span></li>
                <li id="style-ebook" title="eBook" class="appearance-style-ebook"><span>eBook</span></li>
				<li id="style-inverse" title="Inverse" class="appearance-style-inverse active"><span>Inverse</span></li>
				<li id="style-athelas" title="Athelas" class="appearance-style-athelas"><span>Athelas</span></li>
			</ul>
		</div>
     </div>
	<div class="settings">
      <label>Amplada</label>
		<div class="setting-option">
	        <div id="slider-width"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
		<div class="setting-option">
	        <div id="slider-font"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
	  <div class="setting-option">
       <form action="" class="sett-options">
		<ul>
		    <li><input type="checkbox" id="secondary-content" /><label for="secondary-content">Mostra recursos complementaris</label></li>
		    <li><input type="checkbox" id="main-images" /><label for="main-images">Mostra imatges</label></li>
		    <li><input type="checkbox" id="text-alignment" /><label for="text-alignment">Text justificat</label></li>
			<li><input type="checkbox" id="text-hyphen" /><label for="text-hyphen">Partici&oacute; sil·l&agrave;bica</label></li>
		</ul>
       </form>
	  </div>
     </div>
     </div>
    </div>
   </div>
   </section>
 <section>
 <div id="favorites" class="hidden"></div>
 </section>   
 <div id="bridge" class="hidden"></div>
 <div id="help" class="hidden">
  <div class="helptitle">Dreceres del teclat<hr></div>
  <div class="helpsection"><span>General</span>
   <ul>
    <li><span class="shortcut">g</span>: Anar al men&uacute; de navegaci&oacute;</li>
    <li><span class="shortcut">o</span>: Anar a opcions</li>
    <li><span class="shortcut">s</span>: Guardar la p&agrave;gina actual a favorits</li>
    <li><span class="shortcut">p</span>: Imprimir la p&agrave;gina actual</li>
    <li><span class="shortcut">?</span>: Mostrar/Ocultar l&#39;ajuda</li>
   </ul>
  </div>
  <div class="helpsection"><span>Navegaci&oacute;</span>
   <ul>
    <li><span class="shortcut">i</span>: Anar a l&#39;&iacute;ndex general</li>
    <li><span class="shortcut">t</span>: Anar a l&#39;inici de p&agrave;gina</li>
    <li><span class="shortcut">b</span>: Anar al final de p&agrave;gina</li>
    <li><span class="shortcut">j</span>: Anar cap endavant dintre la p&agrave;gina</li>
    <li><span class="shortcut">k</span>: Anar cap enrere dintre la p&agrave;gina</li>
    <li><span class="shortcut">h</span>: Anar a la p&agrave;gina anterior:</li>
    <li><span class="shortcut">l</span>: Anar a la p&agrave;gina seg&uuml;ent:</li>
   </ul>
   </div>
 </div>
 <div id="favcounter" name="favcounter" class="hidden"><span></span></div>
 <div id="navmenu" class="navmenu"><ul class="webnav"><li><a href="../../../index.html" title="Anar a l&#39;&iacute;ndex general">Inici</a></li><li><a href="../introduccio.html">Fitxers</a></li><li><a href="continguts.html">Tractament modular de dades. El joc de combats a l'arena</a></li><li>Activitats</li></ul></div>
	<div id="content" lang="ca" class="hyphenate text">
     <article lang="ca" class="sheet">
        <h1><a id="activitats"> Activitats </a></h1>
    	
<h2><a id="ranquing_orientat_a_byte" >Ranquing orientat a byte</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és veure com modificar un mòdul de manera que no calgui modificar absolutament res de la resta del programa.
</p>

<p>
Modifiqueu la classe <code>Ranquing</code>, amb la qual heu treballat als continguts d’aquest apartat, de manera que ara, en lloc de treballar amb un fitxer orientat a caràcter, ho faci amb un orientat a byte. Les dades que ha de contenir són les mateixes (una llista amb conjunts de tres inicials i la puntuació associada). En aquest cas, però, no hi ha puntuacions per defecte a l’inici del joc. Primer de tot no hi ha fitxer, i el llistat va incorporant les puntuacions de successives partides a poc a poc, amb un màxim sempre de 10 alhora. Després de la primera partida hi haurà 1 puntuació, després de la segona 2, etc. Això vol dir que les 10 primeres puntuacions al llarg de la vida del joc sempre s’inclouran al fitxer.
</p>

<p>
En dur a terme aquesta tasca, cal mantenir els principis de modularitat. Això implica que no ha de caldre modificar absolutament cap altra classe llevat de <code>Ranquing</code>.
</p>

<p>
<form action=""><div class="solution ioccontent"><pre class="code java"><ol><li class="li1"><div class="de1">package joc.arena.fitxers;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">import java.io.File;</div></li><li class="li1"><div class="de1">import java.io.RandomAccessFile;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">public class Ranquing {</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">   //Es declara el fitxer de puntuacions com una constant </div></li><li class="li1"><div class="de1">   public static final File RANQUING = new File(&quot;Ranquing&quot;);</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  /** A partir d'una puntuació, estableix la seva posició al fitxer</div></li><li class="li1"><div class="de1">   * </div></li><li class="li1"><div class="de1">   * @param punts Punts que cal comprovar</div></li><li class="li1"><div class="de1">   * @return posició per la puntuació. -1 Si error.</div></li><li class="li1"><div class="de1">   */</div></li><li class="li1"><div class="de1">  public int cercarRanquing(int punts) {</div></li><li class="li1"><div class="de1">    try {</div></li><li class="li1"><div class="de1">      //Fitxer no existeix (primera partida)</div></li><li class="li1"><div class="de1">      if (RANQUING.isFile() == false) {</div></li><li class="li1"><div class="de1">        return 0;</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">      RandomAccessFile raf = new RandomAccessFile(RANQUING,&quot;r&quot;);</div></li><li class="li1"><div class="de1">      //Cada posició ocupa 10 bytes (3 chars = 2 bytes) + (1 int = 4 bytes)</div></li><li class="li1"><div class="de1">      long numPosicions = RANQUING.length() / 10;</div></li><li class="li1"><div class="de1">      int pos = 0;</div></li><li class="li1"><div class="de1">      while (pos &lt; numPosicions) {</div></li><li class="li1"><div class="de1">        //Saltar inicials i llegim punts</div></li><li class="li1"><div class="de1">        raf.skipBytes(6);</div></li><li class="li1"><div class="de1">        int rankPunts = raf.readInt();</div></li><li class="li1"><div class="de1">        if (punts &gt; rankPunts) {</div></li><li class="li1"><div class="de1">          //S'ha trobat la posició  </div></li><li class="li1"><div class="de1">          break;</div></li><li class="li1"><div class="de1">        }</div></li><li class="li1"><div class="de1">        pos++;</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">      //S'arriba aquí si s'ha arribat al final del fitxer</div></li><li class="li1"><div class="de1">      raf.close();</div></li><li class="li1"><div class="de1">      return pos;</div></li><li class="li1"><div class="de1">    } catch(Exception e) {</div></li><li class="li1"><div class="de1">      return -1;</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  /** Insereix una puntuació al rànquing</div></li><li class="li1"><div class="de1">   *</div></li><li class="li1"><div class="de1">   * @param inicials Inicials del jugador</div></li><li class="li1"><div class="de1">   * @param punts Puntuació assolida</div></li><li class="li1"><div class="de1">   * @param pos Posició dins el rànquing, o -1 si hi ha error</div></li><li class="li1"><div class="de1">   * @return 0 si tot correcte, -1 Si error.</div></li><li class="li1"><div class="de1">   */</div></li><li class="li1"><div class="de1">  public int entrarPuntuacio(String inicials, int punts, int pos) {</div></li><li class="li1"><div class="de1">    try {</div></li><li class="li1"><div class="de1">      //Són realment inicials?  </div></li><li class="li1"><div class="de1">      if (inicials.length() != 3) {</div></li><li class="li1"><div class="de1">        return -1;    </div></li><li class="li1"><div class="de1">      }  </div></li><li class="li1"><div class="de1">      RandomAccessFile raf = new RandomAccessFile(RANQUING,&quot;rw&quot;);</div></li><li class="li1"><div class="de1">      //Cada posició ocupa 10 bytes (3 chars = 2 bytes) + (1 int = 4 bytes)</div></li><li class="li1"><div class="de1">      long numPosicions = RANQUING.length() /10;</div></li><li class="li1"><div class="de1">      if (pos &lt; numPosicions) {</div></li><li class="li1"><div class="de1">        //Cal desplaçar rànquings</div></li><li class="li1"><div class="de1">        for (long i = numPosicions; i &gt; pos; i--) {</div></li><li class="li1"><div class="de1">          long offset = (i - 1)*10;</div></li><li class="li1"><div class="de1">          raf.seek(offset);</div></li><li class="li1"><div class="de1">          //Es llegeixen tres inicials</div></li><li class="li1"><div class="de1">          String inis = &quot;&quot; + raf.readChar();</div></li><li class="li1"><div class="de1">          inis = inis + raf.readChar();</div></li><li class="li1"><div class="de1">          inis = inis + raf.readChar();</div></li><li class="li1"><div class="de1">          //Es llegeixen els punts</div></li><li class="li1"><div class="de1">          int pun = raf.readInt();</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">          //S'escriuen al bloc següent</div></li><li class="li1"><div class="de1">          raf.writeChars(inis);</div></li><li class="li1"><div class="de1">          raf.writeInt(pun);</div></li><li class="li1"><div class="de1">        }            </div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">      //Escriure puntuació</div></li><li class="li1"><div class="de1">      long offset = pos*10;</div></li><li class="li1"><div class="de1">      raf.seek(offset);</div></li><li class="li1"><div class="de1">      raf.writeChars(inicials);</div></li><li class="li1"><div class="de1">      raf.writeInt(punts);</div></li><li class="li1"><div class="de1">      raf.close();</div></li><li class="li1"><div class="de1">      return 0;</div></li><li class="li1"><div class="de1">    } catch (Exception e) {</div></li><li class="li1"><div class="de1">      return -1;    </div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  /** Llegeix les puntuacions i les formata com una cadena de text</div></li><li class="li1"><div class="de1">   * </div></li><li class="li1"><div class="de1">   * @return Cadena de text resultant. null si hi ha error</div></li><li class="li1"><div class="de1">   */</div></li><li class="li1"><div class="de1">  public String llegirRanquing() {</div></li><li class="li1"><div class="de1">    try {</div></li><li class="li1"><div class="de1">      String txtRanquing = &quot;Rànquing de puntuacions\n----------------------\n&quot;;</div></li><li class="li1"><div class="de1">      RandomAccessFile raf = new RandomAccessFile(RANQUING,&quot;r&quot;);</div></li><li class="li1"><div class="de1">      long numPosicions = RANQUING.length() /10;</div></li><li class="li1"><div class="de1">      for (int i = 0; i &lt; numPosicions; i++) {</div></li><li class="li1"><div class="de1">        txtRanquing = txtRanquing + raf.readChar();</div></li><li class="li1"><div class="de1">        txtRanquing = txtRanquing + raf.readChar();</div></li><li class="li1"><div class="de1">        txtRanquing = txtRanquing + raf.readChar();</div></li><li class="li1"><div class="de1">        txtRanquing = txtRanquing + &quot;\t&quot; + raf.readInt() + &quot;\n&quot;;</div></li><li class="li1"><div class="de1">      }      </div></li><li class="li1"><div class="de1">      raf.close();</div></li><li class="li1"><div class="de1">      return txtRanquing;</div></li><li class="li1"><div class="de1">    }  catch (Exception e) {</div></li><li class="li1"><div class="de1">      return null;</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="editor_de_bestiari_avancat" >Editor de bestiari avançat</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és practicar l’accés a fitxers relatius.
</p>

<p>
Modifiqueu la classe <code>EditorBestiari</code>, presentada als continguts d’aquest apartat, de manera que ara, en eliminar un adversari del fitxer, no ho faci pel final. Ha de preguntar quina posició es vol eliminar (la primera és la 0) i esborrar només aquell adversari. El nou programa ha de garantir que l’usuari mai posa una posició incorrecta (un valor que no és enter o que no existeix al fitxer).
</p>

<p>
Tot seguit es mostra una sortida d’exemple del programa:
</p>
<pre class="code">Nom del fitxer a editar: Adversaris
[0] Nan            :         Nivell: 1 (punts: 25)        VIDA: 8        ATAC: 3        DEFENSA: 3
[1] Kobold         :         Nivell: 1 (punts: 30)        VIDA: 10        ATAC: 4        DEFENSA: 2
[2] Orc            :         Nivell: 2 (punts: 35)        VIDA: 12        ATAC: 4        DEFENSA: 3
[3] Profund        :         Nivell: 2 (punts: 40)        VIDA: 14        ATAC: 3        DEFENSA: 4
[4] Bruixot Malvat :         Nivell: 3 (punts: 45)        VIDA: 15        ATAC: 3        DEFENSA: 5
[5] Ogre           :         Nivell: 3 (punts: 50)        VIDA: 16        ATAC: 5        DEFENSA: 2
[6] Guerrer Caòtic :         Nivell: 4 (punts: 55)        VIDA: 15        ATAC: 4        DEFENSA: 4
[7] Troll          :         Nivell: 4 (punts: 60)        VIDA: 18        ATAC: 3        DEFENSA: 5
[8] Elemental Terra:         Nivell: 5 (punts: 70)        VIDA: 22        ATAC: 4        DEFENSA: 6
[9] Hidra          :         Nivell: 5 (punts: 80)        VIDA: 30        ATAC: 8        DEFENSA: 2
------------------------------
[A]fegir        [E]liminar        [S]ortir
Acció: e
Posició a tractar [0 - 9]: 10
Aquesta no existeix. Posició a tractar [0 - 9]: -1
Aquesta no existeix. Posició a tractar [0 - 9]: 2
[0] Nan            :         Nivell: 1 (punts: 25)        VIDA: 8        ATAC: 3        DEFENSA: 3
[1] Kobold         :         Nivell: 1 (punts: 30)        VIDA: 10        ATAC: 4        DEFENSA: 2
[2] Profund        :         Nivell: 2 (punts: 40)        VIDA: 14        ATAC: 3        DEFENSA: 4
[3] Bruixot Malvat :         Nivell: 3 (punts: 45)        VIDA: 15        ATAC: 3        DEFENSA: 5
[4] Ogre           :         Nivell: 3 (punts: 50)        VIDA: 16        ATAC: 5        DEFENSA: 2
[5] Guerrer Caòtic :         Nivell: 4 (punts: 55)        VIDA: 15        ATAC: 4        DEFENSA: 4
[6] Troll          :         Nivell: 4 (punts: 60)        VIDA: 18        ATAC: 3        DEFENSA: 5
[7] Elemental Terra:         Nivell: 5 (punts: 70)        VIDA: 22        ATAC: 4        DEFENSA: 6
[8] Hidra          :         Nivell: 5 (punts: 80)        VIDA: 30        ATAC: 8        DEFENSA: 2
------------------------------
[A]fegir        [E]liminar        [S]ortir
Acció: e
Posició a tractar [0 - 8]: 
...</pre>

<p>
<form action=""><div class="solution ioccontent"><pre class="code java"><ol><li class="li1"><div class="de1">  //PARTS MODIFICADES</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  /** Elimina el darrer adversari en un fitxer.</div></li><li class="li1"><div class="de1">   *</div></li><li class="li1"><div class="de1">   * @param fitxer Ruta del fitxer a modificar</div></li><li class="li1"><div class="de1">   */</div></li><li class="li1"><div class="de1">  public void eliminarAdversari(File fitxer) {</div></li><li class="li1"><div class="de1">    try {</div></li><li class="li1"><div class="de1">      RandomAccessFile raf = new RandomAccessFile(fitxer,&quot;rw&quot;);</div></li><li class="li1"><div class="de1">      if (fitxer.length() &gt; MIDA_BYTES_ADV) {</div></li><li class="li1"><div class="de1">        //Queda mes d'un element</div></li><li class="li1"><div class="de1">        int pos = llegirPosicio(fitxer);</div></li><li class="li1"><div class="de1">        long numAdv = fitxer.length()/MIDA_BYTES_ADV;</div></li><li class="li1"><div class="de1">        //Desplaçar elements</div></li><li class="li1"><div class="de1">        for (int i = pos + 1; i &lt; numAdv; i++) {</div></li><li class="li1"><div class="de1">          byte[] dades = new byte[MIDA_BYTES_ADV];</div></li><li class="li1"><div class="de1">          //Es llegeixen 50 bytes i s'escriuen 50 posicions abans</div></li><li class="li1"><div class="de1">          raf.seek(i*MIDA_BYTES_ADV);</div></li><li class="li1"><div class="de1">          raf.read(dades);</div></li><li class="li1"><div class="de1">          raf.seek((i-1)*MIDA_BYTES_ADV);</div></li><li class="li1"><div class="de1">          raf.write(dades);</div></li><li class="li1"><div class="de1">        }</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">        //Un cop desplaçats, esborra darrer element (ara repetit)</div></li><li class="li1"><div class="de1">        raf.setLength(fitxer.length() - MIDA_BYTES_ADV);</div></li><li class="li1"><div class="de1">      } else {</div></li><li class="li1"><div class="de1">        //Queda un element o cap, no val la pena preguntar res</div></li><li class="li1"><div class="de1">        raf.setLength(0);</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">      raf.close();</div></li><li class="li1"><div class="de1">    } catch (Exception e) {</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Error esborrant dades al fitxer &quot; + fitxer);</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  /** Llegeix un enter del teclat, corresponent a una posició d'un adversari</div></li><li class="li1"><div class="de1">   * al fitxer.</div></li><li class="li1"><div class="de1">   * </div></li><li class="li1"><div class="de1">   * @param fitxer Fitxer a tractar</div></li><li class="li1"><div class="de1">   * @return Posició a tractar</div></li><li class="li1"><div class="de1">   */</div></li><li class="li1"><div class="de1">  public int llegirPosicio(File fitxer) {</div></li><li class="li1"><div class="de1">    Scanner lector = new Scanner(System.in);</div></li><li class="li1"><div class="de1">    long maxPos = fitxer.length()/MIDA_BYTES_ADV - 1;</div></li><li class="li1"><div class="de1">    boolean llegir = true;</div></li><li class="li1"><div class="de1">    int pos = 0;</div></li><li class="li1"><div class="de1">    while (llegir) {</div></li><li class="li1"><div class="de1">      System.out.print(&quot;Posició a tractar [0 - &quot; + maxPos +&quot;]: &quot;);</div></li><li class="li1"><div class="de1">      if (lector.hasNextInt()) {</div></li><li class="li1"><div class="de1">        pos = lector.nextInt();</div></li><li class="li1"><div class="de1">        if ((pos &lt; 0)||(pos &gt; maxPos)) {</div></li><li class="li1"><div class="de1">          System.out.print(&quot;Aquesta no existeix. &quot;);</div></li><li class="li1"><div class="de1">        } else {</div></li><li class="li1"><div class="de1">          llegir = false;</div></li><li class="li1"><div class="de1">        }</div></li><li class="li1"><div class="de1">      } else {</div></li><li class="li1"><div class="de1">        System.out.print(&quot;No has escrit un enter. &quot;);</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    return pos;</div></li><li class="li1"><div class="de1">  }</div></li></ol></pre>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="desar_partida" >Desar partida</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és aprendre a afegir un nou mòdul a una aplicació ja existent.
</p>

<p>
Amplieu l’aplicació del joc de lluites a l’arena, usat al llarg dels continguts d’aquest apartat, i deseu la partida quan sigui possible. Quan el joc pregunta contra quin adversari lluitar, es pot usar l’ordre “desar”. En fer-ho, es desa l’estat de la partida en un fitxer anomenat “Partida.sav”. Dins seu es desa el número de combat actual i estat dels atributs del jugador. Immediatament, la partida acaba (sense comprovar si hi ha una màxima puntuació).
</p>

<p>
Cada cop que s’inicia un joc, es comprova si existeix aquest fitxer. Si no existeix, la partida s’inicia normalment com fins ara. Si existeix, el jugador i el número de combat s’obté d’aquest fitxer, de manera que la partida segueix exactament des del punt on es va desar. En fer-ho, el fitxer s’elimina, de manera que només és possible recuperar la partida una única vegada.
</p>

<p>
Porteu a terme aquesta tasca aplicant els principis bàsics de modularitat.
</p>

<p>
<form action=""><div class="solution ioccontent">
<p>
Classe DesarPartida.java. Nova classe que gestiona el fitxer on es desa la partida.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">package joc.arena.fitxers;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">import java.io.File;</div></li><li class="li1"><div class="de1">import java.io.RandomAccessFile;</div></li><li class="li1"><div class="de1">import joc.arena.regles.Bestiari;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">public class DesarPartida {</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  public static final File fitxer = new File(&quot;Partida.sav&quot;);</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  private Bestiari bestiari = new Bestiari();</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  /** Obté el número de combat de la partida desada.</div></li><li class="li1"><div class="de1">   * </div></li><li class="li1"><div class="de1">   * @return Número de combat</div></li><li class="li1"><div class="de1">   */</div></li><li class="li1"><div class="de1">  public int obtenirNumCombat() {</div></li><li class="li1"><div class="de1">    try {</div></li><li class="li1"><div class="de1">      int num = 0;</div></li><li class="li1"><div class="de1">      RandomAccessFile raf = new RandomAccessFile(fitxer,&quot;r&quot;);</div></li><li class="li1"><div class="de1">      num = raf.readInt();</div></li><li class="li1"><div class="de1">      raf.close();</div></li><li class="li1"><div class="de1">      return num;</div></li><li class="li1"><div class="de1">    } catch (Exception e) {</div></li><li class="li1"><div class="de1">      return 0;</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  /** Genera un jugador, mirant abans si hi ha una partida desada . Un cop</div></li><li class="li1"><div class="de1">   * recuperada la partida, s'esborra el fitxer automàticament.</div></li><li class="li1"><div class="de1">   *</div></li><li class="li1"><div class="de1">   * @return Jugador preparat per començar a jugar.</div></li><li class="li1"><div class="de1">   */</div></li><li class="li1"><div class="de1">  public int[] obtenirJugador() {</div></li><li class="li1"><div class="de1">    try {</div></li><li class="li1"><div class="de1">      if (fitxer.isFile()) {</div></li><li class="li1"><div class="de1">        int[] jugador = new int[9];</div></li><li class="li1"><div class="de1">        RandomAccessFile raf = new RandomAccessFile(fitxer,&quot;r&quot;);</div></li><li class="li1"><div class="de1">        raf.skipBytes(4);</div></li><li class="li1"><div class="de1">        for (int i = 1; i &lt; jugador.length; i++) {</div></li><li class="li1"><div class="de1">          jugador[i] = raf.readInt();</div></li><li class="li1"><div class="de1">        }</div></li><li class="li1"><div class="de1">        raf.close();</div></li><li class="li1"><div class="de1">        fitxer.delete();</div></li><li class="li1"><div class="de1">        return jugador;</div></li><li class="li1"><div class="de1">      } else {</div></li><li class="li1"><div class="de1">        return bestiari.generarJugador();</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">    } catch (Exception e) {</div></li><li class="li1"><div class="de1">      fitxer.delete(); </div></li><li class="li1"><div class="de1">      return bestiari.generarJugador();</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  /** Desa l'estat del jugador</div></li><li class="li1"><div class="de1">   *</div></li><li class="li1"><div class="de1">   * @param jugador Estat actual del jugador a desar.</div></li><li class="li1"><div class="de1">   * @return Si tot ha anat correctament (0) o no (-1).</div></li><li class="li1"><div class="de1">   */</div></li><li class="li1"><div class="de1">  public int desarJugador(int[] jugador, int numCombat) {</div></li><li class="li1"><div class="de1">    try {</div></li><li class="li1"><div class="de1">      fitxer.delete();</div></li><li class="li1"><div class="de1">      RandomAccessFile raf = new RandomAccessFile(fitxer,&quot;rw&quot;);</div></li><li class="li1"><div class="de1">      raf.writeInt(numCombat);</div></li><li class="li1"><div class="de1">      for (int i = 1; i &lt; jugador.length; i++) {</div></li><li class="li1"><div class="de1">        raf.writeInt(jugador[i]);</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">      raf.close();</div></li><li class="li1"><div class="de1">      return 0;</div></li><li class="li1"><div class="de1">    } catch(Exception e) {</div></li><li class="li1"><div class="de1">      fitxer.delete();</div></li><li class="li1"><div class="de1">      return -1;</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
Classe JocArena.java. Es modifica principalment el mètode <code>inici</code>.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">  import joc.arena.fitxers.DesarPartida;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  //...</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  private DesarPartida desar = new DesarPartida();</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  //...</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  public void inici() {</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    //Mirar si existeix fitxer d'adversaris</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    if (bestiari.existeixFitxer() == false) {</div></li><li class="li1"><div class="de1">      System.out.println(&quot;No hi ha el fitxer d'adversaris!&quot;);</div></li><li class="li1"><div class="de1">    } else {</div></li><li class="li1"><div class="de1">      //CODI ORIGINAL</div></li><li class="li1"><div class="de1">      sortida.mostarBenvinguda();</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">      boolean jugar = true;</div></li><li class="li1"><div class="de1">      boolean desada = false;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">      //Desar partida</div></li><li class="li1"><div class="de1">      int numCombat = desar.obtenirNumCombat();</div></li><li class="li1"><div class="de1">      int[] jugador = desar.obtenirJugador();</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">      while (jugar) {</div></li><li class="li1"><div class="de1">        numCombat++;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">        //Abans de cada combat es restaura al jugador</div></li><li class="li1"><div class="de1">        lluitador.restaurar(jugador);</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">        //Inici d'un combat</div></li><li class="li1"><div class="de1">        System.out.println(&quot;*** COMBAT &quot; + numCombat);</div></li><li class="li1"><div class="de1">        System.out.print(&quot;Estat actual del jugador: &quot;);</div></li><li class="li1"><div class="de1">        sortida.mostrarLluitador(jugador);</div></li><li class="li1"><div class="de1">        System.out.println(&quot;**************************&quot;);</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">        //S'obte l'adversari</div></li><li class="li1"><div class="de1">        int[] adversari = entrada.triarAdversari(lluitador.llegirNivell(jugador));</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">        //Desar partida</div></li><li class="li1"><div class="de1">        if (adversari == null) {</div></li><li class="li1"><div class="de1">          int err = desar.desarJugador(jugador, numCombat - 1);</div></li><li class="li1"><div class="de1">          if (err == 0) {</div></li><li class="li1"><div class="de1">            jugar = false;</div></li><li class="li1"><div class="de1">            desada = true;</div></li><li class="li1"><div class="de1">          }</div></li><li class="li1"><div class="de1">        } else {</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">          //Combat</div></li><li class="li1"><div class="de1">          combatre(jugador, adversari);</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">          //Fi</div></li><li class="li1"><div class="de1">          jugar = fiCombat(jugador, adversari);</div></li><li class="li1"><div class="de1">          if (numCombat == MAX_COMBAT) {</div></li><li class="li1"><div class="de1">            System.out.println(&quot;Has sobreviscut a tots els combats. Enhorabona!!&quot;);</div></li><li class="li1"><div class="de1">          }</div></li><li class="li1"><div class="de1">        }</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">      if (desada) {</div></li><li class="li1"><div class="de1">        System.out.println(&quot;Partida desada...&quot;);    </div></li><li class="li1"><div class="de1">      } else {</div></li><li class="li1"><div class="de1">        System.out.print(&quot;Estat final del jugador: &quot;);</div></li><li class="li1"><div class="de1">        sortida.mostrarLluitador(jugador);</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">        Ranquing rnk = new Ranquing();</div></li><li class="li1"><div class="de1">        int punts = lluitador.llegirPunts(jugador);</div></li><li class="li1"><div class="de1">        int pos = rnk.cercarRanking(punts);</div></li><li class="li1"><div class="de1">        if (pos != -1) {</div></li><li class="li1"><div class="de1">          if (pos &lt; 10) {</div></li><li class="li1"><div class="de1">            String inicials = entrada.preguntarInicials();</div></li><li class="li1"><div class="de1">            int err = rnk.entrarPuntuacio(inicials, punts, pos);</div></li><li class="li1"><div class="de1">            if (err == -1) {</div></li><li class="li1"><div class="de1">              System.out.println(&quot;Error accedint al fitxer de puntuacions.&quot;);</div></li><li class="li1"><div class="de1">            }</div></li><li class="li1"><div class="de1">          }</div></li><li class="li1"><div class="de1">          sortida.mostrarRanking();</div></li><li class="li1"><div class="de1">        } else {</div></li><li class="li1"><div class="de1">          System.out.println(&quot;Error accedint al fitxer de puntuacions.&quot;);</div></li><li class="li1"><div class="de1">        }</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">  }</div></li></ol></pre>

<p>
Classe EntradaTeclat.java. Ha de controlar si es vol desar en preguntar l’adversari.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">  /** Tria l'adversari del jugador segons la seva resposta.</div></li><li class="li1"><div class="de1">   *</div></li><li class="li1"><div class="de1">   * @return Cadena de text amb la resposta, o null si es vol desar</div></li><li class="li1"><div class="de1">   */</div></li><li class="li1"><div class="de1">  public int[] triarAdversari(int nivell) {</div></li><li class="li1"><div class="de1">    System.out.print(&quot;Contra quin adversari vols lluitar en aquest combat? &quot;);</div></li><li class="li1"><div class="de1">    Scanner lector = new Scanner(System.in);</div></li><li class="li1"><div class="de1">    String resposta = lector.nextLine();</div></li><li class="li1"><div class="de1">    if (&quot;desar&quot;.equalsIgnoreCase(resposta)) {</div></li><li class="li1"><div class="de1">      return null;</div></li><li class="li1"><div class="de1">    } else {</div></li><li class="li1"><div class="de1">      int[] adversari = bestiari.cercarAdversari(resposta);</div></li><li class="li1"><div class="de1">      if (adversari == null) {</div></li><li class="li1"><div class="de1">        System.out.println(&quot;Aquest enemic no existeix. Es tria a l'aztar.&quot;);</div></li><li class="li1"><div class="de1">        adversari = bestiari.triarAdversariAtzar(nivell);</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">      return adversari;</div></li><li class="li1"><div class="de1">&nbsp;</div></li></ol></pre>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

	 </article>
     <div class="pnpage">
      <div class="left-corner"></div>
      <div id="prevpage">Anar a la p&agrave;gina anterior:<br /><a href="../../../WebContent/u6/a3/continguts.html">Tractament modular de dades. El joc de combats a l'arena</a></div>
      <div id="nextpage">Anar a la p&agrave;gina seg&uuml;ent:<br /><a href="../../../WebContent/u6/a3/exercicis.html">Exercicis d'autoavaluació</a></div>
      <div class="right-corner"></div>
     </div>
    </div>
    <footer class="footer">
      <div><small>Aquest document està subjecte a una llicència oberta de Creative Commons, es reserva el dret de reconeixement de l'autoria, d'exigir que no se'n faci cap mena d'ús comercial. Si altereu o transformeu aquesta obra, o en genereu obres derivades, només podeu distribuir l'obra generada amb una llicència idèntica a aquesta.</small></div>
    </footer>
 </div>
 <div id="back_preview" class="hidden"></div>
 <div id="preview" class="hidden">
  <div class="prevcontent"></div>
 </div>
 <div id="help-tooltips">
  <div id="help-toc" class="hidden tooltip"><span>Taula de continguts:</span> Ofereix una vista general de l&#39;estructura del m&ograve;dul, que us facilitar&agrave; la navegaci&oacute; a trav&eacute;s dels seus continguts.<span class="arrow-left"></span></div> 
  <div id="help-settings" class="hidden tooltip"><span>Opcions de format:</span> Permet configurar el format de lectura a partir de les vostres prefer&egrave;ncies, modificant la mida de la lletra, el color del fons, l&#39;amplada de la p&agrave;gina o l&#39;ocultaci&oacute; dels continguts complementaris, entre d&#39;altres.<span class="arrow-left"></span></div>
  <div id="help-printer" class="hidden tooltip"><span>Imprimir:</span>  Envia el contingut seleccionat a la impressora.<span class="arrow-left"></span></div>
  <div id="help-favorites" class="hidden tooltip"><span>Prefereits:</span> Permet desar aquelles parts del contingut a les que us interessi accedir en un moment posterior; us permetr&agrave; anar creant un repositori personalitzat de les seccions que considereu m&eacute;s rellevants. Un cop l&#39;hageu començat a fer servir se us mostrar&agrave; a sota un comptador que us informar&agrave; del nombre de preferits que s&#39;hagin emmagatzemat fins al moment.<span class="arrow-left"></span></div>
  <div id="help-favcounter" class="hidden tooltip"><span>Comptador i llistat de preferits:</span> Indica el nombre de preferits que s&#39;han desat fins el moment; clicant damunt seu accedireu al llistat de preferits, i a trav&eacute;s d&#39;aquest podreu accedir directament als continguts que hageu emmagatzemat.<span class="arrow-left"></span></div>
  <div id="help-help_icon" class="hidden tooltip"><span>Ajuda:</span> Aquesta opci&oacute; activa la informaci&oacute; de les funcionalitats del web tot situant el punter del ratol&iacute; al damunt dels diferents &iacute;tems.<span class="arrow-left"></span></div>
  <div id="help-sidebar-hide" class="hidden tooltip"><span>Mostrar/Ocultar barra lateral:</span>  Deshabilita la barra d&#39;opcions, permetent la seva recuperaci&oacute; quan es desitgi.<span class="arrow-left"></span></div>
  <div id="help-search" class="hidden tooltip"><span>Cerca:</span>  Introdu&iuml;u les paraules clau sobre aquells conceptes que desitgeu localitzar en els continguts del m&ograve;dul. Tamb&eacute; podeu excloure un terme de la cerca tot afegint-hi el signe &#8220;-&#8221; al davant.<span class="arrow-top"></span></div>
  <div id="help-header" class="hidden tooltip"><span>Cap&ccedil;alera:</span>  Indica l&#39;apartat o secci&oacute; que es mostra en pantalla. Tingueu present que les capçaleres de segon, tercer i quart nivell tamb&eacute; es poden desar com a marcadors.<span class="arrow-left"></span></div>
</div> 
</body>
</html>
