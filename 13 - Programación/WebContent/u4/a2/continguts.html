<!doctype html>

<!--[if lt IE 7 ]> <html class="ie ie6 no-js" lang="ca"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie ie7 no-js" lang="ca"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie ie8 no-js" lang="ca"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie ie9 no-js" lang="ca"> <![endif]-->
<!--[if gt IE 9]><!--><html class="no-js" lang="ca"><!--<![endif]-->
<!-- the "no-js" class is for Modernizr. -->

<head id="www-sitename-com" data-template-set="html5-reset">

	<meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html">
        
	<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>Programació bàsica (ASX) \ Programació (DAM i DAW)</title>
	
<!-- <meta name="title" content=""> --> 
	<meta name="description" content="">
	<!-- Google will often use this as its description of your page/site. Make it good. -->
	
	<meta name="google-site-verification" content="">
	<!-- Speaking of Google, don't forget to set your site up: http://google.com/webmasters -->
	
	<meta name="author" content="Institut Obert de Catalunya">
	<meta name="Copyright" content="Copyright Institut Obert de Catalunya 2011. All Rights Reserved.">

	<!-- Dublin Core Metadata : http://dublincore.org/ -->
	<meta name="DC.title" content="Programació bàsica (ASX) \ Programació (DAM i DAW)">
	<meta name="DC.subject" content="Informàtica i comunicacions">
	<meta name="DC.creator" content="Institut Obert de Catalunya">
	
	<!--  Mobile Viewport Fix
	j.mp/mobileviewport & davidbcalhoun.com/2010/viewport-metatag 
	device-width : Occupy full width of the screen in its current orientation
	initial-scale = 1.0 retains dimensions instead of zooming out if page height > device height
	maximum-scale = 1.0 retains dimensions instead of zooming in if page width < device width
	-->
	<!-- Uncomment to use � use thoughtfully!
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	-->

	<link rel="shortcut icon" href="../../../img/favicon.ico">
	<!-- This is the traditional favicon.
		 - size: 16x16 or 32x32
		 - transparency is OK
		 - see wikipedia for info on browser support: http://mky.be/favicon/ -->
		 
	<link rel="apple-touch-icon" href="../../../img/apple-touch-icon.png">
	<!-- The is the icon for iOS's Web Clip.
		 - size: 57x57 for older iPhones, 72x72 for iPads, 114x114 for iPhone4's retina display (IMHO, just go ahead and use the biggest one)
		 - To prevent iOS from applying its styles to the icon name it thusly: apple-touch-icon-precomposed.png
		 - Transparency is not recommended (iOS will put a black BG behind the icon) -->
	
	<!-- CSS: screen, mobile & print are all in the same file -->
	<link rel="stylesheet" href="../../../_/css/style.css">

	<!-- CSS: jQuery UI -->
	<link rel="stylesheet" href="../../../_/css/jquery-ui.css">
	
	<!-- all our JS is at the bottom of the page, except for Modernizr. -->
	<script src="../../../_/js/modernizr-1.7.min.js"></script>
	<script src="../../../_/js/Hyphenator.js" type="text/javascript"></script>
	<script type="text/javascript">
	   Hyphenator.config({
		minwordlength : 4
	   });
	   Hyphenator.run();
	</script>
    <script src="../../../_/js/build.js" type="text/javascript"></script>
</head>

<body class="style-newspaper">

<div class="wrapper"><!-- not needed? up to you: http://camendesign.com/code/developpeurs_sans_frontieres -->

	<header id="header">
		<div class="head"><a href="http://ioc.gencat.cat"><img src="../../../img/logo.png" alt="Institut Obert de Catalunya"/></a><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/es/deed.ca"><img src="../../../img/license.png" alt="Llic&egrave;ncia" class="license"/></a></div>
		<div class="headdocument"><a href="../../../index.html">Programació bàsica (ASX) \ Programació (DAM i DAW)</a></div>
        <div id="search" class="search" name="search">
         <form id="frmsearch" action="../../../search.html" method="get">
          <input type="text" name="q"/>
        </form>
        </div>
	</header>
   <div id="upbutton" class="upbutton" style="display:none;"><img src="../../../img/uparrow.png" alt="Pujar a l'inici de p&agrave;gina"/></div>
   <aside id="aside">
    <div id="menu">
      <ul>
       <li name="toc"><div><img src="../../../img/toc.png" alt="&Iacute;ndex"/></div></li>
       <li name="settings"><div><img src="../../../img/settings.png" alt="Configuraci&oacute;"/></div></li>
       <li name="printer"><div><img src="../../../img/printer.png" alt="Imprimir"/></div></li>
       <li name="favorites"><div><img src="../../../img/favorites.png" alt="Favorits"/></div></li>
       <li name="help_icon" class="help_icon"><div><img src="../../../img/help_icon.png" alt="Ajuda"/></div></li>
      </ul>
     </div>
   </aside>
   <div id="sidebar-hide" name="sidebar-hide"><img src="../../../img/arrows.png"/></div>
   <section>
     <div id="toc" class="hidden">
      <div class="menucontent">
        <ul>
        <li id="u4" class="parentnode"><p><a class="unit" href="../../../WebContent/u4/introduccio.html">4. Programació modular</a></p><ul class="expander"><li id="u4introduccio"><a href="../../../WebContent/u4/introduccio.html">Introducció</a></li><li id="u4resum"><a href="../../../WebContent/u4/resum.html">Resum</a></li><li id="u4resultats_d_aprenentatge"><a href="../../../WebContent/u4/resultats_d_aprenentatge.html">Resultats d'aprenentatge</a></li><li id="u4mapa"><a href="../../../WebContent/u4/mapa.html">Mapa conceptual</a></li><li id="u4referencies"><a href="../../../WebContent/u4/referencies.html">Referències</a></li><li id="u4a1" class="tocsection"><p id='u4a1continguts'><a class="section" href="../../../WebContent/u4/a1/continguts.html">Descomposició de problemes</a><span class="buttonexp"></span></p><ul><li id="u4a1activitats"><a href="../../../WebContent/u4/a1/activitats.html">Activitats</a></li><li id="u4a1exercicis"><a href="../../../WebContent/u4/a1/exercicis.html">Exercicis d'autoavaluació</a></li><li id="u4a1annexos"><a href="../../../WebContent/u4/a1/annexos.html">Annexos</a></li></ul></li><div data-parent-id='u4a1' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u4/a1/continguts.html#disseny_descendent">Disseny descendent</a></li><li><a href="../../../WebContent/u4/a1/continguts.html#disseny_descendent_aplicat_a_la_creacio_de_programes">Disseny descendent aplicat a la creació de programes</a></li><li><a href="../../../WebContent/u4/a1/continguts.html#un_exemple_mes_complex">Un exemple més complex</a></li><li><a href="../../../WebContent/u4/a1/continguts.html#solucio_dels_reptes_proposats">Solució dels reptes proposats</a></li></ul></div></div><li id="u4a2" class="tocsection"><p id='u4a2continguts'><a class="section" href="../../../WebContent/u4/a2/continguts.html">Parametrització de mètodes</a><span class="buttonexp"></span></p><ul><li id="u4a2activitats"><a href="../../../WebContent/u4/a2/activitats.html">Activitats</a></li><li id="u4a2exercicis"><a href="../../../WebContent/u4/a2/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u4a2' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u4/a2/continguts.html#parametres_d_entrada">Paràmetres d'entrada</a></li><li><a href="../../../WebContent/u4/a2/continguts.html#parametres_de_sortida">Paràmetres de sortida</a></li><li><a href="../../../WebContent/u4/a2/continguts.html#quan_declarar_parametres_d_entrada_o_sortida">Quan declarar paràmetres d'entrada o sortida</a></li><li><a href="../../../WebContent/u4/a2/continguts.html#un_exemple_de_disseny_descendent_amb_metodes_parametritzats">Un exemple de disseny descendent amb mètodes parametritzats</a></li><li><a href="../../../WebContent/u4/a2/continguts.html#solucions_als_reptes_proposats">Solucions als reptes proposats</a></li></ul></div></div></ul></li><li id="" class="indexnode"><p><a href="../../../index.html">Anar a l&#39;&iacute;ndex general</a></p></li>
        </ul>
      </div>
    </div>
   </section>
   <section>
   <div id="settings" class="hidden">
    <div class="menucontent">
     <div class="allsettings">
     <div class="settings">
      <label>Font i Color</label>
		<div class="setting-option">
	        <ul class="fontBackground">
				<li id="style-newspaper" title="Newspaper" class="appearance-style-newspaper"><span>Newspaper</span></li>
                <li id="style-novel" title="Novel" class="appearance-style-novel"><span>Novel</span></li>
                <li id="style-ebook" title="eBook" class="appearance-style-ebook"><span>eBook</span></li>
				<li id="style-inverse" title="Inverse" class="appearance-style-inverse active"><span>Inverse</span></li>
				<li id="style-athelas" title="Athelas" class="appearance-style-athelas"><span>Athelas</span></li>
			</ul>
		</div>
     </div>
	<div class="settings">
      <label>Amplada</label>
		<div class="setting-option">
	        <div id="slider-width"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
		<div class="setting-option">
	        <div id="slider-font"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
	  <div class="setting-option">
       <form action="" class="sett-options">
		<ul>
		    <li><input type="checkbox" id="secondary-content" /><label for="secondary-content">Mostra recursos complementaris</label></li>
		    <li><input type="checkbox" id="main-images" /><label for="main-images">Mostra imatges</label></li>
		    <li><input type="checkbox" id="text-alignment" /><label for="text-alignment">Text justificat</label></li>
			<li><input type="checkbox" id="text-hyphen" /><label for="text-hyphen">Partici&oacute; sil·l&agrave;bica</label></li>
		</ul>
       </form>
	  </div>
     </div>
     </div>
    </div>
   </div>
   </section>
 <section>
 <div id="favorites" class="hidden"></div>
 </section>   
 <div id="bridge" class="hidden"></div>
 <div id="help" class="hidden">
  <div class="helptitle">Dreceres del teclat<hr></div>
  <div class="helpsection"><span>General</span>
   <ul>
    <li><span class="shortcut">g</span>: Anar al men&uacute; de navegaci&oacute;</li>
    <li><span class="shortcut">o</span>: Anar a opcions</li>
    <li><span class="shortcut">s</span>: Guardar la p&agrave;gina actual a favorits</li>
    <li><span class="shortcut">p</span>: Imprimir la p&agrave;gina actual</li>
    <li><span class="shortcut">?</span>: Mostrar/Ocultar l&#39;ajuda</li>
   </ul>
  </div>
  <div class="helpsection"><span>Navegaci&oacute;</span>
   <ul>
    <li><span class="shortcut">i</span>: Anar a l&#39;&iacute;ndex general</li>
    <li><span class="shortcut">t</span>: Anar a l&#39;inici de p&agrave;gina</li>
    <li><span class="shortcut">b</span>: Anar al final de p&agrave;gina</li>
    <li><span class="shortcut">j</span>: Anar cap endavant dintre la p&agrave;gina</li>
    <li><span class="shortcut">k</span>: Anar cap enrere dintre la p&agrave;gina</li>
    <li><span class="shortcut">h</span>: Anar a la p&agrave;gina anterior:</li>
    <li><span class="shortcut">l</span>: Anar a la p&agrave;gina seg&uuml;ent:</li>
   </ul>
   </div>
 </div>
 <div id="favcounter" name="favcounter" class="hidden"><span></span></div>
 <div id="navmenu" class="navmenu"><ul class="webnav"><li><a href="../../../index.html" title="Anar a l&#39;&iacute;ndex general">Inici</a></li><li><a href="../introduccio.html">Programació modular</a></li><li>Parametrització de mètodes</li></ul></div>
	<div id="content" lang="ca" class="hyphenate text">
     <article lang="ca" class="sheet">
        <h1><a id="parametritzacio_de_metodes"> Parametrització de mètodes </a></h1>
    	
<p>
L’objectiu principal del disseny descendent és oferir una metodologia que us permeti plantejar la creació d’un programa d’una manera molt semblant a com ho faríeu amb qualsevol altre problema de la vida real: dividint problemes complexos en d’altres més simples i fàcils de seguir. Un cop s’ha fet aquesta descomposició, els llenguatges ofereixen un mecanisme per associar a cada subproblema un bloc de codi concret. En Java, es tracta dels mètodes. El benefici d’usar mètodes, en la mesura correcta, és la generació de codi més fàcil d’entendre i on pot ser possible reutilitzar alguns blocs a diferents parts, sense haver de repetir el codi escrit.
</p>
<div class="iocnote"><div class="ioccontent">
<p>
L’aparició de blocs de codi repetit o gairebé igual indica un mal estil de programació.
</p>
</div></div>
<p>
Si bé la identificació de subproblemes d’acord a diferents nivells de complexitat és suficient per poder descompondre el programa en bocins de codi amb objectius parcials diferenciats, i fer-lo més fàcil de seguir, no és suficient per oferir un alt grau de reusabilitat. En la majoria de casos, el programa resultant dividit amb mètodes és directament equivalent a trossejar un programa on només hi ha el mètode principal. Això es deu al fet que tal com heu usat els mètodes fins ara, aquests servien per manipular un conjunt de variables, sovint globals, molt específic.
</p>

<p>
En realitat, a l’hora de plantejar quins subproblemes hi ha, i la seva declaració associada en forma de mètode al codi, a part del seu nom i què fan, també és possible definir certs aspectes vinculats a les dades que han de tractar: els seus paràmetres d’entrada i de sortida. 
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Un <strong>paràmetre</strong> és un identificador usat dins la descripció d’un procés, el valor del qual en realitat pot variar per diferents aplicacions d’aquest procés.
</p>
</div></div>
<h2><a id="parametres_d_entrada" >Paràmetres d&#039;entrada</a></h2>
<div class="level2">

<p>
Els paràmetres d’entrada són una eina molt útil i extensament usada a l’hora de definir amb més detall les característiques dels subproblemes resultants d’una descomposició usant disseny descendent. Per començar, i com a resum breu d’aquest concepte, podeu quedar-vos amb la definició següent. 
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Un <strong>paràmetre d’entrada</strong> és un valor que s’estableix immediatament abans de seguir un procés, de manera que indica les dades que ha de tractar o que modifica el seu comportament.
</p>
</div></div>
</div>

<h3><a id="motivaciodefinicio_de_problemes_semblants" >Motivació: definició de problemes semblants</a></h3>
<div class="level3">

<p>
Si es descompon fins a dos nivells el problema de cuinar uns fideus japonesos vegetals, es podrien trobar els subproblemes següents:
</p>
<ol>
<li class="level1"><div class="li"> Recopilar ingredients</div>
<ol>
<li class="level2"><div class="li"> Comprar al supermercat</div>
</li>
<li class="level2"><div class="li"> Disposar-los sobre el marbre</div>
</li>
</ol>
</li>
<li class="level1"><div class="li"> Cuinar tallarines</div>
<ol>
<li class="level2"><div class="li"> Preparar aigua</div>
</li>
<li class="level2"><div class="li"> Bullir tallarines</div>
</li>
<li class="level2"><div class="li"> Escórrer tallarines</div>
</li>
<li class="level2"><div class="li"> Deixar-les preparades</div>
</li>
</ol>
</li>
<li class="level1"><div class="li"> Cuinar pastanagues</div>
<ol>
<li class="level2"><div class="li"> Tallar pastanagues</div>
</li>
<li class="level2"><div class="li"> Fregir pastanagues</div>
</li>
<li class="level2"><div class="li"> Deixar pastanagues preparades</div>
</li>
</ol>
</li>
<li class="level1"><div class="li"> Cuinar cebes</div>
<ol>
<li class="level2"><div class="li"> Tallar cebes</div>
</li>
<li class="level2"><div class="li"> Fregir cebes</div>
</li>
<li class="level2"><div class="li"> Deixar cebes preparades</div>
</li>
</ol>
</li>
<li class="level1"><div class="li"> Preparació final </div>
<ol>
<li class="level2"><div class="li"> Barrejar ingredients amb salsa yakitori</div>
</li>
<li class="level2"><div class="li"> Saltar ingredients</div>
</li>
<li class="level2"><div class="li"> Preparar paella per saltar	</div>
</li>
<li class="level2"><div class="li"> Cuinar remenant ingredients	</div>
</li>
<li class="level2"><div class="li"> Deixar llest per servir</div>
</li>
</ol>
</li>
</ol>

<p>
Partint d’aquest plantejament, la <span class="figref"><a href="#Figure8"><span>figura</span></a></span> mostra la divisió ja més detallada, fins a un tercer nivell, dels processos de fregir cebes i pastanagues, usats en llocs ben diferents (3 i 4). En aquesta figura hi ha remarcades mitjançant quadres les diferències entre tots dos.
</p>
<div class="iocfigure"><a name="Figure8"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Diferències entre dos problemes semblants.

</figcaption><img src="../media/ic10m3u4_11.png" alt="" /></figure>
</div>
<p>
Ja a simple vista es pot veure que, tot i poder descompondre’s fins en sis nous subproblemes, es tracta de dos procediments molt semblants. De fet, si analitzeu amb detall els dos casos, us adonareu que només canvia l’aliment que cal fregir, però els subproblemes que cal anar resolent són exactament els mateixos en tots els casos. De fet, si tinguéssiu una certa visió de futur, podríeu arribar a adonar-vos que aquest escenari s’aplicaria fins i tot en descomposicions d’altres procediments semblants que no us cal usar aquí, com, per exemple, fer patates fregides. L’única condició és que, quan parleu de fregir, sempre heu d’estar-vos referint a aliments, és clar. 
</p>

<p>
Dit en paraules informàtiques: donats aquests dos mètodes, només varia el valor de les dades que cal transformar, que sempre seran d’idèntic tipus. Però l’algorisme que cal usar és el mateix.
</p>

<p>
La conseqüència d’aquesta observació és que seria molt més còmode definir un seguit de passes de manera genèrica. Per exemple, anomenar el procés <em>fregir aliment</em>, on només s’usa el terme <em>aliment</em> dins de la descripció de les seves passes per referir-se a allò que es vol fregir. Llavors, sempre que es vol fregir un aliment concret, en les explicacions es reemplaça on posa <em>aliment</em> per allò que realment es vol fregir (cebes, pastanagues, patates, etc.) i s’aplica el procés tal com està escrit, sense haver de canviar res. Una única descripció serveix per fregir qualsevol cosa, no cal descriure un cas diferent per cada aliment.
</p>

<p>
Doncs bé, si féssiu això, el terme <em>aliment</em> encaixaria amb la definició de <em>paràmetre d’entrada</em>. El seu valor s’estableix abans de començar el procés, i segons aquest, condiciona allò que cal tractar (en aquest cas, fregir).
</p>

<p>
Un fet important en un cas com aquest és que el nombre de paràmetres d’entrada permesos no té perquè estar limitat a un. Podríeu definir tants com us facin falta per cada diferència existent, o per cada dada addicional que pugui variar segons la situació i que cal tenir en compte per realitzar-lo. Per exemple, suposeu que voleu preveure la possibilitat de fregir amb diferents quantitats d’oli. O sigui, solucionar el problema “fregir aliment amb certa quantitat d’oli”. En aquest cas, es podrien usar dos paràmetres d’entrada: l’aliment i la quantitat d’oli. Les passes a seguir continuarien essent gairebé iguals, llevat que la descripció seria genèrica tant a l’hora de referir-se a l’aliment que cal fregir, com pel que fa a quant d’oli cal posar a la paella. Així, doncs, la descripció del procés seria independent tant quant a què cal fregir com pel que fa a la quantitat d’oli a usar. Els valors concrets que cal aplicar dependrien de cada situació donada a l’hora de fregir:
</p>
<ul>
<li class="level1"><div class="li"> Fregir patates amb 400 cl d’oli: (aliment = patates, quantitat = 400 cl).</div>
</li>
<li class="level1"><div class="li"> Fregir cebes amb 200 cl d’oli : (aliment = cebes , quantitat = 200 cl).</div>
</li>
<li class="level1"><div class="li"> Fregir escalopes amb 400 cl d’oli: (aliment = escalopes, quantitat = 400 cl).</div>
</li>
<li class="level1"><div class="li"> Etc.</div>
</li>
</ul>

<p>
Per tant, un cop teniu dividit un problema general en subproblemes, caldrà estudiar quins d’ells són prou semblants per, en realitat, poder considerar que es tracta del mateix mitjançant l’aplicació de paràmetres d’entrada. Normalment, si el nom que s’ha posat als subproblemes és adient, això és fàcil de detectar, ja que en tindran de molt semblants, o fins i tot idèntics. Pot succeir que les divisions en subproblemes no siguin exactament idèntiques com en aquest exemple, però llavors valdrà la pena que reviseu la descomposició i reflexioneu sobre si, en realitat, hauria de ser igual.
</p>
<div class="iocnote"><div class="ioccontent">
<p>
És molt important triar correctament el nom dels subproblemes, perquè siguin descriptius.
</p>
</div></div>
<p>
A mesura que tingueu experiència, no us caldrà ni tan sols esperar al final i ja de ben segur que anireu detectant aquestes semblances sobre la marxa.
</p>

</div>

<h3><a id="declaracio_i_us_de_metodes_amb_parametres_d_entrada" >Declaració i ús de mètodes amb paràmetres d&#039;entrada</a></h3>
<div class="level3">

<p>
De la mateixa manera que això estalvia molt d’espai en un llibre de cuina, aplicar aquest sistema en aplicar disseny descendent per descompondre un programa també és molt útil. Això vol dir que aquest fet també s’ha de poder preveure a la declaració i codificació d’un mètode. Per sort, tots els llenguatges de programació que permeten declarar funcions o mètodes preveuen aquesta possibilitat.
</p>

</div>

<h4><a id="declaracio" >Declaració</a></h4>
<div class="level4">

<p>
La llista de paràmetres d’un mètode s’escriu entre els parèntesis en la seva declaració. Aquesta llista pren una estructura semblant a fer un seguit de declaracions de variables separades per comes. La sintaxi exacta seria la següent:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">public void nomMètode (tipusParam1 numParam1, tipusParam2 nomParam2, etc.) {</div></li><li class="li1"><div class="de1">  //Codi</div></li><li class="li1"><div class="de1">  ...</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
La declaració de paràmetres d’entrada no és obligatòria. Si no us calen paràmetres d’entrada per un mètode, no cal posar res entre els parèntesis, tal com heu fet fins ara. Tampoc hi ha límit en el nombre de paràmetres, però normalment és millor no excedir-se. De fet, un alt nombre de paràmetres en el mètode associat a un subproblema pot significar que no s’ha descompost suficientment.
</p>

<p>
Un cop un mètode té definits un seguit de paràmetres d’entrada, aquests es consideren variables declarades, amb àmbit dins de tot el seu codi. Aquestes variables poden ser usades com qualsevol altra dins el seu codi. Ara bé, tenen una peculiaritat, i és que d’entrada no se’ls assigna cap valor inicial, ja que vindrà donat segons com s’invoqui el mètode, com veureu tot seguit.
</p>
<div class="iocnote"><div class="ioccontent">
<p>
El mètode principal (<em>main</em>) es declara amb un paràmetre d’entrada: un <em>array</em> de <em>String</em>.
</p>
</div></div><pre class="code java"><ol><li class="li1"><div class="de1">  //El mètode mostrarMaxim té dos paràmetres d'entrada, de tipus enter</div></li><li class="li1"><div class="de1">  public void mostrarMaxim(int a, int b) {</div></li><li class="li1"><div class="de1">    ...</div></li><li class="li1"><div class="de1">  }</div></li></ol></pre>

<p>
Únicament pel que fa a variables disponibles dins del bloc de codi del mètode, es pot considerar que aquest codi seria equivalent a fer:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">  public void mostrarMaxim() {</div></li><li class="li1"><div class="de1">    //S'inicialitzen amb un valor inicial d'una manera especial que ja veureu aviat</div></li><li class="li1"><div class="de1">    int a; </div></li><li class="li1"><div class="de1">    int b;</div></li><li class="li1"><div class="de1">    ...</div></li><li class="li1"><div class="de1">  }</div></li></ol></pre>

</div>

<h4><a id="invocacio" >Invocació</a></h4>
<div class="level4">

<p>
Quan un mètode s’ha declarat amb paràmetres d’entrada, cal tenir-los en compte durant la seva invocació. No hi ha prou a posar només el nom del mètode com fins ara. Per cada paràmetre cal assignar un valor, exactament en el mateix ordre en què s’han declarat a la llista. Aquest valor pot ser el resultat de qualsevol expressió: un literal, una variable, o una expressió més complexa. En qualsevol cas, el tipus resultant ha de coincidir amb el del paràmetre que ocupa el mateix ordre. Sintàcticament, això es fa posant els valors entre els parèntesis de la invocació, separats per comes:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">nomMetode(valor1, valor2, etc.);</div></li></ol></pre>

<p>
Quan s’invoca un mètode amb un conjunt de paràmetres d’entrada declarats, el primer que fa el programa és mirar la llista de paràmetres i declarar, implícitament dins el codi del mètode, tantes variables com paràmetres d’entrada, amb els mateixos noms. Llavors agafa cada valor especificat a la invocació i copia, un per un i en el mateix ordre, aquests valors dins les variables creades a partir de la llista de paràmetres.
</p>

<p>
La millor manera de tenir una primera idea de com funciona tot plegat és amb un exemple senzill. El codi següent serveix per il·lustrar el comportament d’un mètode amb paràmetres d’entrada. No es tracta d’un programa complex resultat d’aplicar estrictament disseny descendent, només serveix per provar com funciona. Comproveu què fa en el vostre entorn de treball. 
</p>

<p>
La <span class="figref"><a href="#Figure9"><span>figura</span></a></span>, tot seguit, mostra un esquema del seu flux de control i què està passant a mesura que s’executen les instruccions del programa. Tot i que el codi del mètode <code>mostrarMaxim</code> es llista dos cops, només és per claredat, per diferenciar les execucions per cada invocació. En el codi font original només cal definir-lo un cop. Precisament, es tracta d’un cas de reaprofitament de codi. Fixeu-vos que la manera com es defineixen els paràmetres a la invocació del mètode serveix per donar valor a les variables <code>a</code> i <code>b</code> dins el mètode.
</p>
<div class="iocfigure"><a name="Figure9"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Flux de control en cridar un mètode i assignació de valors als seus paràmetres

</figcaption><img src="../media/ic10m3u4_12.png" alt="" /></figure>
</div><pre class="code java"><ol><li class="li1"><div class="de1">public class MaximParametreEntrada {</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    MaximParametreEntrada programa = new MaximParametreEntrada();</div></li><li class="li1"><div class="de1">    programa.inici();</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  public void inici() {</div></li><li class="li1"><div class="de1">    mostrarMaxim(4, 10);</div></li><li class="li1"><div class="de1">    mostrarMaxim(0, -3);</div></li><li class="li1"><div class="de1">    mostrarMaxim(5, 5);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  //Té dos paràmetres d'entrada, de tipus enter</div></li><li class="li1"><div class="de1">  //El seu valor inicial depèn dels valors assignats a cada invocació</div></li><li class="li1"><div class="de1">  public void mostrarMaxim(int a, int b) {</div></li><li class="li1"><div class="de1">    System.out.print(&quot;El màxim entre &quot; + a + &quot; i &quot; + b + &quot; és...&quot;);</div></li><li class="li1"><div class="de1">    if (a &gt; b) {</div></li><li class="li1"><div class="de1">      System.out.println(a);</div></li><li class="li1"><div class="de1">    } else if (a &lt; b) {</div></li><li class="li1"><div class="de1">      System.out.println(b);</div></li><li class="li1"><div class="de1">    } else {</div></li><li class="li1"><div class="de1">      System.out.println(&quot;són iguals!&quot;);</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
En aquest exemple els valors usats en invocar el mètode <code>mostrarMaxim</code> s’han expressat mitjançant literals, però també es podrien usar sense problemes variables o expressions, tal com mostra el codi llistat a continuació. En aquest cas, les expressions s’avaluen abans de procedir a executar les instruccions del mètode, de manera que sigui possible assignar correctament el valor resultant a cada paràmetre d’entrada. Proveu que fa exactament el mateix que l’exemple anterior.
</p>

<p>

</p>
<pre class="code java"><ol><li class="li1"><div class="de1">public class MaximParametreEntrada {</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    MaximParametreEntrada programa = new MaximParametreEntrada();</div></li><li class="li1"><div class="de1">    programa.inici();</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  public void inici() {</div></li><li class="li1"><div class="de1">    //Usem literals</div></li><li class="li1"><div class="de1">    mostrarMaxim(4, 10);</div></li><li class="li1"><div class="de1">    //Usem variables</div></li><li class="li1"><div class="de1">    int i = 0;</div></li><li class="li1"><div class="de1">    int j = -3;</div></li><li class="li1"><div class="de1">    mostrarMaxim(i, j);</div></li><li class="li1"><div class="de1">    //Usem expressions, amb literals o variables </div></li><li class="li1"><div class="de1">    mostrarMaxim(2 + 3, i + 8);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  //La resta del codi és igual...</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
<strong>Repte 1</strong>. Feu un programa que cridi diversos cops un mètode amb un únic paràmetre de tipus enter. Aquest mètode escriu per pantalla tants símbols “*” com el valor del paràmetre.
</p>

</div>

<h3><a id="manipulacio_dels_parametres_d_entrada" >Manipulació dels paràmetres d&#039;entrada</a></h3>
<div class="level3">

<p>
Un cop es comença a executar el codi del mètode, les variables representades pels seus paràmetres d’entrada poden ser usades com qualsevol variable declarada a la primera línia del programa: els seus valors poden ser llegits directament, poden usar-se dins d’expressions més o menys complexes, tenen un àmbit igual tot el mètode, etc. Fins i tot poden veure modificat el seu valor inicial. Ara bé, heu de tenir ben clar que els valors que contenen són còpies de l’original. Per tant, el valor usat a la invocació mai es veurà alterat.
</p>

<p>
Per exemple, proveu el codi següent i veieu com la variable <code>i</code>, usada a la invocació del codi, no es veu alterada en cap moment. Dins del paràmetre d’entrada <code>a</code> només hi ha una còpia del valor de <code>i</code>. No es tracta d’una associació directa.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">//Modifiqueu el valor d'un paràmetre. Afecta a la variable original?</div></li><li class="li1"><div class="de1">public class ModificaParàmetre {</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    ModificaParàmetre programa = new ModificaParàmetre();</div></li><li class="li1"><div class="de1">    programa.inici();</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  public void inici() {</div></li><li class="li1"><div class="de1">    int i = 10;</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Abans de cridar el mètode \&quot;i\&quot; val &quot; + i);</div></li><li class="li1"><div class="de1">    modificarParametre(i);</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Després de cridar el mètode \&quot;i\&quot; val &quot; + i);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  //Té un únic paràmetre d'entrada, de tipus enter</div></li><li class="li1"><div class="de1">  public void modificarParametre(int a) {</div></li><li class="li1"><div class="de1">    //Ara hi ha una variable &quot;a&quot; declarada. </div></li><li class="li1"><div class="de1">    //El seu valor depèn de com s'ha invocat el mètode.</div></li><li class="li1"><div class="de1">    a = 0;</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Heu modificat el valor a &quot; + a);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
El que ha succeït seria equivalent a haver fet:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">//Es disposa d'una variable</div></li><li class="li1"><div class="de1">int i = 10;</div></li><li class="li1"><div class="de1">//Es crea una còpia de la variable</div></li><li class="li1"><div class="de1">int a = i;</div></li><li class="li1"><div class="de1">//Es modifica la còpia</div></li><li class="li1"><div class="de1">a = 0;</div></li><li class="li1"><div class="de1">//Quant val i? i encara val 10</div></li></ol></pre>

<p>
En el llenguatge Java, però, aquesta norma només es compleix estrictament quan es tracta de tipus primitius. Quan el paràmetre és un <em>array</em>, sí que es modifica el valor. Si feu memòria, això es una conseqüència lògica de les seves propietats quan es copien variables de tipus <em>array</em>. En aquest cas, no es disposava realment de dues rèpliques idèntiques, sinó de dues variables diferents a partir de les quals accedir exactament a les mateixes dades.
</p>

<p>
Comproveu aquest fet mitjançant l’execució de l’exemple següent:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">//Modifiqueu el valor d'un paràmetre. Afecta a la variable original?</div></li><li class="li1"><div class="de1">public class ModificaParametreCompost {</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    ModificaParametreCompost programa = new ModificaParametreCompost();</div></li><li class="li1"><div class="de1">    programa.inici();</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  public void inici() {</div></li><li class="li1"><div class="de1">    int[] i = {1, 2, 3, 4, 5};</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Abans de cridar el mètode \&quot;i[3]\&quot; val &quot; + i[3]);</div></li><li class="li1"><div class="de1">    modificarParametre(i);</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Després de cridar el mètode \&quot;i[3]\&quot; val &quot; + i[3]);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  //Té un únic paràmetre d'entrada, de tipus enter</div></li><li class="li1"><div class="de1">  public void modificarParametre(int[] a) {</div></li><li class="li1"><div class="de1">    //Ara hi ha una variable &quot;a&quot; declarada.</div></li><li class="li1"><div class="de1">    //El seu valor depèn de com s'ha invocat el mètode.</div></li><li class="li1"><div class="de1">    a[3] = 0;</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Hem modificat el valor a &quot; + a[3]);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
El que ha succeït ara seria equivalent a haver fet:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">//Es disposa d'una variable de tipus array</div></li><li class="li1"><div class="de1">int i[] = {1, 2, 3, 4, 5};</div></li><li class="li1"><div class="de1">//Es crea una còpia de la variable array</div></li><li class="li1"><div class="de1">int a[] = i;</div></li><li class="li1"><div class="de1">//Es modifica la còpia</div></li><li class="li1"><div class="de1">a[3] = 0;</div></li><li class="li1"><div class="de1">//Quant val i[3]? i[3] val 0!</div></li></ol></pre>

<p>
De fet, aquesta circumstància es dóna amb qualsevol tipus de dada compost del Java. L’única excepció són les cadenes de text (variables de la classe <code>String</code>). El seu comportament és igual al dels tipus primitius, ja que, recordeu, tenen la propietat de ser immutables. No és possible modificar-ne el contingut.
</p>

<p>
<strong>Repte 2</strong>. Feu un programa anomenat <code>ModificarParametreString</code> que comprovi que, efectivament, modificar el valor d’un paràmetre d’entrada de la classe <code>String</code> no té cap efecte sobre el valor original.
</p>

</div>

<h2><a id="parametres_de_sortida" >Paràmetres de sortida</a></h2>
<div class="level2">

<p>
Com en el cas dels paràmetres d’entrada, es partirà d’una definició i a partir d’aquí veureu quina és la utilitat i mode d’ús d’aquest tipus de paràmetres.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Un <strong>paràmetre de sortida</strong> indica un resultat final obtingut després de realitzar un procés determinat.
</p>
</div></div>
</div>

<h3><a id="motivaciodefinicio_de_problemes_que_generen_un_resultat_concret" >Motivació: Definició de problemes que generen un resultat concret</a></h3>
<div class="level3">

<p>
Si us fixeu una mica, us adonareu d’una característica comuna a molts dels casos en què un problema, en qualsevol nivell, es divideix en subproblemes més simples. Sovint, conceptualment, la manera com es resol és realitzant un seguit de tasques on s’obtenen resultats parcials, que al final són combinats o aprofitats dins el procés general per obtenir el resultat final (la resolució del problema).
</p>

<p>
Revisant la descomposició de la recepta de cuina, simplement en una observació a primer nivell, podreu detectar subproblemes on la seva conclusió repercuteix en l’obtenció d’un resultat parcial tangible, que és manipulat per subproblemes posteriors: diferents aliments cuinats preparats per separat. Partint d’aquests resultats parcials, s’obté el plat final, en combinar-los tots en les tasques associades al darrer subproblema. Aquesta circumstància queda resumida a la <span class="tabref"><a href="#Table1"><span>taula</span></a></span>.
</p>
<div class="ioctable ">
<div class="titletable"><a name="Table1"><span>Taula: </span></a>Subproblemes i resultats obtinguts en resoldre’ls</div>
<div class="table"><table class="inline">
	<tr class="row0">
		<th class="col0">Subproblema </th><th class="col1">Què fa </th><th class="col2">resultat obtingut </th>
	</tr>
	<tr class="row1">
		<td class="col0"> 1. Recopilar ingredients </td><td class="col1"> Obté els ingredients base (tallarines, cebes, etc.) </td><td class="col2"> Els diferents aliments a processar </td>
	</tr>
	<tr class="row2">
		<td class="col0"> 2. Cuinar tallarines </td><td class="col1"> Dels aliments, processa les tallarines </td><td class="col2"> Tallarines preparades </td>
	</tr>
	<tr class="row3">
		<td class="col0"> 3. Cuinar pastanagues </td><td class="col1"> Dels aliments, processa les pastanagues </td><td class="col2"> Pastanagues preparades </td>
	</tr>
	<tr class="row4">
		<td class="col0"> 4. Cuinar cebes</td><td class="col1"> Dels aliments, processa les cebes</td><td class="col2"> Cebes preparades </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> 5. Preparació final  </td><td class="col1"> A partir de tallarines, pastanagues i cebes, fa el plat final </td><td class="col2"> Plat final </td>
	</tr>
</table></div>
</div>
<p>

</p>

<p>
Més enllà d’una recepta de cuina, segur que podeu pensar en molts casos semblants on els subproblemes a resoldre en realitat són un mecanisme per recopilar un conjunt de resultats parcials, necessaris abans de poder dur a terme la resolució del problema general.
</p>
<ul>
<li class="level1"><div class="li"> Per escriure un llibre, cal recopilar-ne els capítols.</div>
</li>
<li class="level1"><div class="li"> Per enviar un missatge electrònic, cal obtenir l’adreça de destinació o generar el text a enviar.</div>
</li>
<li class="level1"><div class="li"> Per muntar una màquina qualsevol, cal obtenir els seus components. Aquests, a la seva vegada, també es generen a partir del muntatge de peces encara més simples.</div>
</li>
<li class="level1"><div class="li"> Per vendre un producte, cal cercar el producte pròpiament, consultar-ne el preu o crear un tiquet.</div>
</li>
<li class="level1"><div class="li"> Etc.</div>
</li>
</ul>

<p>
<div class="iocfigurec">
<ul>
<li>
<img src="../media/ic10m3u4_13.png" class="imgB" title="Cada mètode ha de ser una eina especialitzada per fer una única tasca concreta. Font: Joan Arnedo/4" alt="Cada mètode ha de ser una eina especialitzada per fer una única tasca concreta. Font: Joan Arnedo/4" /></li><li><small>Cada mètode ha de ser una eina especialitzada per fer una única tasca concreta. Font: Joan Arnedo</small></li>
</ul></div>

</p>

<p>
Per tant, en la definició d’un subproblema també pot cobrar sentit indicar que quan aquest es resol, es produeix un resultat concret que podrà ser usat <em>a posteriori</em> per altres subproblemes. D’acord a la definició inicial, aquest resultat seria precisament el seu paràmetre de sortida.
</p>

<p>
Teòricament, es podria preveure una tasca que, en acabar, produeixi més d’un resultat, ja que ha resolt diversos problemes alhora. Per simplificar, només es tractarà el cas de subproblemes que produeixen un únic resultat, i per tant, a molt estirar amb un únic paràmetre de sortida. Per tant, a partir d’ara, sempre que es faci la descomposició d’un problema, caldrà que la plantegeu de manera que això es compleixi. Partireu del principi que si un subproblema produeix més d’un resultat tangible, és que no s’ha descomposat prou encara.
</p>

<p>
Evidentment, també es pot donar el cas que les tasques associades a un subproblema no donin cap resultat tangible que hagi de ser manipulat <em>a posteriori</em>. En aquest cas, no hi haurà cap paràmetre de sortida.
</p>

</div>

<h3><a id="declaracio_i_us_de_metodes_amb_un_parametre_de_sortida" >Declaració i ús de mètodes amb un paràmetre de sortida</a></h3>
<div class="level3">

<p>
Novament, dins de la declaració d’un mètode també és possible fer una translació directa d’aquesta propietat per tal de codificar la resolució d’un subproblema. Parlant ja en termes de mètodes dins els vostres programes, un mètode amb un paràmetre de sortida explicita que servirà per generar un resultat, amb un valor concret.
</p>

</div>

<h4><a id="declaracio1" >Declaració</a></h4>
<div class="level4">

<p>
Atès que un programa genera i tracta dades, el primer que cal decidir és a quin tipus de dades pertanyerà el valor d’aquest resultat. Un cop decidit, la sintaxi per declarar un mètode amb un paràmetre de sortida és la següent:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">public tipusParamSortida nomMètode (llistaParamEntrada) {</div></li><li class="li1"><div class="de1">  //Codi</div></li><li class="li1"><div class="de1">  ...</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
El tipus de paràmetre de sortida pot ser qualsevol, identificat per la paraula clau corresponent, com en el cas d’una variable. Si es vol indicar que no hi ha cap paràmetre de sortida, s’usa la paraula reservada <code>void</code>, tal com heu usat fins ara en tots els mètodes abans d’introduir aquest concepte.
</p>

<p>
El codi del mètode serà el que correspongui per tal d’obtenir el resultat esperat, d’acord al seu propòsit. En aquest aspecte, res canvia respecte a com heu programat mètodes fins ara. Ara bé, dins d’aquest codi caldrà decidir, d’entre totes les dades que tracta internament, quina es correspon al resultat final. Un cop ho heu establert, la sentència que indica que ja heu acabat la tasca a fer i disposeu del resultat és la següent:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">  return resultat;</div></li></ol></pre>

<p>
Aquesta normalment s’escriuria la darrera de totes, al final del bloc de codi associat al mètode. On posa <code>resultat</code> es pot usar qualsevol expressió que avaluï el tipus declarat pel paràmetre de sortida: un literal, una variable, o una combinació qualsevol d’operands i operadors. Si es vol anar a poc a poc, normalment el més recomanable és que deseu el resultat en una variable i feu <code>return</code> d’aquesta (<code>return nomVariable;</code>). 
</p>
<div class="iocnote"><div class="ioccontent">
<p>
De fet, tan bon punt s’invoca la sentència <code>resultat</code>, l’execució del mètode acaba immediatament i ja no s’executa cap instrucció més.
</p>
</div></div>
<p>
Escriure la sentència <code>return</code> és indispensable, ja que si no es posa havent declarat un paràmetre de sortida, hi haurà un error de compilació.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Donat el nom de la sentència usada, sovint al paràmetre de sortida se l’anomena també <strong>valor de retorn</strong> d’un mètode. A partir d’ara s’usarà també aquesta nomenclatura indistintament.
</p>
</div></div>
<p>
Evidentment, la millor manera de veure el funcionament de tot plegat és amb un exemple senzill. Suposeu que voleu definir un mètode que serveix per llegir correctament un únic valor enter des del teclat, de manera que ho faci definint un paràmetre de sortida. El seu codi podria ser el següent (Llegiu atentament els comentaris del codi, ja que indiquen el conjunt de decisions que cal anar fent per codificar-lo correctament.):
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">//1. Quin tipus de valor genera? Un enter (int)</div></li><li class="li1"><div class="de1">public int llegirEnterTeclat() {</div></li><li class="li1"><div class="de1">  //2. Es fa el codi que llegeix un únic enter del teclat, com s'ha fet sempre</div></li><li class="li1"><div class="de1">  //No canvia absolutament res...</div></li><li class="li1"><div class="de1">  Scanner lector = new Scanner(System.in);</div></li><li class="li1"><div class="de1">  int enterLlegit = 0;</div></li><li class="li1"><div class="de1">  boolean llegit = false;</div></li><li class="li1"><div class="de1">  while (!llegit) {</div></li><li class="li1"><div class="de1">    llegit = lector.hasNextInt();</div></li><li class="li1"><div class="de1">    if (llegit) {</div></li><li class="li1"><div class="de1">      enterLlegit = lector.nextInt();</div></li><li class="li1"><div class="de1">    } else {</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Això no és un enter.&quot;);  </div></li><li class="li1"><div class="de1">      lector.next();</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  lector.nextLine();</div></li><li class="li1"><div class="de1">  //3. Un cop fet, quina variable té el resultat? &quot;enterLlegit&quot;</div></li><li class="li1"><div class="de1">  //4. Cal fer &quot;return&quot; damunt seu</div></li><li class="li1"><div class="de1">  return enterLlegit;</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

</div>

<h4><a id="invocacio1" >Invocació</a></h4>
<div class="level4">

<p>
L’aspecte més important quan hi ha mètodes amb un valor de retorn definit dins el vostre codi és la invocació, ja que hi ha una variació substancial respecte al model vist fins al moment. La sintaxi per invocar el mètode és exactament la mateixa, posant el nom i la llista de valors per als paràmetres d’entrada (si n’hi ha). En dur-se a terme la invocació, el flux d’execució salta també a les instruccions definides dins del seu bloc de codi. Ara bé, el que canvia és el comportament del mètode, ja que passa a considerar-se una expressió. Aquest avaluarà el valor resultant per a aquella invocació.
</p>
<div class="iocnote"><div class="ioccontent">
<p>
Com en tota expressió, si voleu obtenir el resultat calculat pel mètode per consultar-lo <em>a posteriori</em>, caldrà que el guardeu en una variable.
</p>
</div></div>
<p>
Per veure aquest procés, fixeu-vos en el codi següent, en el qual s’invoca el mètode definit anteriorment. Compileu-lo i executeu-lo, per veure què succeeix. La <span class="figref"><a href="#Figure10"><span>figura</span></a></span> mostra un esquema de quin és el flux de control associat a la primera invocació i què està succeint en cada moment. Per claredat a la figura, el codi del mètode <code>llegirEnterTeclat</code> està repetit per les diferents invocacions, però, novament, tingueu en compte que en el codi font només apareix una única vegada. Simplement serveix per mostrar que el seu resultat pot variar per diferents invocacions.
</p>
<div class="iocfigure"><a name="Figure10"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Flux de control en cridar un mètode i avaluació del mètode usant el valor de retorn.

</figcaption><img src="../media/ic10m3u4_14.png" alt="" /></figure>
</div><pre class="code java"><ol><li class="li1"><div class="de1">import java.util.Scanner;</div></li><li class="li1"><div class="de1">public class LlegirEnters {</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    LlegirEnters programa = new LlegirEnters();</div></li><li class="li1"><div class="de1">    programa.inici();</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  public void inici() {</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Llegiu un enter pel teclat:&quot;);</div></li><li class="li1"><div class="de1">    int a = llegirEnterTeclat();</div></li><li class="li1"><div class="de1">    System.out.println(&quot;L'enter ha estat &quot; + a + &quot;.&quot;);</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Llegiu un altre enter pel teclat:&quot;);</div></li><li class="li1"><div class="de1">    a = llegirEnterTeclat();</div></li><li class="li1"><div class="de1">    System.out.println(&quot;L'altre enter ha estat &quot; + a + &quot;.&quot;);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  public int llegirEnterTeclat() {</div></li><li class="li1"><div class="de1">    //El codi no varia respecte a l'exemple anterior</div></li><li class="li1"><div class="de1">    //...</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
Si feu memòria, aquest model d’invocació és exactament igual a la invocació de mètodes sobre una variable de tipus <code>String</code>. Això és perquè els mètodes definits per <code>String</code> estan declarats amb valors de retorn.
</p>

<p>
<strong>Repte 3</strong>. Modifiqueu l’exemple de manera que en lloc d’usar enters, funcioni amb reals (<code>double</code>). Assegureu-vos del seu correcte funcionament introduint nombres amb decimals.
</p>

</div>

<h2><a id="quan_declarar_parametres_d_entrada_o_sortida" >Quan declarar paràmetres d&#039;entrada o sortida</a></h2>
<div class="level2">

<p>
Com s’ha anat mostrant, l’ús de paràmetres, tant d’entrada com de sortida, és especialment útil per tal de convertir problemes molt semblants en un mateix i fer que el procés de descomposició d’un programa sigui conceptualment similar al d’un problema d’àmbit general. Ara bé, en realitat, el seu ús no s’hauria de limitar només a aquest escenari, sinó que hauria de ser generalitzat a qualsevol mètode. De fet, l’ús de paràmetres d’entrada i sortida no es tracta d’un cas especial diferenciat en la declaració de paràmetres, sinó el més habitual quan s’usen dins del codi d’un programa. 
</p>

<p>
D’altra banda, fins ara, les variables globals s’han presentat com a mecanisme per compartir o traspassar dades entre mètodes de diferents nivells de descomposició. En realitat, però, també és el més normal usar paràmetres com a mecanisme per a aquesta tasca, reemplaçant majoritàriament l’ús de variables globals. A partir d’ara, es considerarà que és millor evitar usar-les, excepte en casos molt concrets. Per tant, davant la pregunta “quan declarar paràmetres d’entrada i sortida en un mètode?”, la resposta és “sempre que es pugui i tingui sentit”, independentment que un mètode en realitat s’invoqui una sola vegada o moltes dins del vostre programa. 
</p>

</div>

<h3><a id="millorant_la_llegibilitat_de_codi_amb_parametres" >Millorant la llegibilitat de codi amb paràmetres</a></h3>
<div class="level3">

<p>
Una part de la utilitat dels mètodes és millorar la comprensió del codi dels programes, de manera que no cal anar seguint i entenent les instruccions en un bloc massa llarg, i d’una sola vegada. Si els identificadors dels mètodes s’han escollit amb criteri, el codi és més fàcil de seguir. Aquest seguiment encara és més senzill si s’usen paràmetres, ja que no deixen cap mena de dubte sobre les dades que està tractant un mètode donat.
</p>

<p>
Per exemple, fixeu-vos en el codi que es mostra a continuació i plantegeu-vos sincerament les preguntes següents:
</p>
<ul>
<li class="level1"><div class="li"> En aquesta invocació, quins valors s’estan tractant a <code>unMetode</code>?</div>
</li>
<li class="level1"><div class="li"> Quin és el resultat per a aquest cas? </div>
</li>
<li class="level1"><div class="li"> Si el volguéssiu mostrar per pantalla, en quina variable es troba?</div>
</li>
</ul>
<pre class="code java"><ol><li class="li1"><div class="de1">//Són variables globals</div></li><li class="li1"><div class="de1">i = 4;</div></li><li class="li1"><div class="de1">j = 8;</div></li><li class="li1"><div class="de1">k = 12;</div></li><li class="li1"><div class="de1">...</div></li><li class="li1"><div class="de1">unMetode();</div></li></ol></pre>

<p>
De fet, és impossible contestar les preguntes sense saber exactament com funciona aquest mètode. Hauríeu d’anar immediatament al seu codi font i inspeccionar-lo detalladament. 
</p>

<p>
En canvi, compareu-lo amb aquest altre codi:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">//No són variables globals</div></li><li class="li1"><div class="de1">int i = 4;</div></li><li class="li1"><div class="de1">int j = 8;</div></li><li class="li1"><div class="de1">int k = 12;</div></li><li class="li1"><div class="de1">...</div></li><li class="li1"><div class="de1">k = unMetode(i, j);</div></li></ol></pre>

<p>
Sense ni tan sols saber què fa el mètode, no cal saber quin és el seu codi per respondre. Sense cap mena de dubte, els valors que s’estan tractant són 4 i 8, i el resultat estarà emmagatzemat a la variable <code>k</code>. Per tant, triar usar paràmetres en lloc de variables globals és especialment positiu per a la llegibilitat del codi. 
</p>

</div>

<h3><a id="el_principi_d_ocultacio_encapsulacio" >El principi d&#039;ocultació / encapsulació</a></h3>
<div class="level3">

<p>
Un motiu per usar de manera generalitzada paràmetres d’entrada i sortida en els vostres mètodes i limitar l’ús de les variables globals és garantir un dels principis més importants dins de la programació.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
El principi d’<strong>encapsulació / ocultació</strong> es defineix formalment com la segregació dels elements en què es descompon un problema general, de manera que se separa la seva interfície contractual de la seva implementació. 
</p>
</div></div>
<p>
Dit en altres paraules, un mètode ha de fer una única tasca molt concreta, de manera autocontinguda, i per poder ser invocat no cal saber realment <em>com</em> funciona, només <em>què</em> fa. Algú que no hagi programat el mètode ha de ser capaç d’usar-lo sense haver de saber quin és el seu codi o quines variables s’estan usant a dins seu. Si per poder invocar satisfactòriament un mètode es requereix saber part del seu codi, no s’està seguint aquest principi. De fet, fins a cert punt, aquest principi està lligat als motius exposats anteriorment per evitar l’ús de variables globals. 
</p>

<p>
<div class="iocfigurec">
<ul>
<li>
<img src="../media/ic10m3u4_15.png" class="imgB" title=" En darrera instància, els mètodes solen encapsular una transformació de les dades d&#039;entrada en dades de sortida/4" alt=" En darrera instància, els mètodes solen encapsular una transformació de les dades d&#039;entrada en dades de sortida/4" /></li><li><small> En darrera instància, els mètodes solen encapsular una transformació de les dades d&#039;entrada en dades de sortida</small></li>
</ul></div>

</p>

<p>
Per tal de seguir fidelment el principi d’encapsulació / ocultació, pot ser útil establir unes pautes generals de comportament dels mètodes quan es volen considerar en forma parametritzada. L’aspecte principal per assolir aquesta fita és adonar-se que, tot i que a l’hora de declarar un mètode els paràmetres d’entrada i el de sortida són aspectes totalment independents sintàcticament, en la majoria de casos estan molt relacionats dins el seu codi (<span class="figref"><a href="#Figure11"><span>figura</span></a></span>). 
</p>

<p>
Normalment, els mètodes són utilitzats com un mecanisme per encapsular blocs de codi autocontinguts que realitzen càlculs o transformacions sobre els valors dels paràmetres d’entrada, a partir dels quals generar un resultat final concret. No és casualitat que en molts llenguatges als mètodes se’ls anomeni “funcions”, ja que es comporten exactament com funcions matemàtiques: partint d’uns valors d’entrada donats, s’aplica una fórmula (en aquest cas, un procés) mitjançant la qual se’n calcula el resultat.
</p>

<p>
Exemples de problemes típics que heu vist i que compleixen la condició que, donats uns valors d’entrada, cal calcular un resultat concret, poden ser:
</p>
<ul>
<li class="level1"><div class="li"> El màxim (o el mínim) entre un conjunt de valors (per exemple, un <em>array</em>).</div>
</li>
<li class="level1"><div class="li"> La mitjana aritmètica dels valors dins un <em>array</em>.</div>
</li>
<li class="level1"><div class="li"> Donat un valor de nota, transformar-la en cadena de text (per exemple, 5 = Aprovat).</div>
</li>
<li class="level1"><div class="li"> Saber els dies que té un mes donat.</div>
</li>
<li class="level1"><div class="li"> Cercar la posició d’un valor concret dins un <em>array</em> (si n’hi ha).</div>
</li>
</ul>

</div>

<h3><a id="exemples_de_metodes_parametritzats" >Exemples de mètodes parametritzats</a></h3>
<div class="level3">

<p>
A mode d’exemple, tot seguit es mostra la traducció d’alguns dels blocs de codi associats a problemes amb els quals heu treballat en mètodes amb paràmetres d’entrada i un valor de retorn. Dins del codi trobareu en format comentari les explicacions sobre quina mena de dades tracten, i per tant, quins són els seus paràmetres d’entrada i sortida.
</p>

<p>
En aquests exemples només es mostra el codi associat al mètode que realitza cada tasca, no el programa complet, amb els mètodes principal (<code>main</code>) i <code>inici</code>.
</p>

</div>

<h4><a id="calcular_el_minim_entre_dos_enters" >Calcular el mínim entre dos enters</a></h4>
<div class="level4">
<pre class="code java"><ol><li class="li1"><div class="de1">  //Paràm. entrada: els valors a tractar són dos enters</div></li><li class="li1"><div class="de1">  //Paràm. sortida: el mínim entre els dos, un enter</div></li><li class="li1"><div class="de1">  public int minim (int a, int b) {</div></li><li class="li1"><div class="de1">    //&quot;a&quot; i &quot;b&quot; contenen els valors a tractar</div></li><li class="li1"><div class="de1">    int min = b;</div></li><li class="li1"><div class="de1">    if (a &lt; b) {</div></li><li class="li1"><div class="de1">      min = a;</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    //&quot;min&quot; conté el resultat</div></li><li class="li1"><div class="de1">    return min;</div></li><li class="li1"><div class="de1">  }</div></li></ol></pre>

<p>
Per invocar-lo per calcular el mínim entre <code>4</code> i <code>10</code>, i desar el resultat en una variable anomenada <code>res</code>, es faria:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">int res = minim(4, 10);</div></li><li class="li1"><div class="de1">//En aquest cas, &quot;res&quot; valdrà 4</div></li></ol></pre>

<p>
<strong>Repte 4</strong>. Usant aquest mètode, feu un programa que calculi quin és el valor mínim entre els valors 3, 6, 10 i 15, i el mostri per pantalla. 
</p>

</div>

<h4><a id="calcular_el_maxim_dins_un_array_de_reals" >Calcular el màxim dins un array de reals</a></h4>
<div class="level4">

<p>

</p>
<pre class="code java"><ol><li class="li1"><div class="de1">  //Paràm. entrada: el valor a processar és un array</div></li><li class="li1"><div class="de1">  //Paràm. sortida: el màxim entre tots, un real</div></li><li class="li1"><div class="de1">  public double maxim(double[] array) {</div></li><li class="li1"><div class="de1">    //&quot;array&quot; conté el valor a tractar</div></li><li class="li1"><div class="de1">    double max = array[0];</div></li><li class="li1"><div class="de1">    for (int i = 1; i &lt; array.length; i++) {</div></li><li class="li1"><div class="de1">      if (array[i] &gt; max) {</div></li><li class="li1"><div class="de1">        max = array[i];</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    //&quot;max&quot; conté el resultat</div></li><li class="li1"><div class="de1">    return max;</div></li><li class="li1"><div class="de1">  }</div></li></ol></pre>

<p>
Per invocar-lo per calcular el màxim a l’<em>array</em> anomenat <code>valors</code> i desar el resultat en una variable anomenada <code>res</code>, es faria:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">double[] valors = {1.3, -2.1, 0, 12.0, 4.7};</div></li><li class="li1"><div class="de1">...</div></li><li class="li1"><div class="de1">double res = maxim(valors);</div></li><li class="li1"><div class="de1">//En aquest cas, &quot;res&quot; valdrà 12.0</div></li></ol></pre>

</div>

<h4><a id="calcular_la_mitjana_aritmetica_dels_valors_d_un_array" >Calcular la mitjana aritmètica dels valors d&#039;un array</a></h4>
<div class="level4">
<pre class="code java"><ol><li class="li1"><div class="de1">  //Paràm. entrada: el valor a processar és un array</div></li><li class="li1"><div class="de1">  //Paràm. sortida: el resultat de fer el càlcul, un real (té decimals)</div></li><li class="li1"><div class="de1">  public double mitjana(int[] array) {</div></li><li class="li1"><div class="de1">    //&quot;array&quot; conté el valor a tractar</div></li><li class="li1"><div class="de1">    double acumulador = 0;</div></li><li class="li1"><div class="de1">    for (int i = 0; i &lt; array.length; i++) {</div></li><li class="li1"><div class="de1">      acumulador = acumulador + array[i];</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    //El resultat és (acumulador)/(nombre elements)</div></li><li class="li1"><div class="de1">    //Es pot retornar el resultat d'una expressió</div></li><li class="li1"><div class="de1">    return acumulador/array.length;</div></li><li class="li1"><div class="de1">  }</div></li></ol></pre>

<p>
Per invocar-lo per calcular la mitjana de l’array <code>valors</code> i desar el valor a la variable <code>res</code>, es faria:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">int[] valors = {1, 2, 3, 4, 5};</div></li><li class="li1"><div class="de1">...</div></li><li class="li1"><div class="de1">double res = mitjana(valors);</div></li><li class="li1"><div class="de1">//En aquest cas, &quot;res&quot; valdrà 3</div></li></ol></pre>

</div>

<h4><a id="transformar_una_nota_a_text" >Transformar una nota a text</a></h4>
<div class="level4">
<pre class="code java"><ol><li class="li1"><div class="de1">  //Paràm. entrada: el valor a processar és un real (una nota)</div></li><li class="li1"><div class="de1">  //Paràm. sortida: una cadena de text</div></li><li class="li1"><div class="de1">  public String notaAText(double nota) {</div></li><li class="li1"><div class="de1">    //&quot;nota&quot; conté el valor a tractar</div></li><li class="li1"><div class="de1">    String text = null;</div></li><li class="li1"><div class="de1">    if ((nota &gt;= 9)&amp;&amp;(nota &lt;= 10)) {</div></li><li class="li1"><div class="de1">      text = &quot;Excel·lent&quot;;</div></li><li class="li1"><div class="de1">    } else if ((nota &gt;= 6.5)&amp;&amp;(nota &lt; 9)) {</div></li><li class="li1"><div class="de1">      text = &quot;Notable&quot;;</div></li><li class="li1"><div class="de1">    } else if ((nota &gt;= 5)&amp;&amp;(nota &lt; 6.5)) {</div></li><li class="li1"><div class="de1">      text = &quot;Aprovat&quot;;</div></li><li class="li1"><div class="de1">    } else  if ((nota &gt;= 0)&amp;&amp;(nota &lt; 5)) {</div></li><li class="li1"><div class="de1">      text = &quot;Suspès&quot;;</div></li><li class="li1"><div class="de1">    } else {</div></li><li class="li1"><div class="de1">      text = &quot;Nota no vàlida&quot;;</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    //&quot;text&quot; conté el resultat</div></li><li class="li1"><div class="de1">    return text;</div></li><li class="li1"><div class="de1">  }</div></li></ol></pre>

<p>
Per invocar-lo per saber el text que correspon a la nota <code>7.8</code>, desar el valor a la variable <code>textNota</code> i mostrar-lo per pantalla, es faria:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">String textNota = notaAText(7.8);</div></li><li class="li1"><div class="de1">//En aquest cas, &quot;textNota&quot; valdrà &quot;Notable&quot;</div></li><li class="li1"><div class="de1">System.out.println(textNota);</div></li></ol></pre>

<p>
<strong>Repte 5</strong>: feu un programa que, donat un conjunt de cinc notes parcials emmagatzemades en un <em>array</em> de reals, mostri el text de la nota final (la mitjana de totes cinc). Pista/Nota: tingueu en compte que el paràmetre d’entrada de l’exemple <code>mitjana</code> és un <em>array</em> d’enters. (No podeu usar el seu codi directament, l’haureu de modificar.)
</p>

</div>

<h4><a id="calcular_els_dies_d_un_mes" >Calcular els dies d&#039;un mes</a></h4>
<div class="level4">

<p>

</p>
<pre class="code java"><ol><li class="li1"><div class="de1">  public static final int[] numDies = {31, 28 , 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};</div></li><li class="li1"><div class="de1">  ...</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  //Paràm. entrada: el valor a processar és un enter (un núm. de mes)</div></li><li class="li1"><div class="de1">  //Paràm. sortida: un enter (un núm. de dies)</div></li><li class="li1"><div class="de1">  public int diesDelMes(int mes) {</div></li><li class="li1"><div class="de1">    //&quot;mes&quot; conté el valor a tractar</div></li><li class="li1"><div class="de1">    int dies = 0;</div></li><li class="li1"><div class="de1">    if ((mes &gt;= 1)&amp;&amp;(mes &lt;= 12)) {</div></li><li class="li1"><div class="de1">      dies = numDies[mes - 1];</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    //&quot;dies&quot; conté el resultat</div></li><li class="li1"><div class="de1">    return dies;</div></li><li class="li1"><div class="de1">  }</div></li></ol></pre>

<p>
Per invocar-lo per saber els dies del febrer i desar-los a la variable <code>res</code>, es faria:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">int res = diesDelMes(2);</div></li><li class="li1"><div class="de1">//En aquest cas, &quot;res&quot; valdrà 28</div></li></ol></pre>

</div>

<h4><a id="cercar_la_posicio_on_hi_ha_un_valor_concret_a_un_array_d_enters" >Cercar la posició on hi ha un valor concret a un array d&#039;enters</a></h4>
<div class="level4">
<pre class="code java"><ol><li class="li1"><div class="de1">  //Paràm. entrada: els valors a processar són l'array i què cercar (un enter)</div></li><li class="li1"><div class="de1">  //Paràm. sortida: un enter (una posició de l'array)</div></li><li class="li1"><div class="de1">  public int cercarValor(int[] array, int valor) {</div></li><li class="li1"><div class="de1">    //&quot;array&quot; conté el valor a tractar</div></li><li class="li1"><div class="de1">    int posicio = 0;</div></li><li class="li1"><div class="de1">    boolean trobat = false;</div></li><li class="li1"><div class="de1">    while ((posicio &lt; array.length)&amp;&amp;(!trobat)) {</div></li><li class="li1"><div class="de1">      if (array[posicio] == valor) {</div></li><li class="li1"><div class="de1">        trobat = true;</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">      posicio = posicio + 1;</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    //S'ha trobat?</div></li><li class="li1"><div class="de1">    if (!trobat) {</div></li><li class="li1"><div class="de1">      posicio = -1;</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    //&quot;posició&quot; conté el resultat.</div></li><li class="li1"><div class="de1">    //Si no s'ha trobat es fa valer -1</div></li><li class="li1"><div class="de1">    return posicio;</div></li><li class="li1"><div class="de1">  }</div></li></ol></pre>

<p>
Per invocar-lo per trobar si en alguna posició d’un <em>array</em> anomenat <code>valors</code> hi ha el valor <code>7</code> i desar l’índex d’aquesta posició a la variable <code>res</code>, es faria:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">int[] valors = {1, 2, 3, 4, 5};</div></li><li class="li1"><div class="de1">...</div></li><li class="li1"><div class="de1">int res = cercarValor(valors, 7);</div></li><li class="li1"><div class="de1">//En aquest cas, &quot;res&quot; valdrà -1</div></li></ol></pre>

<p>
<strong>Repte 6</strong>. Feu un programa que pregunti un número enter pel teclat. Llavors, donat un conjunt de valors dins un <em>array</em>, ha de calcular quants cops apareix el número introduït. Useu mètodes tant per preguntar el número com per cercar el seu nombre d’aparicions. Declareu l’<em>array</em> on cal fer la cerca com una variable dins del mètode <code>inici</code>, inicialitzada amb valors concrets de la vostra elecció.
</p>

</div>

<h2><a id="un_exemple_de_disseny_descendent_amb_metodes_parametritzats" >Un exemple de disseny descendent amb mètodes parametritzats</a></h2>
<div class="level2">

<p>
Per saber com usar mètodes basats en paràmetres d’entrada i sortida (el més habitual quan feu programes), tot seguit veureu un nou exemple de procés complet de descomposició d’un problema relativament complex mitjançant disseny descendent. Aquest cop, però, els subproblemes s’analitzaran també des del punt de vista de quines dades són necessàries per a la seva resolució (entrada) i quin resultat concret produeixen (sortida). Aquest cop, però, no es detallaran tots els aspectes de la descomposició. Aquest exemple serveix principalment com a fil argumental per ressaltar alguns aspectes importants de l’ús de mètodes dins un programa més complex, com la propagació dels valors entre invocacions dels mètodes. 
</p>

<p>
En aquest cas, el programa que es vol realitzar és una versió una mica més avançada del joc d’endevinar un número secret. En aquest cas, es tracta d’endevinar una combinació de 5 lletres a l’atzar. Sempre que es realitza un intent, el programa dóna una pista. Per cada lletra, s’indica si és totalment incorrecta (<code>.</code>), si s’ha encertat (<code>O</code>), o si aquesta lletra existeix, però no en aquesta posició (<code>X</code>). El programa s’executa fins que l’usuari encerta, moment en què es dóna un missatge de felicitació.
</p>
<div class="iocreference"><div class="ioccontent">
<p>
El sistema de joc d’endevinar un número secret és semblant al del  <a href="http://es.wikipedia.org/wiki/Mastermind" class="urlextern" title="http://es.wikipedia.org/wiki/Mastermind"  rel="nofollow">Mastermind</a>.
</p>
</div></div>
<p>
Per aclarir aquest funcionament, tot seguit es dóna un exemple d’execució:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">Escriu 5 lletres minúscules: atzbq</div></li><li class="li1"><div class="de1">La resposta es [-OX--]. Continua intentant-ho!</div></li><li class="li1"><div class="de1">Escriu 5 lletres minúscules: btymz</div></li><li class="li1"><div class="de1">La resposta es [-O-XX]. Continua intentant-ho!</div></li><li class="li1"><div class="de1">Escriu 5 lletres minúscules: mtzoc</div></li><li class="li1"><div class="de1">La resposta es [OOX--]. Continua intentant-ho!</div></li><li class="li1"><div class="de1">Escriu 5 lletres minúscules: mtdzp</div></li><li class="li1"><div class="de1">La resposta es [OO-OX]. Continua intentant-ho!</div></li><li class="li1"><div class="de1">Escriu 5 lletres minúscules: mtpze</div></li><li class="li1"><div class="de1">La resposta es [OOOO-]. Continua intentant-ho!</div></li><li class="li1"><div class="de1">Escriu 5 lletres minúscules: mtpzx</div></li><li class="li1"><div class="de1">La resposta es [OOOOO]. Has encertat!</div></li></ol></pre>

</div>

<h3><a id="descomposicio_de_problema" >Descomposició de problema</a></h3>
<div class="level3">

<p>
Novament, el primer pas a fer, abans de posar-se a generar codi, és seure una estona a pensar i fer una proposta sobre quines dades caldrà tractar i com es podria descompondre el problema.
</p>

</div>

<h4><a id="identificacio_de_les_dades_a_tractar" >Identificació de les dades a tractar</a></h4>
<div class="level4">

<p>
En una ullada preliminar, per a aquest problema, les dades més importants que cal tractar en general són bàsicament dues: la paraula secreta i la paraula que respon l’usuari. També, en algun moment, caldrà generar la resposta del programa amb la pista dient quines lletres ha encertat i controlar quan cal acabar l’execució, un cop s’ha encertat.
</p>

</div>

<h4><a id="primer_nivell_de_descomposicio" >Primer nivell de descomposició</a></h4>
<div class="level4">

<p>
Abans de poder fer res, caldrà generar la paraula secreta de manera aleatòria. Un cop fet, el programa es dedica a preguntar la resposta de l’usuari i tot seguit analitzar-la per generar una resposta amb la pista, o la felicitació si ha encertat. Per tant, en un primer nivell es podria descompondre com:
</p>
<ol>
<li class="level1"><div class="li"> Generar paraula secreta.</div>
</li>
<li class="level1"><div class="li"> Preguntar resposta.</div>
</li>
<li class="level1"><div class="li"> Resoldre resposta.</div>
</li>
</ol>

</div>

<h4><a id="segon_nivell_de_descomposicio" >Segon nivell de descomposició</a></h4>
<div class="level4">

<p>
Per veure si cal un segon nivell de descomposició, cal analitzar si els subproblemes definits en el primer nivell es consideren complexos, o si més no, si conceptualment són més fàcils d’entendre si es tornen a descompondre.
</p>
<ul>
<li class="level1"><div class="li"> <strong>Generar paraula secreta</strong>. Generar una paraula secreta es pot considerar com la generació repetides vegades d’una única lletra aleatòria.</div>
</li>
<li class="level1"><div class="li"> <strong>Preguntar resposta</strong>. D’entrada, llegir una cadena de text des del teclat és un problema àmpliament tractat i que ja hauríeu de saber resoldre. Per tant, no és gens complex.</div>
</li>
<li class="level1"><div class="li"> <strong>Resoldre resposta</strong>. Resoldre la resposta vol dir que, primer de tot, cal generar la pista i després veure si es correspon amb una combinació guanyadora (<code>OOOOO</code>) o no. Per tant, es podria dividir en aquests dos subproblemes.</div>
</li>
</ul>
<ol>
<li class="level1"><div class="li"> Generar paraula secreta.</div>
<ol>
<li class="level2"><div class="li"> Generar lletra aleatòria.</div>
</li>
<li class="level2"><div class="li"> Muntar paraula.</div>
</li>
</ol>
</li>
<li class="level1"><div class="li"> Preguntar resposta.</div>
</li>
<li class="level1"><div class="li"> Resoldre resposta.</div>
<ol>
<li class="level2"><div class="li"> Generar pista.</div>
</li>
<li class="level2"><div class="li"> Donar resposta.</div>
</li>
</ol>
</li>
</ol>

</div>

<h4><a id="tercer_nivell_de_descomposicio" >Tercer nivell de descomposició</a></h4>
<div class="level4">

<p>
Novament, s’analitzen els nous subproblemes per veure si cal continuar descomponent o no. 
</p>
<ul>
<li class="level1"><div class="li"> <strong>Generar lletra aleatòria</strong>. Aquest subproblema requereix una mica d’imaginació per plantejar-lo (i una mica de coneixement de quines instruccions té Java que us puguin ajudar). Per tant, segons com es plantegi, serà fàcil o difícil. En aquest exemple es farà de la manera següent. Java permet accedir a l’hora actual amb precisió de nanosegons usant una instrucció especial. Això és un temps tan reduït que sempre s’obtindran valors diferents per cada execució. Per tant, és com generar valors a l’atzar. Atès que ja sabeu com, partint d’un enter, obtenir text (per exemple, en convertir un número de mes en el seu nom), ja s’ha arribat a un problema prou simple.</div>
</li>
<li class="level1"><div class="li"> <strong>Muntar paraula</strong>. Es tractaria de concatenar 5 lletres per crear un <code>String</code>. Aquesta tasca es pot resoldre directament amb l’operador <code>+</code> de les cadenes de text.</div>
</li>
<li class="level1"><div class="li"> <strong>Generar pista</strong>. Caldrà comparar la paraula secreta i la resposta lletra a lletra. Això es pot fer amb una estructura de repetició, que no és massa complexa, i les lletres (els caràcters) es poden comparar fàcilment.</div>
</li>
<li class="level1"><div class="li"> <strong>Donar resposta</strong>. Es tracta de fer una comparació i mostrar un missatge per pantalla. És clarament una estructura de selecció, la qual cosa és senzilla.</div>
</li>
</ul>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">&#039;&#039;System.nanoTime&#039;&#039;()</p>
<p>
Aquesta és la instrucció que accedeix al temps amb precisió de nanosegons (una milmilionèsima de segon, un segon = 1.000.000.000 nanosegons).
</p>
</div></div>
<p>
Per tant, ja heu acabat la descomposició.
</p>

</div>

<h3><a id="implementacio_del_segon_nivell_de_descomposicio" >Implementació del segon nivell de descomposició</a></h3>
<div class="level3">

<p>
Un cop establerta la descomposició a partir de la qual treballar, ja es podria establir una primera versió de l’esquelet de la classe. Per fer això, ara seria necessària una etapa de reflexió addicional, ja que per establir les capçaleres dels mètodes cal tenir ben clars quins seran els seus paràmetres d’entrada i de sortida. Malauradament, això obliga fins a cert punt a tenir una visió general de com ha de funcionar tot el programa i les interaccions entre mètodes. 
</p>

<p>
A causa d’això, en un cas com aquest pot ser millor anar a poc a poc i només aturar-se a pensar la declaració exacta de cada mètode amb els seus paràmetres quan correspongui, seguint pas per pas cada nivell de descomposició. A part d’això, sí que és possible escriure ja el mètodes <code>main</code> i l’esquelet del mètode <code>inici</code>, ja que sempre segueixen la mateixa estructura.
</p>

<p>
Donada la descomposició del problema, cal declarar dos mètodes, que es poden dir:
</p>
<div class="iocnote"><div class="ioccontent">
<p>
Normalment, els mètodes que fan càlculs exclusivament a partir d’entrada / sortida (teclat, rellotge intern, etc.) no tenen paràmetres d’entrada.
</p>
</div></div><ul>
<li class="level1"><div class="li"> <code>generarLletraAleatoria</code>. Genera una lletra a l’atzar. Per tant, el valor de retorn serà un caràcter. No necessita cap entrada per fer aquest càlcul, ja que tot el que cal s’obté directament d’una instrucció de Java per saber els nanosegons presents.</div>
</li>
<li class="level1"><div class="li">  <code>generarPista</code>. Genera la pista que cal mostrar per pantalla (per exemple, <code>OXX.O</code>). Això és un text, per la qual cosa el valor de retorn serà un <code>String</code>. Per poder fer aquesta tasca, cal comparar la resposta de l’usuari (un text) i el valor secret (un altre text). Per tant, calen dos paràmetres d’entrada, també de tipus <code>String</code>. En el codi d’aquest mètode de ben segur caldrà manipular les cadenes de text.</div>
</li>
</ul>

<p>
Donat això, ara mateix, el codi del programa podria ser així. Fixeu-vos atentament que la traducció d’un enter aleatori a un caràcter aleatori es fa amb l’ajut d’una taula de traducció en forma de text amb tot l’alfabet (constant <code>abc</code>):
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">import java.util.Scanner;</div></li><li class="li1"><div class="de1">//Un programa per jugar al Mastermind.</div></li><li class="li1"><div class="de1">public class MasterMind {</div></li><li class="li1"><div class="de1">  //Constants</div></li><li class="li1"><div class="de1">  public final static char TOT_CORRECTE = 'O';</div></li><li class="li1"><div class="de1">  public final static char MALA_POSICIO = 'X';</div></li><li class="li1"><div class="de1">  public final static char INCORRECTE = '-';</div></li><li class="li1"><div class="de1">  public final static String abc = &quot;abcdefghijklmnopqrstuvwxyz&quot;;</div></li><li class="li1"><div class="de1">  //Mètodes associats al problema general</div></li><li class="li1"><div class="de1">  //El mètode main no canvia respecte a la plantilla general</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    MasterMind programa = new MasterMind();</div></li><li class="li1"><div class="de1">    programa.inici();</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  //Es pot declarar, però encara no correspon deduir el codi</div></li><li class="li1"><div class="de1">  public void inici() {</div></li><li class="li1"><div class="de1">    //El codi es farà en acabar el primer nivell de descomposició</div></li><li class="li1"><div class="de1">    //...</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  //Mètodes associats al primer nivell de descomposició</div></li><li class="li1"><div class="de1">  //Ja els pensareu en acabar el segon nivell de descomposició</div></li><li class="li1"><div class="de1">  //...</div></li><li class="li1"><div class="de1">  //Mètodes associats al segon nivell de descomposició</div></li><li class="li1"><div class="de1">  //Paràm. entrada: cap</div></li><li class="li1"><div class="de1">  //Paràm. sortida: una lletra (un caràcter)</div></li><li class="li1"><div class="de1">  public char generarLletraAleatoria() {</div></li><li class="li1"><div class="de1">    long nano = System.nanoTime();</div></li><li class="li1"><div class="de1">    int index = (int)(nano % abc.length());</div></li><li class="li1"><div class="de1">    return abc.charAt(index);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  //Paràm. entrada: la resposta i el secret que cal comparar (text)</div></li><li class="li1"><div class="de1">  //Paràm. sortida: la pista que cal mostrar (un text)</div></li><li class="li1"><div class="de1">  public String generarPista(String s, String r) {</div></li><li class="li1"><div class="de1">    String res = &quot;&quot;;</div></li><li class="li1"><div class="de1">    //Cal comparar cada caràcter de la solució i la resposta</div></li><li class="li1"><div class="de1">    for (int i = 0; i &lt; s.length(); i++) {</div></li><li class="li1"><div class="de1">      //Obtenir els dos caràcters a comparar</div></li><li class="li1"><div class="de1">      char charSecret = s.charAt(i);</div></li><li class="li1"><div class="de1">      char charResposta = r.charAt(i);</div></li><li class="li1"><div class="de1">      if (charSecret == charResposta) {</div></li><li class="li1"><div class="de1">        res = res + TOT_CORRECTE;</div></li><li class="li1"><div class="de1">      } else if (s.indexOf(charResposta) != -1) {</div></li><li class="li1"><div class="de1">        //indexOf cerca si un caràcter concret existeix en un String</div></li><li class="li1"><div class="de1">        res = res + MALA_POSICIO;</div></li><li class="li1"><div class="de1">      } else {</div></li><li class="li1"><div class="de1">        res = res + INCORRECTE;</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    return res;</div></li><li class="li1"><div class="de1">  } </div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

</div>

<h3><a id="implementacio_del_primer_nivell_de_descomposicio" >Implementació del primer nivell de descomposició</a></h3>
<div class="level3">

<p>
Un cop finalitzat un nivell, es pot pujar al següent. D’acord a la descomposició del problema general, es pot procedir a establir els noms dels nous mètodes i quins haurien de ser els seus paràmetres. En aquest cas, però, per a alguns dels mètodes val la pena estudiar la seva implementació de manera molt més detallada, ja que aquest exemple ha estat cercat amb la intenció que apareguin alguns aspectes interessants quan interactuen mètodes amb paràmetres d’entrada i/o sortida.
</p>

<p>
D’entrada, aquí teniu una descripció general:
</p>
<ul>
<li class="level1"><div class="li"> <code>generarParaulaSecreta</code>. Genera la paraula secreta, composta per 5 lletres. Per tant, el resultat és un text (un valor de tipus <code>String</code>). Com que parteix de zero per fer-ho, no li calen paràmetres d’entrada.</div>
</li>
<li class="level1"><div class="li"> <code>preguntarResposta</code>. Com en exemples anteriors, haurà de ser un mètode que llegeix un text des del teclat i el retorna. Per tant, tampoc li calen paràmetres d’entrada i retornarà el text llegit.</div>
</li>
<li class="level1"><div class="li"> <code>resoldreResposta</code>. Resoldre una resposta vol dir generar la pista, establir si s’ha encertat, i mostrar un missatge en conseqüència. Quan es tracti amb més detall ja veureu quins haurien de ser els seus paràmetres.</div>
</li>
</ul>

</div>

<h4><a id="generarparaulasecreta" >generarParaulaSecreta</a></h4>
<div class="level4">

<p>
Aquest mètode es basa en l’ús repetit de la generació d’un caràcter individual per fer una paraula de 5 lletres. Per tant, invoca internament a <code>generarLletraAleatoria</code> i a partir de cada resultat crea el seu propi resultat. A part d’això, el fet que un mètode pugui invocar, a la seva vegada, un altre mètode, no té cap altra peculiaritat. 
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">  //Paràm. entrada: cap, tot s'obté de generarLletraAleatoria</div></li><li class="li1"><div class="de1">  //Paràm. sortida: una paraula de 5 lletres (un String)</div></li><li class="li1"><div class="de1">  public String generarParaulaSecreta() {</div></li><li class="li1"><div class="de1">    String res = &quot;&quot;;</div></li><li class="li1"><div class="de1">    for (int i = 0; i &lt; 5; i++) {</div></li><li class="li1"><div class="de1">      res = res + generarLletraAleatoria();</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    return res;</div></li><li class="li1"><div class="de1">  }</div></li></ol></pre>

</div>

<h4><a id="preguntarresposta" >preguntarResposta</a></h4>
<div class="level4">

<p>
Escriure text demanant a l’usuari que introdueixi una paraula pel teclat i llegir-la en forma de cadena de text no és excessivament complicat, sobretot, atès que no cal fer comprovacions de tipus, com passa amb números (<code>hasNextInt</code>, etc.). Ara bé, si es vol ser estricte, caldria comprovar almenys que la resposta segueix el format esperat: té cinc lletres i està formada de caràcters de l’alfabet en minúscula (a…z). Ara bé, comprovar aquestes dues coses no es fa en una o dues línies de codi.
</p>

<p>
En casos com aquest, quan es vol fer una comprovació de certa complexitat sobre el format d’una lectura de dades escrites per l’usuari, és especialment útil plantejar-se-la com un nou subproblema. Separar tot el codi associat a la comprovació en un mètode a part simplifica el codi i millora la seva comprensió. En aquest cas, el nou mètode es podria dir <code>comprovarResposta</code>.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">  //Paràm. entrada: cap, tot s'obté del teclat</div></li><li class="li1"><div class="de1">  //Paràm. sortida: la paraula de resposta (un String)</div></li><li class="li1"><div class="de1">  public String preguntarResposta() {</div></li><li class="li1"><div class="de1">    Scanner lector = new Scanner(System.in);</div></li><li class="li1"><div class="de1">    boolean lecturaOk = false;</div></li><li class="li1"><div class="de1">    String res = null;</div></li><li class="li1"><div class="de1">    do {</div></li><li class="li1"><div class="de1">      System.out.print(&quot;Escriu &quot; + LONG_SECRET + &quot; lletres minúscules: &quot;);</div></li><li class="li1"><div class="de1">      res = lector.next();</div></li><li class="li1"><div class="de1">      lector.nextLine();</div></li><li class="li1"><div class="de1">      lecturaOk = comprovarResposta(res);</div></li><li class="li1"><div class="de1">      if (!lecturaOk) {</div></li><li class="li1"><div class="de1">        System.out.println(&quot;Aquesta resposta no és vàlida!&quot;);</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">    } while (!lecturaOk);</div></li><li class="li1"><div class="de1">    return res;</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  //Aquest mètode correspon al segon nivell de descomposició</div></li><li class="li1"><div class="de1">  //Paràm. entrada: text a comprovar</div></li><li class="li1"><div class="de1">  //Paràm. sortida: si és correcte o no (un booleà. true = correcte)</div></li><li class="li1"><div class="de1">  public boolean comprovarResposta(String resposta) {</div></li><li class="li1"><div class="de1">    if (resposta.length() != 5) {</div></li><li class="li1"><div class="de1">     //Ja sabem que no és correcte.</div></li><li class="li1"><div class="de1">     //Podem acabar l'execució del mètode immediatament.</div></li><li class="li1"><div class="de1">     return false;</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    for (int i = 0; i &lt; resposta.length(); i++) {</div></li><li class="li1"><div class="de1">      char c = resposta.charAt(i);</div></li><li class="li1"><div class="de1">      if ( -1 == abc.indexOf(c)) {</div></li><li class="li1"><div class="de1">       //Ja sabem que no és correcte.</div></li><li class="li1"><div class="de1">       //Podem acabar l'execució del mètode immediatament.</div></li><li class="li1"><div class="de1">        return false;</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    //Si tot es compleix, segur que és correcte</div></li><li class="li1"><div class="de1">    return true;</div></li><li class="li1"><div class="de1">  }</div></li></ol></pre>

<p>
Aquesta mena de mètodes que serveixen per establir si un valor es considera correcte pràcticament sempre tenen el mateix format: l’entrada són els valors a comprovar i la sortida, un booleà. Cal fer que aquesta sigui <code>true</code> si els valors es consideren correctes i <code>false</code> en cas contrari (“És el valor correcte? Cert/Fals”). Llavors, amb una estructura de selecció que compari el valor de retorn és fàcil actuar en conseqüència.
</p>
<div class="iocfigure"><a name="Figure11"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Flux de control del mètode <code>comprovarResposta</code> davant diferents situacions

</figcaption><img src="../media/ic10m3u4_16.png" alt="" /></figure>
</div>
<p>
Per tant, tot just s’acaba de presentar una situació on, tot i que d’entrada s’ha considerat que no calia descompondre més, <em>a posteriori</em> s’ha establert que és millor fer-ho. Aquest fet no és gaire estrany en el procés de generació d’un programa.
</p>

<p>
Si us fixeu, el codi de <code>comprovarResposta</code> té una peculiaritat. Hi ha més d’una sentència <code>return</code>. Això és possible, però per entendre què està fent, cal tenir present un aspecte essencial d’aquesta sentència: quan s’executa, el mètode acaba immediatament i el valor de retorn és igual a l’indicat dins la sentència <code>return</code>. La <span class="figref"><a href="#Figure11"><span>figura</span></a></span> esquematitza el funcionament del mètode d’acord a aquest comportament, segons diferents situacions. 
</p>

</div>

<h4><a id="resoldreresposta" >resoldreResposta</a></h4>
<div class="level4">

<p>
Aquest mètode el primer que fa és invocar <code>generarPista</code> i mostrar el valor retornat. Ara bé, segons si aquest valor indica que si s’ha encertat (<code>OOOOO</code>) o no, actua en conseqüència. El que fa que valgui la pena estudiar-lo amb detall és veure quins paràmetres té.
</p>
<div class="iocnote"><div class="ioccontent">
<p>
La tècnica <code>comprovarResposta</code> també és habitual i us pot resultar molt útil per simplificar el codi dels vostres programes.
</p>
</div></div>
<p>
D’entrada només mostra coses per pantalla, no calcula res, per la qual cosa no cal cap valor de retorn. Ara bé, per poder invocar correctament <code>generarPista</code>, li cal disposar dels valors del text secret i la resposta de l’usuari. Aquests dos valors no els genera ell, sinó que són generats per altres mètodes. Per tant, per poder-ne disposar, li faran falta com paràmetres d’entrada.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">  //Paràm. entrada: la resposta i el valor secret (dos String)</div></li><li class="li1"><div class="de1">  //Paràm. sortida: cap (només mostra coses per pantalla)</div></li><li class="li1"><div class="de1">  public void resoldreResposta(String secret, String resposta) {</div></li><li class="li1"><div class="de1">    String res = generarPista(secret, resposta);</div></li><li class="li1"><div class="de1">    System.out.print(&quot;La resposta es [&quot; + res + &quot;].&quot;);</div></li><li class="li1"><div class="de1">    if (res.equals(&quot;OOOOO&quot;)) {</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Has encertat!&quot;);</div></li><li class="li1"><div class="de1">    } else {</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Continua intentant-ho!&quot;);</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">  }</div></li></ol></pre>

<p>
En aquest mètode és interessant observar que, internament, els dos paràmetres no són usats mai directament. Només serveixen per poder invocar correctament el mètode <code>generarPista</code>. Aquesta situació és la que s’anomena <strong>propagació de paràmetres</strong> entre mètodes ubicats en diferents nivells de descomposició. Els valors disposats en el mètode de més nivell es passen (propaguen) a mètodes de nivell inferior. Atès que un paràmetre d’entrada es considera com una variable qualsevol dins el codi d’un mètode, no hi ha cap problema a fer-ho. 
</p>

<p>
La <span class="figref"><a href="#Figure12"><span>figura</span></a></span> esquematitza aquest procés. També és molt important veure com els valors es van copiant successivament a les variables definides pels paràmetres, independentment del fet que el seu nom vagi variant en cada cas.
</p>

<p>

</p>
<div class="iocfigure"><a name="Figure12"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Propagació dels valors dels paràmetres entre dos mètodes

</figcaption><img src="../media/ic10m3u4_17.png" alt="" /></figure>
</div>
</div>

<h3><a id="implementacio_del_problema_general" >Implementació del problema general</a></h3>
<div class="level3">

<p>
Un cop implementats tots els subproblemes, ha arribat el moment d’implementar el codi del problema general: el mètode <code>inici</code>. Primer de tot el que farà el programa és generar el valor secret, i després anar repetint la pregunta a l’usuari en mostrar la resposta. Això es pot fer usant una estructura de repetició controlada per un semàfor, que inicialment està a <code>false</code> i canvia a <code>true</code> quan l’usuari ha encertat. En una primera aproximació, el codi seria:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">  //Problema general: Versió 1</div></li><li class="li1"><div class="de1">  public void inici() {</div></li><li class="li1"><div class="de1">    String secret = generarParaulaSecreta();</div></li><li class="li1"><div class="de1">    //&quot;encertat&quot; diu si s'ha encertat i ja s'acaba el programa</div></li><li class="li1"><div class="de1">    boolean encertat = false;</div></li><li class="li1"><div class="de1">    while (!encertat) {</div></li><li class="li1"><div class="de1">      String resposta = preguntarResposta();</div></li><li class="li1"><div class="de1">      resoldreResposta(secret, resposta);</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">  }</div></li></ol></pre>

<p>
Ara bé, en aquest cas, el problema general també presenta una situació interessant. Sense variables globals, com es pot establir el valor de la variable <code>encertat</code> a <code>true</code>? Atès que és millor no usar variables globals, la resposta ha d’estar per força en el paràmetre d’entrada o sortida d’algun mètode. En un cas com aquest, on un mètode necessita un valor per poder dur a terme la seva tasca, la resposta exacta està en afegir un paràmetre de sortida a algun mètode.
</p>

<p>

</p>

<p>
Si observeu el codi, el mètode que estableix si la partida ha acabat (s’ha encertat o no) és <code>resoldreResposta</code>, ja que és qui compara la pista amb el valor associat a encertar la paraula secreta. D’entrada, aquest mètode no té cap valor de retorn. El que es pot fer és afegir un valor de retorn que us digui si cal acabar la partida o no (un booleà). D’aquesta manera, el codi seria:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">  //Problema general: Versió 2</div></li><li class="li1"><div class="de1">  public void inici() {</div></li><li class="li1"><div class="de1">    String secret = generarParaulaSecreta();</div></li><li class="li1"><div class="de1">    boolean encertat = false;</div></li><li class="li1"><div class="de1">    while (!encertat) {</div></li><li class="li1"><div class="de1">      String resposta = preguntarResposta();</div></li><li class="li1"><div class="de1">      encertat = resoldreResposta(secret, resposta);</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  //Aquest mètode correspon al primer nivell de descomposició</div></li><li class="li1"><div class="de1">  //Versió 2</div></li><li class="li1"><div class="de1">  //Paràm. entrada: la resposta i el valor secret (dos String)</div></li><li class="li1"><div class="de1">  //Paràm. sortida: si s'ha encertat (un booleà)</div></li><li class="li1"><div class="de1">  public boolean resoldreResposta(String secret, String resposta) {</div></li><li class="li1"><div class="de1">    String res = generarPista(secret, resposta);</div></li><li class="li1"><div class="de1">    boolean fi = false;</div></li><li class="li1"><div class="de1">    System.out.print(&quot;La resposta és [&quot; + res + &quot;].&quot;);</div></li><li class="li1"><div class="de1">    if (res.equals(ENCERTAT)) {</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Has encertat!&quot;);</div></li><li class="li1"><div class="de1">      fi = true;</div></li><li class="li1"><div class="de1">    } else {</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Continua intentant-ho!&quot;);</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    return fi;</div></li><li class="li1"><div class="de1">  }  </div></li></ol></pre>

<p>
Aquest és un cas on cal establir paràmetres d’un mètode <em>a posteriori</em>, davant d’una necessitat imprevista d’un mètode de nivell superior. Tampoc es tracta d’una situació infreqüent. 
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
El procés de descomposició en nivell descendent no sempre és possible realitzar-lo linealment. Sovint cal recular i reconsiderar decisions preses anteriorment.
</p>
</div></div>
</div>

<h3><a id="implementacio_final" >Implementació final</a></h3>
<div class="level3">

<p>
Per claredat, tot seguit es llista el resultat final. Per fer el codi més polit i llegible, alguns valors concrets s’han reemplaçat per constants (la longitud del text a descobrir i el text que indica que tot és correcte).
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">import java.util.Scanner;</div></li><li class="li1"><div class="de1">//Un programa per jugar al Mastermind.</div></li><li class="li1"><div class="de1">public class MasterMind {</div></li><li class="li1"><div class="de1">  //Constants</div></li><li class="li1"><div class="de1">  public final static char TOT_CORRECTE = 'O';</div></li><li class="li1"><div class="de1">  public final static char MALA_POSICIO = 'X';</div></li><li class="li1"><div class="de1">  public final static char INCORRECTE = '-';</div></li><li class="li1"><div class="de1">  public final static String ENCERTAT = &quot;OOOOO&quot;;</div></li><li class="li1"><div class="de1">  public final int LONG_SECRET = 5;</div></li><li class="li1"><div class="de1">  public final static String abc = &quot;abcdefghijklmnopqrstuvwxyz&quot;;</div></li><li class="li1"><div class="de1"> //Mètodes associats al problema general</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    MasterMind programa = new MasterMind();</div></li><li class="li1"><div class="de1">    programa.inici();</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  public void inici() {</div></li><li class="li1"><div class="de1">    String secret = generarParaulaSecreta();</div></li><li class="li1"><div class="de1">    boolean encertat = false;</div></li><li class="li1"><div class="de1">    while (!encertat) {</div></li><li class="li1"><div class="de1">      String resposta = preguntarResposta();</div></li><li class="li1"><div class="de1">      encertat = resoldreResposta(secret, resposta);</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  //Mètodes associats al primer nivell de descomposició</div></li><li class="li1"><div class="de1">  //Paràm. entrada: cap, tot s'obté de generarLletraAleatoria</div></li><li class="li1"><div class="de1">  //Paràm. sortida: una paraula de 5 lletres (un String)</div></li><li class="li1"><div class="de1">  public String generarParaulaSecreta() {</div></li><li class="li1"><div class="de1">    String res = &quot;&quot;;</div></li><li class="li1"><div class="de1">    for (int i = 0; i &lt; LONG_SECRET; i++) {</div></li><li class="li1"><div class="de1">      res = res + generarLletraAleatoria();</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    return res;</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  //Paràm. entrada: cap, tot s'obté del teclat</div></li><li class="li1"><div class="de1">  //Paràm. sortida: la paraula de resposta (un String)</div></li><li class="li1"><div class="de1">  public String preguntarResposta() {</div></li><li class="li1"><div class="de1">    Scanner lector = new Scanner(System.in);</div></li><li class="li1"><div class="de1">    boolean lecturaOk = false;</div></li><li class="li1"><div class="de1">    String res = null;</div></li><li class="li1"><div class="de1">    do {</div></li><li class="li1"><div class="de1">      System.out.print(&quot;Escriu &quot; + LONG_SECRET + &quot; lletres minúscules: &quot;);</div></li><li class="li1"><div class="de1">      res = lector.next();</div></li><li class="li1"><div class="de1">      lector.nextLine();</div></li><li class="li1"><div class="de1">      lecturaOk = comprovarResposta(res);</div></li><li class="li1"><div class="de1">      if (!lecturaOk) {</div></li><li class="li1"><div class="de1">        System.out.println(&quot;Aquesta resposta no és vàlida!&quot;);</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">    } while (!lecturaOk);</div></li><li class="li1"><div class="de1">    return res;</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  //Paràm. entrada: la resposta i el valor secret (dos String)</div></li><li class="li1"><div class="de1">  //Paràm. sortida: si s'ha encertat (un booleà)</div></li><li class="li1"><div class="de1">  public boolean resoldreResposta(String secret, String resposta) {</div></li><li class="li1"><div class="de1">    String res = generarPista(secret, resposta);</div></li><li class="li1"><div class="de1">    boolean fi = false;</div></li><li class="li1"><div class="de1">    System.out.print(&quot;La resposta és [&quot; + res + &quot;].&quot;);</div></li><li class="li1"><div class="de1">    if (res.equals(ENCERTAT)) {</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Has encertat!&quot;);</div></li><li class="li1"><div class="de1">      fi = true;</div></li><li class="li1"><div class="de1">    } else {</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Continua intentant-ho!&quot;);</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    return fi;</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  //Mètodes associats al segon nivell de descomposició</div></li><li class="li1"><div class="de1">  //Paràm. entrada: cap</div></li><li class="li1"><div class="de1">  //Paràm. sortida: una lletra (un caràcter)</div></li><li class="li1"><div class="de1">  public char generarLletraAleatoria() {</div></li><li class="li1"><div class="de1">    long nano = System.nanoTime();</div></li><li class="li1"><div class="de1">    int index = (int)(nano % abc.length());</div></li><li class="li1"><div class="de1">    return abc.charAt(index);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  //Paràm. entrada: text a comprovar</div></li><li class="li1"><div class="de1">  //Paràm. sortida: si és correcte o no (un booleà. true = correcte)</div></li><li class="li1"><div class="de1">  public boolean comprovarResposta(String resposta) {</div></li><li class="li1"><div class="de1">    if (resposta.length() != LONG_SECRET) {</div></li><li class="li1"><div class="de1">     //Ja sabem que no és correcte.</div></li><li class="li1"><div class="de1">     //Podem acabar l'execució del mètode immediatament.</div></li><li class="li1"><div class="de1">     return false;</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    for (int i = 0; i &lt; resposta.length(); i++) {</div></li><li class="li1"><div class="de1">      char c = resposta.charAt(i);</div></li><li class="li1"><div class="de1">      if ( -1 == abc.indexOf(c)) {</div></li><li class="li1"><div class="de1">       //Ja sabem que no és correcte.</div></li><li class="li1"><div class="de1">       //Podem acabar l'execució del mètode immediatament.</div></li><li class="li1"><div class="de1">        return false;</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    //Si tot es compleix, segur que és correcte</div></li><li class="li1"><div class="de1">    return true;</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  //Paràm. entrada: la resposta i el secret que cal comparar (text)</div></li><li class="li1"><div class="de1">  //Paràm. sortida: la pista que cal mostrar (un text)</div></li><li class="li1"><div class="de1">  public String generarPista(String s, String r) {</div></li><li class="li1"><div class="de1">    String res = &quot;&quot;;</div></li><li class="li1"><div class="de1">    for (int i = 0; i &lt; s.length(); i++) {</div></li><li class="li1"><div class="de1">      char charSecret = s.charAt(i);</div></li><li class="li1"><div class="de1">      char charResposta = r.charAt(i);</div></li><li class="li1"><div class="de1">      if (charSecret == charResposta) {</div></li><li class="li1"><div class="de1">        res = res + TOT_CORRECTE;</div></li><li class="li1"><div class="de1">      } else if (s.indexOf(charResposta) != -1) {</div></li><li class="li1"><div class="de1">        res = res + MALA_POSICIO;</div></li><li class="li1"><div class="de1">      } else {</div></li><li class="li1"><div class="de1">        res = res + INCORRECTE;</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    return res;</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

</div>

<h2><a id="solucions_als_reptes_proposats" >Solucions als reptes proposats</a></h2>
<div class="level2">

<p>
<strong>Repte 1</strong>
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">public class EscriureEstrelles {</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    EscriureEstrelles programa = new EscriureEstrelles();</div></li><li class="li1"><div class="de1">    programa.inici();</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  public void inici() {</div></li><li class="li1"><div class="de1">    estrellar(4);</div></li><li class="li1"><div class="de1">    estrellar(10);</div></li><li class="li1"><div class="de1">    estrellar(20);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  //Té un paràmetre d'entrada, de tipus enter</div></li><li class="li1"><div class="de1">  public void estrellar(int a) {</div></li><li class="li1"><div class="de1">    for(int i = 0; i &lt; a; i++) {</div></li><li class="li1"><div class="de1">      System.out.print(&quot;*&quot;);</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    System.out.println();</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
<strong>Repte 2</strong>
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">//Modifiquem el valor d'un paràmetre. Afecta a la variable original?</div></li><li class="li1"><div class="de1">public class ModificarParametreString {</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    ModificarParametreString programa = new ModificarParametreString();</div></li><li class="li1"><div class="de1">    programa.inici();</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  public void inici() {</div></li><li class="li1"><div class="de1">    String i = &quot;Hola&quot;;</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Abans de cridar el mètode \&quot;i\&quot; val &quot; + i);</div></li><li class="li1"><div class="de1">    modificarParametre(i);</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Després de cridar el mètode \&quot;i\&quot; val &quot; + i);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  //Té un únic paràmetre d'entrada, de tipus enter</div></li><li class="li1"><div class="de1">  public void modificarParametre(String a) {</div></li><li class="li1"><div class="de1">    //Ara hi ha una variable &quot;a&quot; declarada.</div></li><li class="li1"><div class="de1">    //El seu valor depèn de com s'ha invocat el mètode.</div></li><li class="li1"><div class="de1">    a = &quot;Adeu&quot;;</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Hem modificat el valor a &quot; + a);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
<strong>Repte 3</strong>
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">import java.util.Scanner;</div></li><li class="li1"><div class="de1">public class LlegirReals {</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    LlegirReals programa = new LlegirReals();</div></li><li class="li1"><div class="de1">    programa.inici();</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  public void inici() {</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Llegim un real per al teclat:&quot;);</div></li><li class="li1"><div class="de1">    double a = llegirRealTeclat();</div></li><li class="li1"><div class="de1">    System.out.println(&quot;El real ha estat &quot; + a + &quot;.&quot;);</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Llegim un altre real per al teclat:&quot;);</div></li><li class="li1"><div class="de1">    a = llegirRealTeclat();</div></li><li class="li1"><div class="de1">    System.out.println(&quot;L'altre real ha estat &quot; + a + &quot;.&quot;);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  public double llegirRealTeclat() {</div></li><li class="li1"><div class="de1">    Scanner lector = new Scanner(System.in);</div></li><li class="li1"><div class="de1">    double realLlegit = 0;</div></li><li class="li1"><div class="de1">    boolean llegit = false;</div></li><li class="li1"><div class="de1">    while (!llegit) {</div></li><li class="li1"><div class="de1">      llegit = lector.hasNextDouble();</div></li><li class="li1"><div class="de1">      if (llegit) {</div></li><li class="li1"><div class="de1">        realLlegit = lector.nextDouble();</div></li><li class="li1"><div class="de1">      } else {</div></li><li class="li1"><div class="de1">        System.out.println(&quot;Això no és un enter.&quot;);</div></li><li class="li1"><div class="de1">        lector.next();</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    lector.nextLine();</div></li><li class="li1"><div class="de1">    return realLlegit;</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
<strong>Repte 4</strong>
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">public class MultipleMaxim {</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    MultipleMaxim programa = new MultipleMaxim();</div></li><li class="li1"><div class="de1">    programa.inici();</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  public void inici() {</div></li><li class="li1"><div class="de1">    int primerMinim = minim(3, 6);</div></li><li class="li1"><div class="de1">    int segonMinim = minim(10, 15);</div></li><li class="li1"><div class="de1">    int resMinim = minim(primerMinim, segonMinim);</div></li><li class="li1"><div class="de1">    System.out.println(&quot;El mínim és &quot; + resMinim);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  //Paràm. entrada: els valors a tractar són dos enters</div></li><li class="li1"><div class="de1">  //Paràm. sortida: el mínim entre els dos, un enter</div></li><li class="li1"><div class="de1">  public int minim (int a, int b) {</div></li><li class="li1"><div class="de1">    //&quot;a&quot; i &quot;b&quot; contenen els valors a tractar</div></li><li class="li1"><div class="de1">    int min = b;</div></li><li class="li1"><div class="de1">    if (a &lt; b) {</div></li><li class="li1"><div class="de1">      min = a;</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    //&quot;min&quot; conté el resultat</div></li><li class="li1"><div class="de1">    return min;</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
<strong>Repte 5</strong>
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">public class NotaFinal {</div></li><li class="li1"><div class="de1">  public static final double[] notes = {5.0, 7.5, 4.5, 3.75, 8.25};</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    NotaFinal programa = new NotaFinal();</div></li><li class="li1"><div class="de1">    programa.inici();</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  public void inici() {</div></li><li class="li1"><div class="de1">    double res = mitjana(notes);</div></li><li class="li1"><div class="de1">    String notaFinal = notaAText(res);</div></li><li class="li1"><div class="de1">    System.out.println(&quot;La nota final és &quot; + notaFinal);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  //Paràm. entrada: el valor a processar és un array de reals</div></li><li class="li1"><div class="de1">  //Paràm. sortida: el resultat de fer el càlcul, un real (té decimals)</div></li><li class="li1"><div class="de1">  public double mitjana(double[] array) {</div></li><li class="li1"><div class="de1">    //&quot;array&quot; conté el valor a tractar</div></li><li class="li1"><div class="de1">    double acumulador = 0;</div></li><li class="li1"><div class="de1">    for (int i = 0; i &lt; array.length; i++) {</div></li><li class="li1"><div class="de1">      acumulador = acumulador + array[i];</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    //El resultat és (acumulador)/(nombre elements)</div></li><li class="li1"><div class="de1">    //Es pot retornar el resultat d'una expressió</div></li><li class="li1"><div class="de1">    return acumulador/array.length;</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  //Paràm. entrada: el valor a processar és un real (una nota)</div></li><li class="li1"><div class="de1">  //Paràm. sortida: una cadena de text</div></li><li class="li1"><div class="de1">  public String notaAText(double nota) {</div></li><li class="li1"><div class="de1">    //&quot;nota&quot; conté el valor a tractar</div></li><li class="li1"><div class="de1">    String text = null;</div></li><li class="li1"><div class="de1">    if ((nota &gt;= 9)&amp;&amp;(nota &lt;= 10)) {</div></li><li class="li1"><div class="de1">      text = &quot;Excel·lent&quot;;</div></li><li class="li1"><div class="de1">    } else if ((nota &gt;= 6.5)&amp;&amp;(nota &lt; 9)) {</div></li><li class="li1"><div class="de1">      text = &quot;Notable&quot;;</div></li><li class="li1"><div class="de1">    } else if ((nota &gt;= 5)&amp;&amp;(nota &lt; 6.5)) {</div></li><li class="li1"><div class="de1">      text = &quot;Aprovat&quot;;</div></li><li class="li1"><div class="de1">    } else  if ((nota &gt;= 0)&amp;&amp;(nota &lt; 5)) {</div></li><li class="li1"><div class="de1">      text = &quot;Suspès&quot;;</div></li><li class="li1"><div class="de1">    } else {</div></li><li class="li1"><div class="de1">      text = &quot;Nota no vàlida&quot;;</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    //&quot;text&quot; conté el resultat</div></li><li class="li1"><div class="de1">    return text;</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
<strong>Repte 6</strong>
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">import java.util.Scanner;</div></li><li class="li1"><div class="de1">public class ComptaValors {</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    ComptaValors programa = new ComptaValors();</div></li><li class="li1"><div class="de1">    programa.inici();</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  public void inici() {</div></li><li class="li1"><div class="de1">    int[] valors = {1, 3, 7, 8, 5, 1, 3, 1, 5, 4};</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Introdueix un número enter:&quot;);</div></li><li class="li1"><div class="de1">    int valor = llegirEnterTeclat();</div></li><li class="li1"><div class="de1">    int res = comptaValors(valors, valor);</div></li><li class="li1"><div class="de1">    System.out.println(&quot;El valor &quot; + valor + &quot; apareix &quot; + res + &quot; cops.&quot;);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  public int llegirEnterTeclat() {</div></li><li class="li1"><div class="de1">    Scanner lector = new Scanner(System.in);</div></li><li class="li1"><div class="de1">    int enterLlegit = 0;</div></li><li class="li1"><div class="de1">    boolean llegit = false;</div></li><li class="li1"><div class="de1">    while (!llegit) {</div></li><li class="li1"><div class="de1">      llegit = lector.hasNextInt();</div></li><li class="li1"><div class="de1">      if (llegit) {</div></li><li class="li1"><div class="de1">        enterLlegit = lector.nextInt();</div></li><li class="li1"><div class="de1">      } else {</div></li><li class="li1"><div class="de1">        System.out.println(&quot;Això no és un enter.&quot;);</div></li><li class="li1"><div class="de1">        lector.next();</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    lector.nextLine();</div></li><li class="li1"><div class="de1">    return enterLlegit;</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">  public int comptaValors(int[] array, int valor) {</div></li><li class="li1"><div class="de1">    int acumulador = 0;</div></li><li class="li1"><div class="de1">    for (int i = 0; i &lt; array.length; i++) {</div></li><li class="li1"><div class="de1">      if (array[i] == valor) {</div></li><li class="li1"><div class="de1">       acumulador++;</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    return acumulador;</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

</div>

	 </article>
     <div class="pnpage">
      <div class="left-corner"></div>
      <div id="prevpage">Anar a la p&agrave;gina anterior:<br /><a href="../../../WebContent/u4/a1/annexos.html">Annexos</a></div>
      <div id="nextpage">Anar a la p&agrave;gina seg&uuml;ent:<br /><a href="../../../WebContent/u4/a2/activitats.html">Activitats</a></div>
      <div class="right-corner"></div>
     </div>
    </div>
    <footer class="footer">
      <div><small>Aquest document està subjecte a una llicència oberta de Creative Commons, es reserva el dret de reconeixement de l'autoria, d'exigir que no se'n faci cap mena d'ús comercial. Si altereu o transformeu aquesta obra, o en genereu obres derivades, només podeu distribuir l'obra generada amb una llicència idèntica a aquesta.</small></div>
    </footer>
 </div>
 <div id="back_preview" class="hidden"></div>
 <div id="preview" class="hidden">
  <div class="prevcontent"></div>
 </div>
 <div id="help-tooltips">
  <div id="help-toc" class="hidden tooltip"><span>Taula de continguts:</span> Ofereix una vista general de l&#39;estructura del m&ograve;dul, que us facilitar&agrave; la navegaci&oacute; a trav&eacute;s dels seus continguts.<span class="arrow-left"></span></div> 
  <div id="help-settings" class="hidden tooltip"><span>Opcions de format:</span> Permet configurar el format de lectura a partir de les vostres prefer&egrave;ncies, modificant la mida de la lletra, el color del fons, l&#39;amplada de la p&agrave;gina o l&#39;ocultaci&oacute; dels continguts complementaris, entre d&#39;altres.<span class="arrow-left"></span></div>
  <div id="help-printer" class="hidden tooltip"><span>Imprimir:</span>  Envia el contingut seleccionat a la impressora.<span class="arrow-left"></span></div>
  <div id="help-favorites" class="hidden tooltip"><span>Prefereits:</span> Permet desar aquelles parts del contingut a les que us interessi accedir en un moment posterior; us permetr&agrave; anar creant un repositori personalitzat de les seccions que considereu m&eacute;s rellevants. Un cop l&#39;hageu començat a fer servir se us mostrar&agrave; a sota un comptador que us informar&agrave; del nombre de preferits que s&#39;hagin emmagatzemat fins al moment.<span class="arrow-left"></span></div>
  <div id="help-favcounter" class="hidden tooltip"><span>Comptador i llistat de preferits:</span> Indica el nombre de preferits que s&#39;han desat fins el moment; clicant damunt seu accedireu al llistat de preferits, i a trav&eacute;s d&#39;aquest podreu accedir directament als continguts que hageu emmagatzemat.<span class="arrow-left"></span></div>
  <div id="help-help_icon" class="hidden tooltip"><span>Ajuda:</span> Aquesta opci&oacute; activa la informaci&oacute; de les funcionalitats del web tot situant el punter del ratol&iacute; al damunt dels diferents &iacute;tems.<span class="arrow-left"></span></div>
  <div id="help-sidebar-hide" class="hidden tooltip"><span>Mostrar/Ocultar barra lateral:</span>  Deshabilita la barra d&#39;opcions, permetent la seva recuperaci&oacute; quan es desitgi.<span class="arrow-left"></span></div>
  <div id="help-search" class="hidden tooltip"><span>Cerca:</span>  Introdu&iuml;u les paraules clau sobre aquells conceptes que desitgeu localitzar en els continguts del m&ograve;dul. Tamb&eacute; podeu excloure un terme de la cerca tot afegint-hi el signe &#8220;-&#8221; al davant.<span class="arrow-top"></span></div>
  <div id="help-header" class="hidden tooltip"><span>Cap&ccedil;alera:</span>  Indica l&#39;apartat o secci&oacute; que es mostra en pantalla. Tingueu present que les capçaleres de segon, tercer i quart nivell tamb&eacute; es poden desar com a marcadors.<span class="arrow-left"></span></div>
</div> 
</body>
</html>
