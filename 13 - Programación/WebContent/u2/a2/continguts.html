<!doctype html>

<!--[if lt IE 7 ]> <html class="ie ie6 no-js" lang="ca"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie ie7 no-js" lang="ca"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie ie8 no-js" lang="ca"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie ie9 no-js" lang="ca"> <![endif]-->
<!--[if gt IE 9]><!--><html class="no-js" lang="ca"><!--<![endif]-->
<!-- the "no-js" class is for Modernizr. -->

<head id="www-sitename-com" data-template-set="html5-reset">

	<meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html">
        
	<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>Programació bàsica (ASX) \ Programació (DAM i DAW)</title>
	
<!-- <meta name="title" content=""> --> 
	<meta name="description" content="">
	<!-- Google will often use this as its description of your page/site. Make it good. -->
	
	<meta name="google-site-verification" content="">
	<!-- Speaking of Google, don't forget to set your site up: http://google.com/webmasters -->
	
	<meta name="author" content="Institut Obert de Catalunya">
	<meta name="Copyright" content="Copyright Institut Obert de Catalunya 2011. All Rights Reserved.">

	<!-- Dublin Core Metadata : http://dublincore.org/ -->
	<meta name="DC.title" content="Programació bàsica (ASX) \ Programació (DAM i DAW)">
	<meta name="DC.subject" content="Informàtica i comunicacions">
	<meta name="DC.creator" content="Institut Obert de Catalunya">
	
	<!--  Mobile Viewport Fix
	j.mp/mobileviewport & davidbcalhoun.com/2010/viewport-metatag 
	device-width : Occupy full width of the screen in its current orientation
	initial-scale = 1.0 retains dimensions instead of zooming out if page height > device height
	maximum-scale = 1.0 retains dimensions instead of zooming in if page width < device width
	-->
	<!-- Uncomment to use � use thoughtfully!
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	-->

	<link rel="shortcut icon" href="../../../img/favicon.ico">
	<!-- This is the traditional favicon.
		 - size: 16x16 or 32x32
		 - transparency is OK
		 - see wikipedia for info on browser support: http://mky.be/favicon/ -->
		 
	<link rel="apple-touch-icon" href="../../../img/apple-touch-icon.png">
	<!-- The is the icon for iOS's Web Clip.
		 - size: 57x57 for older iPhones, 72x72 for iPads, 114x114 for iPhone4's retina display (IMHO, just go ahead and use the biggest one)
		 - To prevent iOS from applying its styles to the icon name it thusly: apple-touch-icon-precomposed.png
		 - Transparency is not recommended (iOS will put a black BG behind the icon) -->
	
	<!-- CSS: screen, mobile & print are all in the same file -->
	<link rel="stylesheet" href="../../../_/css/style.css">

	<!-- CSS: jQuery UI -->
	<link rel="stylesheet" href="../../../_/css/jquery-ui.css">
	
	<!-- all our JS is at the bottom of the page, except for Modernizr. -->
	<script src="../../../_/js/modernizr-1.7.min.js"></script>
	<script src="../../../_/js/Hyphenator.js" type="text/javascript"></script>
	<script type="text/javascript">
	   Hyphenator.config({
		minwordlength : 4
	   });
	   Hyphenator.run();
	</script>
    <script src="../../../_/js/build.js" type="text/javascript"></script>
</head>

<body class="style-newspaper">

<div class="wrapper"><!-- not needed? up to you: http://camendesign.com/code/developpeurs_sans_frontieres -->

	<header id="header">
		<div class="head"><a href="http://ioc.gencat.cat"><img src="../../../img/logo.png" alt="Institut Obert de Catalunya"/></a><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/es/deed.ca"><img src="../../../img/license.png" alt="Llic&egrave;ncia" class="license"/></a></div>
		<div class="headdocument"><a href="../../../index.html">Programació bàsica (ASX) \ Programació (DAM i DAW)</a></div>
        <div id="search" class="search" name="search">
         <form id="frmsearch" action="../../../search.html" method="get">
          <input type="text" name="q"/>
        </form>
        </div>
	</header>
   <div id="upbutton" class="upbutton" style="display:none;"><img src="../../../img/uparrow.png" alt="Pujar a l'inici de p&agrave;gina"/></div>
   <aside id="aside">
    <div id="menu">
      <ul>
       <li name="toc"><div><img src="../../../img/toc.png" alt="&Iacute;ndex"/></div></li>
       <li name="settings"><div><img src="../../../img/settings.png" alt="Configuraci&oacute;"/></div></li>
       <li name="printer"><div><img src="../../../img/printer.png" alt="Imprimir"/></div></li>
       <li name="favorites"><div><img src="../../../img/favorites.png" alt="Favorits"/></div></li>
       <li name="help_icon" class="help_icon"><div><img src="../../../img/help_icon.png" alt="Ajuda"/></div></li>
      </ul>
     </div>
   </aside>
   <div id="sidebar-hide" name="sidebar-hide"><img src="../../../img/arrows.png"/></div>
   <section>
     <div id="toc" class="hidden">
      <div class="menucontent">
        <ul>
        <li id="u2" class="parentnode"><p><a class="unit" href="../../../WebContent/u2/introduccio.html">2. Programació estructurada</a></p><ul class="expander"><li id="u2introduccio"><a href="../../../WebContent/u2/introduccio.html">Introducció</a></li><li id="u2resum"><a href="../../../WebContent/u2/resum.html">Resum</a></li><li id="u2resultats_d_aprenentatge"><a href="../../../WebContent/u2/resultats_d_aprenentatge.html">Resultats d'aprenentatge</a></li><li id="u2mapa"><a href="../../../WebContent/u2/mapa.html">Mapa conceptual</a></li><li id="u2referencies"><a href="../../../WebContent/u2/referencies.html">Referències</a></li><li id="u2a1" class="tocsection"><p id='u2a1continguts'><a class="section" href="../../../WebContent/u2/a1/continguts.html">Algorismes</a><span class="buttonexp"></span></p><ul><li id="u2a1activitats"><a href="../../../WebContent/u2/a1/activitats.html">Activitats</a></li><li id="u2a1exercicis"><a href="../../../WebContent/u2/a1/exercicis.html">Exercicis d'autoavaluació</a></li><li id="u2a1annexos"><a href="../../../WebContent/u2/a1/annexos.html">Annexos</a></li></ul></li><div data-parent-id='u2a1' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u2/a1/continguts.html#definicio_del_problema">Definició del problema</a></li><li><a href="../../../WebContent/u2/a1/continguts.html#disseny_de_l_algorisme">Disseny de l’algorisme</a></li><li><a href="../../../WebContent/u2/a1/continguts.html#implementacio_del_programa">Implementació del programa</a></li><li><a href="../../../WebContent/u2/a1/continguts.html#verificacio_i_proves">Verificació i proves</a></li><li><a href="../../../WebContent/u2/a1/continguts.html#posada_en_marxa_i_manteniment">Posada en marxa i manteniment</a></li></ul></div></div><li id="u2a2" class="tocsection"><p id='u2a2continguts'><a class="section" href="../../../WebContent/u2/a2/continguts.html">Estructures de selecció</a><span class="buttonexp"></span></p><ul><li id="u2a2activitats"><a href="../../../WebContent/u2/a2/activitats.html">Activitats</a></li><li id="u2a2exercicis"><a href="../../../WebContent/u2/a2/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u2a2' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u2/a2/continguts.html#una_desviacio_temporal_del_camiseleccio_simple">Una desviació temporal del camí: selecció simple</a></li><li><a href="../../../WebContent/u2/a2/continguts.html#dos_camins_alternatiusla_sentencia_if_else">Dos camins alternatius: la sentència ''if/else''</a></li><li><a href="../../../WebContent/u2/a2/continguts.html#diversos_caminsla_sentencia_if_else_if_else">Diversos camins: la sentència ''if/else if/else''</a></li><li><a href="../../../WebContent/u2/a2/continguts.html#combinacio_d_estructures_de_seleccio">Combinació d'estructures de selecció</a></li><li><a href="../../../WebContent/u2/a2/continguts.html#el_commutadorla_sentencia_switch">El commutador: la sentència ''switch''</a></li><li><a href="../../../WebContent/u2/a2/continguts.html#control_d_errors_en_l_entrada_basica_mitjancant_estructures_de_seleccio">Control d'errors en l'entrada bàsica mitjançant estructures de selecció</a></li><li><a href="../../../WebContent/u2/a2/continguts.html#solucions_dels_reptes_proposats">Solucions dels reptes proposats</a></li></ul></div></div><li id="u2a3" class="tocsection"><p id='u2a3continguts'><a class="section" href="../../../WebContent/u2/a3/continguts.html">Estructures de repetició</a><span class="buttonexp"></span></p><ul><li id="u2a3activitats"><a href="../../../WebContent/u2/a3/activitats.html">Activitats</a></li><li id="u2a3exercicis"><a href="../../../WebContent/u2/a3/exercicis.html">Exercicis d'autoavaluació</a></li><li id="u2a3annexos"><a href="../../../WebContent/u2/a3/annexos.html">Annexos</a></li></ul></li><div data-parent-id='u2a3' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u2/a3/continguts.html#control_de_les_estructures_repetitives">Control de les estructures repetitives</a></li><li><a href="../../../WebContent/u2/a3/continguts.html#repetir_si_es_compleix_una_condiciola_sentencia_while">Repetir si es compleix una condició: la sentència ''while''</a></li><li><a href="../../../WebContent/u2/a3/continguts.html#repetir_almenys_un_copla_sentencia_do_while">Repetir almenys un cop: la sentència ''do/while''</a></li><li><a href="../../../WebContent/u2/a3/continguts.html#repetir_un_cert_nombre_de_vegadesla_sentencia_for">Repetir un cert nombre de vegades: la sentència ''for''</a></li><li><a href="../../../WebContent/u2/a3/continguts.html#combinacio_d_estructures_de_seleccio">Combinació d'estructures de selecció</a></li><li><a href="../../../WebContent/u2/a3/continguts.html#solucions_dels_reptes_proposats">Solucions dels reptes proposats</a></li></ul></div></div></ul></li><li id="" class="indexnode"><p><a href="../../../index.html">Anar a l&#39;&iacute;ndex general</a></p></li>
        </ul>
      </div>
    </div>
   </section>
   <section>
   <div id="settings" class="hidden">
    <div class="menucontent">
     <div class="allsettings">
     <div class="settings">
      <label>Font i Color</label>
		<div class="setting-option">
	        <ul class="fontBackground">
				<li id="style-newspaper" title="Newspaper" class="appearance-style-newspaper"><span>Newspaper</span></li>
                <li id="style-novel" title="Novel" class="appearance-style-novel"><span>Novel</span></li>
                <li id="style-ebook" title="eBook" class="appearance-style-ebook"><span>eBook</span></li>
				<li id="style-inverse" title="Inverse" class="appearance-style-inverse active"><span>Inverse</span></li>
				<li id="style-athelas" title="Athelas" class="appearance-style-athelas"><span>Athelas</span></li>
			</ul>
		</div>
     </div>
	<div class="settings">
      <label>Amplada</label>
		<div class="setting-option">
	        <div id="slider-width"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
		<div class="setting-option">
	        <div id="slider-font"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
	  <div class="setting-option">
       <form action="" class="sett-options">
		<ul>
		    <li><input type="checkbox" id="secondary-content" /><label for="secondary-content">Mostra recursos complementaris</label></li>
		    <li><input type="checkbox" id="main-images" /><label for="main-images">Mostra imatges</label></li>
		    <li><input type="checkbox" id="text-alignment" /><label for="text-alignment">Text justificat</label></li>
			<li><input type="checkbox" id="text-hyphen" /><label for="text-hyphen">Partici&oacute; sil·l&agrave;bica</label></li>
		</ul>
       </form>
	  </div>
     </div>
     </div>
    </div>
   </div>
   </section>
 <section>
 <div id="favorites" class="hidden"></div>
 </section>   
 <div id="bridge" class="hidden"></div>
 <div id="help" class="hidden">
  <div class="helptitle">Dreceres del teclat<hr></div>
  <div class="helpsection"><span>General</span>
   <ul>
    <li><span class="shortcut">g</span>: Anar al men&uacute; de navegaci&oacute;</li>
    <li><span class="shortcut">o</span>: Anar a opcions</li>
    <li><span class="shortcut">s</span>: Guardar la p&agrave;gina actual a favorits</li>
    <li><span class="shortcut">p</span>: Imprimir la p&agrave;gina actual</li>
    <li><span class="shortcut">?</span>: Mostrar/Ocultar l&#39;ajuda</li>
   </ul>
  </div>
  <div class="helpsection"><span>Navegaci&oacute;</span>
   <ul>
    <li><span class="shortcut">i</span>: Anar a l&#39;&iacute;ndex general</li>
    <li><span class="shortcut">t</span>: Anar a l&#39;inici de p&agrave;gina</li>
    <li><span class="shortcut">b</span>: Anar al final de p&agrave;gina</li>
    <li><span class="shortcut">j</span>: Anar cap endavant dintre la p&agrave;gina</li>
    <li><span class="shortcut">k</span>: Anar cap enrere dintre la p&agrave;gina</li>
    <li><span class="shortcut">h</span>: Anar a la p&agrave;gina anterior:</li>
    <li><span class="shortcut">l</span>: Anar a la p&agrave;gina seg&uuml;ent:</li>
   </ul>
   </div>
 </div>
 <div id="favcounter" name="favcounter" class="hidden"><span></span></div>
 <div id="navmenu" class="navmenu"><ul class="webnav"><li><a href="../../../index.html" title="Anar a l&#39;&iacute;ndex general">Inici</a></li><li><a href="../introduccio.html">Programació estructurada</a></li><li>Estructures de selecció</li></ul></div>
	<div id="content" lang="ca" class="hyphenate text">
     <article lang="ca" class="sheet">
        <h1><a id="estructures_de_seleccio"> Estructures de selecció </a></h1>
    	
<p>
Entre els diferents tipus d’estructures de control que permeten establir el flux de control d’un programa, les més fàcils d’entendre són aquelles que creen bifurcacions o camins alternatius, de manera que, segons les circumstàncies, s’executi un conjunt d’instruccions o un altre. D’aquesta manera, donades diferents execucions d’un mateix codi font, part de les instruccions que s’executen poden ser diferents per a cada cas.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Les <strong>estructures de selecció</strong> permeten prendre decisions sobre quin conjunt d’instruccions cal executar en un punt del programa. O sigui, seleccionar quin codi s’executa en un moment determinat entre camins alternatius.
</p>
</div></div>
<p>
Tota estructura de selecció es basa en l’avaluació d’una expressió que ha de donar un resultat booleà: <code>true</code> (cert) o <code>false</code> (fals). Aquesta expressió s’anomena la <strong>condició lògica</strong> de l’estructura.
</p>

<p>
El conjunt d’instruccions que s’executarà dependrà del resultat de la condició lògica, i actuarà com una mena d’interruptor que marca el flux que cal seguir dins del programa. Normalment, aquesta condició lògica es basa en part, o en la seva totalitat, en valors emmagatzemats en variables amb un valor que pot ser diferent per a diferents execucions del programa. En cas contrari, no té sentit usar una estructura de selecció, ja que mentre s’està escrivint el programa ja es pot predir quin serà el resultat de l’expressió. Per tant, com que sempre serà el mateix, sempre s’executaran les mateixes instruccions sense que hi hagi cap bifurcació possible.
</p>

<p>
Hi ha diferents models de fluxos alternatius a l’hora d’executar instruccions, tot i que per a tots s’usa la mateixa família de sentències i una estructura similar en el codi font. Per tant, tots els aspectes destacats per a un dels models s’apliquen també a tots els altres. També cal dir que, si bé els exemples i la sintaxi descrita en aquest mòdul se centren en el llenguatge Java, la majoria de les estructures de selecció descrites són compartides amb els altres llenguatges de programació, per la qual cosa el concepte general és aplicable més enllà del Java. Només caldrà que cerqueu a la documentació la sintaxi específica per al llenguatge triat.
</p>

<h2><a id="una_desviacio_temporal_del_camiseleccio_simple" >Una desviació temporal del camí: selecció simple</a></h2>
<div class="level2">

<p>
El cas més simple dins de les estructures de selecció és aquell en què hi ha un conjunt o bloc d’instruccions que només voleu que s’executin sota unes circumstàncies concretes. En cas contrari, aquest bloc és ignorat i, des del punt de vista de l’execució del programa, és com si no existís. Un exemple seria el programa d’una botiga virtual que aplica un descompte al preu final d’acord amb un cert criteri (per exemple, si la compra total és com a mínim de 100 €). En aquest cas, hi ha un conjunt d’instruccions, les que apliquen el descompte, que només s’executen quan es compleix la condició. En cas contrari, s’ignoren i el preu final és el mateix que l’original.
</p>

<p>
<div class="iocfigurec">
<ul>
<li>
<img src="../media/ic10mu2_03.png" class="imgB" title=" La selecció simple, una desviació temporal en el camí d&#039;instruccions. Imatge de Wikimedia Commons/-30" alt=" La selecció simple, una desviació temporal en el camí d&#039;instruccions. Imatge de Wikimedia Commons/-30" /></li><li><small> La selecció simple, una desviació temporal en el camí d&#039;instruccions. Imatge de Wikimedia Commons</small></li>
</ul></div>

</p>
<div class="iocimportant"><div class="ioccontent">
<p>
L’estructura de <strong>selecció simple</strong> permet controlar el fet que s’executi un conjunt d’instruccions si i només si es compleix la condició lògica (és a dir, el resultat d’avaluar la condició lògica és igual a <code>true</code>). En cas contrari, no s’executen.
</p>
</div></div>
</div>

<h3><a id="sintaxi_i_comportament" >Sintaxi i comportament</a></h3>
<div class="level3">

<p>
Per dur a terme aquest tipus de control sobre les instruccions del programa, cal usar una sentència <code>if</code> (<em>si…</em>). En el cas del Java, la sintaxi és la següent:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">instruccions del programa</div></li><li class="li1"><div class="de1">if (expressió booleana) {</div></li><li class="li1"><div class="de1">  Instruccions per executar si l'expressió avalua a true (cert) - Bloc if</div></li><li class="li1"><div class="de1">} </div></li><li class="li1"><div class="de1">resta d'instruccions del programa</div></li></ol></pre>

<p>
Si entre els parèntesis es posa una expressió que no avalua un resultat de tipus booleà, hi haurà un error de compilació.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">if</p>
<p>
El nom de la sentència <code>if</code> bàsicament diu: “Si es compleix certa condició, fes això…”.
</p>
</div></div>
<p>
La <span class="figref"><a href="#Figure2"><span>figura</span></a></span> mostra un diagrama del flux de control d’aquesta sentència, que estableix els diferents blocs d’instruccions que s’executen en cada cas, depenent del resultat d’avaluar l’expressió booleana.
</p>
<div class="iocfigure"><a name="Figure2"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Diagrama de flux de control per a una selecció simple

</figcaption><img src="../media/ic10mu2_04.png" alt="" /></figure>
</div><div class="iocimportant"><div class="ioccontent">
<p>
Un diagrama de <strong>flux de control</strong> consisteix en una subdivisió de passes seqüencials, d’acord amb les sentències i estructures de control d’un programa, que mostra els diferents camins que pot seguir el programa a l’hora d’executar les instruccions. Cada passa s’associa amb una figura geomètrica específica.
</p>
</div></div>
<p>
A partir d’ara, per esquematitzar el funcionament de les estructures de control s’usarà aquesta mena de diagrames. Només l’usarem per aclarir-ne el funcionament, de manera que no s’explicarà amb detall tot el conjunt de símbols que es poden usar. A l’hora d’usar-los, tampoc no se seguirà el format fins al darrer detall. És suficient que disposeu d’uns esquemes senzills que serveixin per donar-vos una idea clara del flux de control del programa per a cada estructura usada de manera visual.
</p>
<div class="iocnote"><div class="ioccontent">
<p>
Una possible bifurcació en el camí d’un flux de control s’indica amb un rombe que conté una expressió per avaluar.
</p>
</div></div>
</div>

<h3><a id="exemplecalcular_un_descompte" >Exemple: calcular un descompte</a></h3>
<div class="level3">

<p>
Es vol fer un programa que apliqui un descompte a un preu depenent del seu valor. Per veure clarament que hi ha diferents camins dins de les instruccions, primer de tot establirem quines són les tasques que ha de fer el programa i en quin ordre.
</p>
<div class="iocnote"><div class="ioccontent">
<p>
Recordeu que pot ser que Java llegeixi els enters introduïts per teclat amb els decimals indicats amb coma, i no punt, segons la configuració local.
</p>
</div></div>
<p>
El programa hauria de fer:
</p>
<ol>
<li class="level1"><div class="li"> Decidir quin és el valor mínim per optar al descompte i quant es descomptarà.</div>
</li>
<li class="level1"><div class="li"> Demanar que s’introdueixi el preu inicial, en euros, pel teclat.</div>
</li>
<li class="level1"><div class="li"> Llegir-lo.</div>
</li>
<li class="level1"><div class="li"> Veure si el preu introduït és igual o major que el valor mínim per optar al descompte.</div>
<ol>
<li class="level2"><div class="li"> Si és així, s’aplica el descompte sobre el preu inicial.</div>
</li>
</ol>
</li>
<li class="level1"><div class="li"> Mostrar el preu final.</div>
</li>
</ol>

<p>
En el pas 4 es pot observar que cal prendre una decisió d’acord amb una condició i que alguna de les tasques només es fa si aquesta es compleix (el pas I). Per tant, queda establert que cal una estructura de selecció simple. Partint d’aquí, un possible codi font que correspondria a aquest esquema seria el següent. Observeu quines instruccions es corresponen a cadascuna de les passes descrites.
</p>

<p>
Tot seguit es mostra el codi font que du a terme aquestes tasques. Compileu-lo, executeu-lo i observeu com el resultat final mostrat per pantalla és diferent segons el valor que introduïu pel teclat.
</p>

<p>

</p>
<pre class="code java"><ol><li class="li1"><div class="de1">import java.util.Scanner;</div></li><li class="li1"><div class="de1">//Un programa que calcula descomptes.</div></li><li class="li1"><div class="de1">public class Descompte {</div></li><li class="li1"><div class="de1">  //PAS 1</div></li><li class="li1"><div class="de1">  //Es fa un descompte del 8%.</div></li><li class="li1"><div class="de1">  public static final float DESCOMPTE = 8;</div></li><li class="li1"><div class="de1">  //Es fa descompte per compres d'un mínim de 100 euros.</div></li><li class="li1"><div class="de1">  public static final float COMPRA_MIN = 100;</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    Scanner lector = new Scanner(System.in);</div></li><li class="li1"><div class="de1">    //PAS 2 i 3</div></li><li class="li1"><div class="de1">    System.out.print(&quot;Quin és el preu del producte, en euros? &quot;);</div></li><li class="li1"><div class="de1">    float preu = lector.nextFloat();</div></li><li class="li1"><div class="de1">    lector.nextLine();</div></li><li class="li1"><div class="de1">    //PAS 4</div></li><li class="li1"><div class="de1">    //Estructura de selecció simple.</div></li><li class="li1"><div class="de1">    //Si l'expressió avalua true, executa el bloc dins l'if.</div></li><li class="li1"><div class="de1">    //En cas contrari, ignora'l.</div></li><li class="li1"><div class="de1">    if (preu &gt;= COMPRA_MIN) {</div></li><li class="li1"><div class="de1">      //PAS I</div></li><li class="li1"><div class="de1">      float descompteFet = preu * DESCOMPTE / 100; </div></li><li class="li1"><div class="de1">      preu = preu - descompteFet;</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    //PAS 5</div></li><li class="li1"><div class="de1">    System.out.println(&quot;El preu final per pagar és de &quot; + preu + &quot; euros.&quot;);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
A la <span class="figref"><a href="#Figure3"><span>figura</span></a></span> es representa el diagrama de flux de control d’aquest programa en concret. A la figura es visualitza a quina part del diagrama correspon cada part del codi. 
</p>
<div class="iocfigure"><a name="Figure3"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Diagrama de flux de control per al programa de càlcul d’un descompte

</figcaption><img src="../media/ic10mu2_05.png" alt="" /></figure>
</div>
<p>
<strong>Repte 1:</strong> modifiqueu el programa perquè, en lloc de fer un descompte del 8% si la compra és de 100 € o més, apliqui una penalització de 2 € si el preu és inferior a 30 €.
</p>

</div>

<h3><a id="aspectes_importants_de_la_seleccio_simple" >Aspectes importants de la selecció simple</a></h3>
<div class="level3">

<p>
La introducció d’estructures de selecció en un programa complica la sintaxi del codi font, per la qual cosa cal ser molt acurat a l’hora d’escriure una sentència <code>if</code>. Si no ho feu, o bé el compilador donarà error, o bé el programa no es comportarà correctament, i haureu de repassar el codi font per veure on és l’error. Cal dir que el segon cas acostuma a ser molt més empipador que el primer. Per tant, val la pena fer un repàs dels aspectes més rellevants de la selecció simple. Aquestes qüestions afecten en una mesura o altra totes les estructures de selecció.
</p>
<ul>
<li class="level1"><div class="li"> L’expressió booleana que denota la condició lògica pot ser tan complexa com es vulgui, però ha d’estar sempre entre parèntesis.</div>
</li>
<li class="level1"><div class="li"> Les instruccions que cal executar si la condició és certa estan englobades entre dues claus (<code>{</code>, <code>}</code>). Aquest conjunt es considera un bloc d’instruccions associat a la sentència <code>if</code> (<em>bloc <code>if</code></em>).</div>
</li>
<li class="level1"><div class="li"> La línia on hi ha les claus o la condició no acaba mai en punt i coma (<code>;</code>), al contrari que altres instruccions.</div>
</li>
<li class="level1"><div class="li"> Tot i que no és imprescindible, és un bon costum que les instruccions del bloc estiguin sagnades.</div>
</li>
</ul>

<p>
Vist això, val la pena remarcar que amb la introducció d’estructures de selecció simple també apareix per primer cop codi font amb diferents blocs d’instruccions: el del mètode principal i els associats a la sentència <code>if</code>. La principal característica d’aquest fet és que la relació entre blocs és jeràrquica: tots els nous blocs d’instruccions són subblocs del mètode principal. La <span class="figref"><a href="#Figure4"><span>figura</span></a></span> mostra els diferents blocs existents en l’exemple.
</p>
<div class="iocfigure"><a name="Figure4"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Blocs d’instruccions en el programa d’exemple

</figcaption><img src="../media/ic10mu2_06.png" alt="" /></figure>
</div>
<p>
Com anireu veient, aquesta circumstància es repetirà en totes les estructures de control d’un programa. Per això heu de tenir molt clar on comença i acaba cada bloc, i quins blocs són subblocs d’un altre.
</p>

<p>
També val la pena fer èmfasi que, quan s’usin estructures que delimiten blocs d’instruccions diferents, identificats per estar escrits entre claus (<code>{</code>, <code>}</code>), és important sagnar cada línia. D’aquesta manera, es facilita la llegibilitat del codi font i la identificació de cada bloc d’instruccions. Si us hi fixeu, veureu que, de fet, això ja s’havia aplicat fins ara a les instruccions dins del mètode principal (també delimitades per claus), respecte a la declaració d’inici de la classe. Totes les instruccions del mètode principal estan sagnades respecte al marge de la declaració del mètode principal.
</p>

<p>
A mode de resum, la <span class="tabref"><a href="#Table1"><span>taula</span></a></span> mostra una petita llista d’errors típics que es poden cometre en usar una sentència <code>if</code>.
</p>
<div class="ioctable ">
<div class="titletable"><a name="Table1"><span>Taula: </span></a>Errors típics en usar una sentència <code>if</code></div>
<div class="table"><table class="inline">
	<tr class="row0">
		<th class="col0">Missatge d’error en compilar </th><th class="col1">Error comès </th><th class="col2">Exemple </th>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign"> ’(&#039; expected     </td><td class="col1"> Expressió no envoltada de parèntesis </td><td class="col2"> <code>if preu &gt;= COMPRA_MIN) { </code></td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> ’;’ expected     </td><td class="col1"> Falta <code>;</code> en alguna instrucció del bloc <code>if</code> </td><td class="col2"> <code>preu = preu - descompteFet</code> </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> Sempre executa bloc <code>if</code>    </td><td class="col1"> S’ha posat <code>;</code> a la sentència <code>if</code> </td><td class="col2"> <code>if (preu &gt;= COMPRA_MIN); {</code> </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> Només fa condicionalment la primera <br/>
instrucció del bloc <code>if</code>, <br/>
la resta les fa sempre    </td><td class="col1"> Falten les claus que han d’envoltar el bloc, <code>{…}</code> </td><td class="col2"> <code>if (preu &gt;= COMPRA_MIN) </code> </td>
	</tr>
</table></div>
</div>
<p>
Vinculat al darrer error, cal esmentar que quan el bloc <code>if</code> només té una única instrucció, l’ús de claus és opcional. De totes maneres, és molt recomanable usar-les sempre, independentment d’aquest fet. Això facilita la identificació del bloc de codi associat a la sentència <code>if</code> quan s’està llegint el codi font.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">if (preu &gt;= COMPRA_MIN)</div></li><li class="li1"><div class="de1">  preu = preu - (preu * DESCOMPTE / 100);</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">és equivalent a</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">if (preu &gt;= COMPRA_MIN) {</div></li><li class="li1"><div class="de1">  preu = preu - (preu * DESCOMPTE / 100);</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
Ara bé, alerta!
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">if (preu &gt;= COMPRA_MIN)</div></li><li class="li1"><div class="de1">  float descompteFet = preu * DESCOMPTE / 100; </div></li><li class="li1"><div class="de1">  preu = preu - descompteFet;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">és equivalent a (fixeu-vos on estan ubicades les claus)</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">if (preu &gt;= COMPRA_MIN) {</div></li><li class="li1"><div class="de1">  float descompteFet = preu * DESCOMPTE / 100; </div></li><li class="li1"><div class="de1">}</div></li><li class="li1"><div class="de1">preu = preu - descompteFet;</div></li></ol></pre>

</div>

<h2><a id="dos_camins_alternatiusla_sentencia_if_else" >Dos camins alternatius: la sentència &#039;&#039;if/else&#039;&#039;</a></h2>
<div class="level2">

<p>
<div class="iocfigurec">
<ul>
<li>
<img src="../media/ic10mu2_07.png" class="imgB" title="La selecció doble, una bifurcació en el camí. Imatge de Wikimedia Commons" alt="La selecció doble, una bifurcació en el camí. Imatge de Wikimedia Commons" /></li><li><small>La selecció doble, una bifurcació en el camí. Imatge de Wikimedia Commons</small></li>
</ul></div>

</p>

<p>
Suposeu que ara voleu fer un programa en què s’ha d’intentar endevinar un nombre entre 1 i 10. En aquest cas, i a diferència de l’anterior, ara hi ha dos escenaris excloents: o s’ha endevinat el nombre, o no s’ha endevinat. Segons de quin cas es tracti, la resposta del programa ha de ser diferent. Per tant, a més a més de codi comú per a qualsevol cas i d’un bloc que especifiqui les accions per dur a terme si es compleix la condició, ara en cal un altre que indiqui què cal fer només en cas contrari. Per poder fer això tenim l’estructura de selecció doble, la sentència <code>if/else</code> (si… si no…).
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
L’estructura de <strong>selecció doble</strong> permet controlar el fet que s’executi un conjunt d’instruccions, només si es compleix la condició lògica, i que se n’executi un altre, només si no es compleix la condició lògica/ Imatge de Wikimedia Commons
</p>
</div></div>
<p>
És important recordar que els dos blocs de codi són excloents. Mai no pot passar que tots dos s’acabin executant.
</p>

</div>

<h3><a id="sintaxi_i_comportament1" >Sintaxi i comportament</a></h3>
<div class="level3">

<p>
Per dur a terme aquest tipus de control sobre les instruccions del programa, cal usar una sentència <code>if/else</code> (<em>si… si no…</em>). En el llenguatge Java, la sintaxi és la següent:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">if (expressió booleana) {</div></li><li class="li1"><div class="de1">  Instruccions per executar si l'expressió l'avalua a true (cert) - Bloc if</div></li><li class="li1"><div class="de1">} else {</div></li><li class="li1"><div class="de1">  Instruccions alternatives per executar si l'expressió l'avalua a false (fals) - Bloc else</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
El bloc <code>if</code> té exactament les mateixes característiques que quan s’usa en una estructura de selecció simple. Aquestes es compleixen també per al cas del bloc <code>else</code>, amb la particularitat que no té cap expressió assignada. Simplement, quan la condició lògica de la sentència <code>if</code> no es compleix s’executen les instruccions del bloc <code>else</code>. La <span class="figref"><a href="#Figure5"><span>figura</span></a></span> en mostra el diagrama del flux de control a escala genèrica.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">if/else</p>
<p>
La sentència <code>if/else</code> bàsicament diu: “Si es compleix certa condició, fes això… i si no, això altre…”.
</p>
</div></div><div class="iocfigure"><a name="Figure5"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Diagrama de flux de control d’una selecció doble

</figcaption><img src="../media/ic10mu2_08.png" alt="" /></figure>
</div>
<p>
Si per algun motiu no es posa cap instrucció dins del bloc <code>else</code> i es deixa un espai buit entre les dues claus, la selecció doble es comporta igual que la selecció simple. En aquest cas, és millor usar només la sentència <code>if</code> en lloc de <code>if/else</code>.
</p>

</div>

<h3><a id="exempleendevina_el_nombre_secret" >Exemple: endevina el nombre secret</a></h3>
<div class="level3">

<p>
Un possible codi d’un programa en què s’intenta endevinar un nombre serveix per mostrar amb més claredat com es pot usar una sentència <code>if/else</code>. Novament, abans de veure’l val la pena reflexionar sobre quines són les tasques que hauria de fer el programa i en quin ordre.
</p>

<p>
Bàsicament, el programa ha de fer:
</p>
<ol>
<li class="level1"><div class="li"> Decidir quin serà el nombre per endevinar.</div>
</li>
<li class="level1"><div class="li"> Demanar que s’introdueixi un nombre pel teclat.</div>
</li>
<li class="level1"><div class="li"> Llegir-lo.</div>
</li>
<li class="level1"><div class="li"> Veure si el nombre introduït és igual al valor secret:</div>
<ol>
<li class="level2"><div class="li"> Si és igual que el nombre pensat, informa que s’ha encertat.</div>
</li>
<li class="level2"><div class="li"> Si no, informa que s’ha fallat.</div>
</li>
</ol>
</li>
</ol>

<p>
Queda clar que en el pas 4 cal prendre una decisió d’acord amb una condició. El programa haurà d’emprendre dues vies d’acció diferents segons si la condició es compleix o no. Per tant, cal una estructura de selecció doble. Partint d’aquí, un possible codi font que correspondria a aquest esquema seria el següent. De nou, observeu quines instruccions es corresponen a cadascun dels passos descrits. Compileu-lo i executeu-lo per veure com funciona.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">import java.util.Scanner;</div></li><li class="li1"><div class="de1">//Un programa en què cal endevinar un nombre.</div></li><li class="li1"><div class="de1">public class Endevina {</div></li><li class="li1"><div class="de1">  //PAS 1</div></li><li class="li1"><div class="de1">  //El nombre per endevinar serà el 4.</div></li><li class="li1"><div class="de1">  public static final int VALOR_SECRET = 4;  </div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    Scanner lector = new Scanner(System.in);</div></li><li class="li1"><div class="de1">    //PAS 2 i 3</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Comencem el joc.&quot;);</div></li><li class="li1"><div class="de1">    System.out.print(&quot;Endevina el valor enter, entre 0 i 10: &quot;);</div></li><li class="li1"><div class="de1">    int valorUsuari = lector.nextInt();</div></li><li class="li1"><div class="de1">    lector.nextLine();</div></li><li class="li1"><div class="de1">    //PAS 4</div></li><li class="li1"><div class="de1">    //Estructura de selecció doble. </div></li><li class="li1"><div class="de1">    //O s'endevina o es falla.</div></li><li class="li1"><div class="de1">    if (VALOR_SECRET == valorUsuari) {</div></li><li class="li1"><div class="de1">      //PAS I</div></li><li class="li1"><div class="de1">      //Si l'expressió avalua true, executa el bloc dins l'if.</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Exacte! Era &quot; + VALOR_SECRET + &quot;.&quot;);    </div></li><li class="li1"><div class="de1">    } else {</div></li><li class="li1"><div class="de1">      //PAS II</div></li><li class="li1"><div class="de1">      //Si l'expressió avalua false, executa el bloc dins l'else.</div></li><li class="li1"><div class="de1">      System.out.println(&quot;T'has equivocat!&quot;);</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Hem acabat el joc.&quot;);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
Tot seguit, la <span class="figref"><a href="#Figure6"><span>figura</span></a></span> mostra un esquema de quin és el flux exacte d’execució quan es posa en marxa el programa i quin paper té cada part del codi d’acord amb la definició de la sintaxi.
</p>
<div class="iocfigure"><a name="Figure6"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Esquema del flux de control d’un programa per endevinar un nombre

</figcaption><img src="../media/ic10mu2_09.png" alt="" /></figure>
</div>
<p>
<strong>Repte 2:</strong> modifiqueu el programa perquè, en lloc d’un únic valor secret, n’hi hagi dos. Per guanyar, només cal encertar-ne un dels dos. La condició lògica que us caldrà ja no es pot resoldre amb una expressió composta per una única comparació. Serà més complexa.
</p>

</div>

<h2><a id="diversos_caminsla_sentencia_if_else_if_else" >Diversos camins: la sentència &#039;&#039;if/else if/else&#039;&#039;</a></h2>
<div class="level2">

<p>
<div class="iocfigurec">
<ul>
<li>
<img src="../media/ic10mu2_10.png" class="imgB" title=" La selecció múltiple: múltiples camins alternatius. Imatge de Wikimedia Commons" alt=" La selecció múltiple: múltiples camins alternatius. Imatge de Wikimedia Commons" /></li><li><small> La selecció múltiple: múltiples camins alternatius. Imatge de Wikimedia Commons</small></li>
</ul></div>

</p>

<p>
Finalment, a l’hora d’establir el flux de control d’un programa, també hi ha la possibilitat que hi hagi un nombre arbitrari de camins alternatius, no solament dos. Per exemple, imagineu un programa que, a partir de la nota numèrica d’un examen, ha d’establir quina és la qualificació de l’alumne. Per això caldrà veure dins de quin rang es troba el nombre. En qualsevol cas, els resultats possibles són més de dos.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
L’estructura de <strong>selecció múltiple</strong> permet controlar el fet que en complir-se un cas entre un conjunt finit de casos s’executi el conjunt d’instruccions corresponent.
</p>
</div></div>
</div>

<h3><a id="sintaxi_i_comportament2" >Sintaxi i comportament</a></h3>
<div class="level3">

<p>
Aquest tipus de control sobre les instruccions del programa té associada la sentència <code>if/else if/else</code> (si és el cas, en aquest altre cas, si no és cap cas). Bàsicament, es tracta de la mateixa estructura que la sentència <code>if/else</code>, però amb un nombre arbitrari de blocs <code>if</code> (després del primer bloc, anomenats <code>else if</code>). En el cas del Java, la sintaxi és la següent:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">instruccions del programa</div></li><li class="li1"><div class="de1">if (expressió booleana 1) {</div></li><li class="li1"><div class="de1">  Instruccions per executar si l'expressió 1 l'avalua a true (cert) - Bloc if</div></li><li class="li1"><div class="de1">} else if (expressió booleana 2) {</div></li><li class="li1"><div class="de1">  Instruccions per executar si l'expressió 2 l'avalua a true (cert) - Bloc else if</div></li><li class="li1"><div class="de1">} else if (expressió booleana 3) {</div></li><li class="li1"><div class="de1">  Instruccions per executar si l'expressió 3 l'avalua a true (cert) - Bloc else if</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">...es repeteix tant cops com calgui...</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">} else if (expressió booleana N) {</div></li><li class="li1"><div class="de1">  Instruccions per executar si l'expressió N avalua a true (cert) - Bloc else if</div></li><li class="li1"><div class="de1">} else {</div></li><li class="li1"><div class="de1">  Instruccions alternatives si totes les expressions 1...N avaluen a false (fals) - Bloc else</div></li><li class="li1"><div class="de1">}</div></li><li class="li1"><div class="de1">resta d'instruccions del programa</div></li></ol></pre>

<p>

</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">ifelse ifelse</p>
<p>
El nom de la sentència <code>if/else if/else</code> significa bàsicament: “Si es compleix certa condició, fes això… Si no, mira si es compleix això altre… I si no, això altre…”.
</p>
</div></div>
<p>
La <span class="figref"><a href="#Figure7"><span>figura</span></a></span> mostra un esquema del flux d’execució, d’acord amb el resultat d’anar avaluant cadascuna de les condicions lògiques. En aquest cas és una mica més complicat, ja que, com es pot veure, hi ha més d’una condició lògica dins de la sentència. Cada condició es va avaluant ordenadament, des de la primera fins a la darrera, i s’executarà el codi del primer cas en què l’expressió avaluï com a cert. Un cop fet això, ja no es torna a avaluar cap altra condició restant i s’ignora la resta de blocs. Si en aquest procés es dóna el cas que cap de les expressions avalua a cert, s’executaran les instruccions del bloc <code>else</code>.
</p>
<div class="iocfigure"><a name="Figure7"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Diagrama de flux de control d’una selecció múltiple

</figcaption><img src="../media/ic10mu2_11.png" alt="" /></figure>
</div>
<p>
El punt important d’aquesta sentència és que només s’executarà <em class="u">un únic bloc</em> de tots els possibles. Fins i tot en el cas que més d’una de les expressions booleanes pugui avaluar a cert, només s’executarà el bloc associat a la primera d’aquestes expressions dins de l’ordre establert en la sentència.
</p>

<p>
També és destacable el fet que el bloc <code>else</code> és opcional. Si no volem, no cal posar-lo. En aquest cas, si no es compleix cap de les condicions, no s’executa cap instrucció entre les incloses dins de la sentència.
</p>

</div>

<h3><a id="exempletransformar_avaluacio_numerica_a_text" >Exemple: transformar avaluació numèrica a text</a></h3>
<div class="level3">

<p>
La manera d’usar la sentència <code>if/else if/else</code> es pot veure millor mitjançant el codi de l’exemple proposat anteriorment. Un cop més, abans de veure el codi es repassaran els passos que ha de fer el programa per dur a terme el seu objectiu i l’ordre que cal seguir.
</p>
<ol>
<li class="level1"><div class="li"> Demanar que s’introdueixi la nota pel teclat.</div>
</li>
<li class="level1"><div class="li"> Llegir-la.</div>
</li>
<li class="level1"><div class="li"> Mostrar un text o un altre segons el rang de valors dins del qual es troba la nota:</div>
<ol>
<li class="level2"><div class="li"> Si és major o igual que 9 i menor o igual que 10, la nota és d’“Excel·lent”.</div>
</li>
<li class="level2"><div class="li"> Si és major i igual que 6,5 però estrictament menor que 9, la nota és “Notable”.</div>
</li>
<li class="level2"><div class="li"> Si és major i igual que 5 però estrictament menor que 6,5, la nota és “Suficient”.</div>
</li>
<li class="level2"><div class="li"> Si no és cap dels casos anteriors, la nota és de “Suspès”.</div>
</li>
</ol>
</li>
</ol>

<p>
Aquest cop és el pas 3 el que presenta diferents possibilitats segons si es compleixen certes condicions. En aquest cas, però, hi ha més de d’un camí (n’hi ha quatre). A més a més, cal decidir si es compleix una condició diferent per decidir quin és el camí que cal seguir entre totes les opcions. El darrer es du a terme simplement quan no es compleix cap dels anteriors. Per tant, es tracta d’una selecció múltiple.
</p>

<p>
Un fet destacat en aquesta descripció de les tasques que ha de dur a terme el programa, com a mínim respecte als exemples anteriors, és que per a cada pas possible s’han de complir dues condicions alhora. El valor de la nota ha d’estar per sota de cert valor i per sobre d’un altre. L’expressió de tipus booleà que cal avaluar per veure quin camí cal seguir ha de comprovar totes dues coses: que es compleix una cosa <strong>i</strong> l’altra. O sigui, cal una expressió lògica basada en la conjunció de dues comparacions. Un cop més, observeu quines instruccions es corresponen a cadascun dels passos descrits. Fixeu-vos en particular en com són les condicions lògiques per a cada cas.
</p>
<div class="iocnote"><div class="ioccontent">
<p>
No oblideu que en una estructura de selecció la condició lògica sempre va entre parèntesis.
</p>
</div></div>
<p>
Compileu i executeu el programa següent per veure com la nota mostrada depèn del valor introduït: 
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">import java.util.Scanner;</div></li><li class="li1"><div class="de1">//Un programa que indica la nota en text a partir de la numèrica.</div></li><li class="li1"><div class="de1">public class Avaluacio {</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    Scanner lector = new Scanner(System.in);</div></li><li class="li1"><div class="de1">    //PAS 1 i 2</div></li><li class="li1"><div class="de1">    System.out.print(&quot;Quina nota has tret? &quot;);</div></li><li class="li1"><div class="de1">    float nota = lector.nextFloat();</div></li><li class="li1"><div class="de1">    lector.nextLine();</div></li><li class="li1"><div class="de1">    //PAS 3</div></li><li class="li1"><div class="de1">    //Estructura de selecció múltiple. </div></li><li class="li1"><div class="de1">    //S'entra al bloc on la condició lògica avaluï a true.</div></li><li class="li1"><div class="de1">    //Si cap no ho fa, s'entra al bloc else.</div></li><li class="li1"><div class="de1">    System.out.print(&quot;La teva nota final és &quot;);</div></li><li class="li1"><div class="de1">    if ((nota &gt;= 9)&amp;&amp;(nota &lt;= 10)) {</div></li><li class="li1"><div class="de1">      //PAS I</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Excel·lent.&quot;);</div></li><li class="li1"><div class="de1">    } else if ((nota &gt;= 6.5)&amp;&amp;(nota &lt; 9)) {</div></li><li class="li1"><div class="de1">      //PAS II</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Notable.&quot;);</div></li><li class="li1"><div class="de1">    } else if ((nota &gt;= 5)&amp;&amp;(nota &lt; 6.5)) {</div></li><li class="li1"><div class="de1">      //PAS III</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Aprovat.&quot;);</div></li><li class="li1"><div class="de1">    } else  {</div></li><li class="li1"><div class="de1">      //PAS IV</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Suspès.&quot;);</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Espero que hagi anat bé...&quot;);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
El diagrama de flux per a aquest programa en concret es mostra tot seguit, a la <span class="figref"><a href="#Figure8"><span>figura</span></a></span>. En aquest cas, el codi seguirà un entre cinc camins possibles, tots disjunts.
</p>
<div class="iocfigure"><a name="Figure8"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Esquema del flux de control d’un programa d’assignar la nota

</figcaption><img src="../media/ic10mu2_12.png" alt="" /></figure>
</div>
</div>

<h4><a id="una_altra_possibilitat" >Una altra possibilitat</a></h4>
<div class="level4">

<p>
El programa que tot just s’ha exposat analitza totes les possibilitats a l’hora d’avaluar les notes de manera molt estricta. Totes les condicions possibles són absolutament disjuntes. Mai no es pot donar el cas que dues avaluïn cert, ja que la nota introduïda pertanyerà a un i només a un dels rangs establerts. Ara bé, la selecció múltiple accepta que les condicions no ho siguin. En cas que se’n compleixi més d’una, el bloc d’instruccions que s’executarà serà el de la primera condició que ha avaluat com a <code>true</code>, per ordre d’escriptura en el codi.
</p>

<p>
Un cop es té una mica d’experiència programant, es pot jugar amb aquest fet, per plantejar aquest programa d’una altra manera:
</p>
<ol>
<li class="level1"><div class="li"> Demanar que s’introdueixi la nota pel teclat.</div>
</li>
<li class="level1"><div class="li"> Llegir-la.</div>
</li>
<li class="level1"><div class="li"> Mostrar un text o un altre segons dins de quin rang de valors es troba la nota:</div>
<ol>
<li class="level2"><div class="li"> Si és major o igual que 9, la nota és “Excel·lent”.</div>
</li>
<li class="level2"><div class="li"> Si és major o igual que 6,5, la nota és “Notable”.</div>
</li>
<li class="level2"><div class="li"> Si és major o igual que 5, la nota és “Suficient”.</div>
</li>
<li class="level2"><div class="li"> Si no és cap dels casos anteriors, la nota és “Suspès”.</div>
</li>
</ol>
</li>
</ol>

<p>
En aquest plantejament, l’ordre d’avaluació de les condicions és molt més important. Per a una nota de 9,5 es compleixen totes i cadascuna de les condicions. Però només es durà a terme l’acció relativa a la primera de les enumerades (en aquest cas, la <code>I</code>).
</p>

<p>
El codi font associat seria el següent, pràcticament idèntic a l’anterior. Compileu-lo i executeu-lo per comprovar que el comportament és el mateix.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">import java.util.Scanner;</div></li><li class="li1"><div class="de1">//Un programa que indica la nota en text a partir de la numèrica.</div></li><li class="li1"><div class="de1">public class AvaluacioSimplificat {</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    Scanner lector = new Scanner(System.in);</div></li><li class="li1"><div class="de1">    //PAS 1 i 2</div></li><li class="li1"><div class="de1">    System.out.print(&quot;Quina nota has tret? &quot;);</div></li><li class="li1"><div class="de1">    float nota = lector.nextFloat();</div></li><li class="li1"><div class="de1">    lector.nextLine();</div></li><li class="li1"><div class="de1">    //PAS 3</div></li><li class="li1"><div class="de1">    //Estructura de selecció múltiple. </div></li><li class="li1"><div class="de1">    //S'entra al bloc on la condició lògica avaluï a true.</div></li><li class="li1"><div class="de1">    //Les condicions s'avaluen per ordre d'aparició.</div></li><li class="li1"><div class="de1">    //Si cap no ho fa, s'entra al bloc else.</div></li><li class="li1"><div class="de1">    System.out.print(&quot;La teva nota final és &quot;);</div></li><li class="li1"><div class="de1">    if ((nota &gt;= 9)&amp;&amp;(nota &lt;= 10)) {</div></li><li class="li1"><div class="de1">      //PAS I</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Excel·lent.&quot;);</div></li><li class="li1"><div class="de1">    } else if (nota &gt;= 6.5) {</div></li><li class="li1"><div class="de1">      //PAS II</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Notable.&quot;);</div></li><li class="li1"><div class="de1">    } else if (nota &gt;= 5) {</div></li><li class="li1"><div class="de1">      //PAS III</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Aprovat.&quot;);</div></li><li class="li1"><div class="de1">    } else  {</div></li><li class="li1"><div class="de1">      //PAS IV</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Suspès.&quot;);</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Espero que hagi anat bé...&quot;);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
Observeu atentament què passa si la nota és 8. En aquest cas, avaluen com a certes la segona (<code>nota &gt;= 6.5</code>) i la tercera condició (<code>nota &gt;= 5</code>), però el bloc d’instruccions que s’executarà és el de la segona. Això es veu clarament en el diagrama de la <span class="figref"><a href="#Figure9"><span>figura</span></a></span> si aneu seguint ordenadament el flux de control establert. De fet, si us hi fixeu, el diagrama en si és com el de la <span class="figref"><a href="#Figure8"><span>figura</span></a></span>, i només varien les condicions lògiques. 
</p>
<div class="iocfigure"><a name="Figure9"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Esquema del flux de control del programa alternatiu d’assignar la nota

</figcaption><img src="../media/ic10mu2_13.png" alt="" /></figure>
</div>
</div>

<h2><a id="combinacio_d_estructures_de_seleccio" >Combinació d&#039;estructures de selecció</a></h2>
<div class="level2">

<p>
Les sentències que defineixen estructures de selecció són instruccions com qualssevol altres dins d’un programa, si bé amb una sintaxi una mica més complicada. Per tant, res no impedeix que tornin a aparèixer dins de blocs d’instruccions d’altres estructures de selecció. Això permet crear una disposició de bifurcacions dins el flux de control per tal de dotar al programa d’un comportament complex, per comprovar si es compleixen diferents condicions d’acord amb cada situació.
</p>

</div>

<h3><a id="exempledescompte_maxim_i_control_d_errors" >Exemple: descompte màxim i control d&#039;errors</a></h3>
<div class="level3">

<p>
Per veure un exemple en què resulta útil la combinació d’estructures de selecció, imagineu que voleu fer un parell de modificacions a l’exemple del càlcul d’un descompte. D’una banda, que hi hagi un valor màxim de descompte, de manera que si per algun motiu correspon fer un descompte per sobre d’aquest valor, només s’apliqui el màxim establert. D’altra banda, estaria bé corregir un comportament una mica estrany que ara mateix té el programa: que és capaç d’acceptar preus negatius. En aquest cas, com que és evident que l’usuari s’ha equivocat, estaria bé avisar-lo amb algun missatge.
</p>

<p>
Ara el programa hauria de fer el següent:
</p>
<ol>
<li class="level1"><div class="li"> Decidir quin és el valor mínim per optar al descompte, quant es descomptarà i el valor màxim possible.</div>
</li>
<li class="level1"><div class="li"> Demanar que s’introdueixi el preu inicial, en euros, pel teclat.</div>
</li>
<li class="level1"><div class="li"> Llegir-lo.</div>
</li>
<li class="level1"><div class="li"> Comprovar que el preu és correcte i no és negatiu:</div>
<ol>
<li class="level2"><div class="li"> Si es compleix, veure si el preu introduït és igual o superior al valor mínim per optar al descompte:</div>
<ol>
<li class="level3"><div class="li"> Si és així, calcular el descompte.</div>
</li>
<li class="level3"><div class="li"> Comprovar si el descompte supera el màxim permissible:</div>
<ol>
<li class="level4"><div class="li"> Si és així, el descompte es redueix al màxim permissible.</div>
</li>
</ol>
</li>
<li class="level3"><div class="li"> Aplicar el descompte sobre el preu inicial.</div>
</li>
</ol>
</li>
<li class="level2"><div class="li"> Mostrar el preu final.</div>
</li>
<li class="level2"><div class="li"> Si el preu era negatiu, mostrar un missatge d’error.</div>
</li>
</ol>
</li>
</ol>

<p>
Així, doncs, apareixen dues noves condicions. Abans de fer res cal veure si el preu és positiu i, immediatament després de calcular el descompte, cal veure si es compleix la nova condició de si el valor és superior al màxim o no. La particularitat és que ara les diferents condicions del programa només es comproven si les anteriors es van complint, una darrere de l’altra.
</p>

<p>
El codi següent fa ús d’una combinació d’estructures de selecció per dur a terme aquesta modificació. Compileu-lo i executeu-lo. Mitjançant comentaris s’associa cada instrucció a cadascun dels passos descrits.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">import java.util.Scanner;</div></li><li class="li1"><div class="de1">//Un programa que calcula descomptes.</div></li><li class="li1"><div class="de1">public class DescompteControlErrors {</div></li><li class="li1"><div class="de1">  //PAS 1  </div></li><li class="li1"><div class="de1">  //Es fa un descompte del 8%.</div></li><li class="li1"><div class="de1">  public static final float DESCOMPTE = 8;</div></li><li class="li1"><div class="de1">  //Es fa descompte per compres de 100 euros o més.</div></li><li class="li1"><div class="de1">  public static final float COMPRA_MIN = 100;</div></li><li class="li1"><div class="de1">  //Valor del descompte màxim: 10 euros.</div></li><li class="li1"><div class="de1">  public static final float DESC_MAXIM = 10;</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    Scanner lector = new Scanner(System.in);</div></li><li class="li1"><div class="de1">    //PASSOS 2 i 3</div></li><li class="li1"><div class="de1">    System.out.print(&quot;Quin és el preu del producte, en euros? &quot;);</div></li><li class="li1"><div class="de1">    float preu = lector.nextFloat();</div></li><li class="li1"><div class="de1">    lector.nextLine();</div></li><li class="li1"><div class="de1">    //PAS 4. El preu és positiu?</div></li><li class="li1"><div class="de1">    if (preu &gt; 0) {</div></li><li class="li1"><div class="de1">      //PAS I</div></li><li class="li1"><div class="de1">      if (preu &gt;= COMPRA_MIN) {</div></li><li class="li1"><div class="de1">        //PAS a   </div></li><li class="li1"><div class="de1">        float descompteFet = preu * DESCOMPTE / 100;</div></li><li class="li1"><div class="de1">        //PAS b. Si el descompte supera el màxim, cal reduir-lo.</div></li><li class="li1"><div class="de1">        if (descompteFet &gt; DESC_MAXIM) {</div></li><li class="li1"><div class="de1">           //PAS alfa. Reduir descompte  </div></li><li class="li1"><div class="de1">           descompteFet = DESC_MAXIM;</div></li><li class="li1"><div class="de1">        }</div></li><li class="li1"><div class="de1">        //PAS c</div></li><li class="li1"><div class="de1">        preu = preu - descompteFet;</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">      //PAS II. Es mostra el preu final.</div></li><li class="li1"><div class="de1">      System.out.println(&quot;El preu final per pagar és de &quot; + preu + &quot; euros.&quot;);</div></li><li class="li1"><div class="de1">    } else {</div></li><li class="li1"><div class="de1">      //PAS III. El preu era negatiu. Cal avisar l'usuari.  </div></li><li class="li1"><div class="de1">      System.out.println(&quot;Preu incorrecte. És negatiu.&quot;);    </div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
La <span class="figref"><a href="#Figure10"><span>figura</span></a></span> mostra un esquema de com queden distribuïts els blocs d’instruccions dins del programa i de com s’estructuren jeràrquicament en nivells de profunditat. Com es pot apreciar, quan es combinen estructures de control és especialment important sagnar el codi font per fer-lo intel·ligible i usar sempre claus per poder distingir clarament on comença i on acaba cada bloc diferent.
</p>
<div class="iocnote"><div class="ioccontent">
<p>
Recordeu que en Java cada bloc s’identifica per estar entre claus: <code>{</code>…<code>}</code>.
</p>
</div></div>
<p>
Un dels aspectes més importants d’aquest exemple és que el programa ha de ser capaç de comprovar si les dades que ha introduït l’usuari compleixen certes condicions i així avisar-lo de possibles errors. Moltes vegades, per aconseguir-ho cal combinar diferents estructures de selecció, de manera que només se segueix pel camí que processa les dades si es pot garantir que són correctes. De fet, tant en l’exemple d’endevinar un nombre com en el de transformar les notes també valdria la pena fer aquesta comprovació, i veure si el valor introduït està realment entre els valors permissibles (0 i 10).
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Les estructures de selecció són fonamentals per poder comprovar si les dades que introdueix l’usuari són correctes abans de processar-les. 
</p>
</div></div><div class="iocfigure"><a name="Figure10"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Blocs d’instruccions en una combinació d’estructures de selecció

</figcaption><img src="../media/ic10mu2_14.png" alt="" /></figure>
</div>
<p>
<strong>Repte 3:</strong> modifiqueu els exemples d’endevinar (<code>Endevina</code>) un nombre i transformar una nota numèrica en textual (<code>AvaluacioSimplificat</code>) perquè comprovin que el valor que ha introduït l’usuari es troba dins del rang de valors correcte (entre 1 i 10). En algun cas, potser no cal combinar diverses estructures de selecció…
</p>

</div>

<h3><a id="multiples_blocs_d_instruccions_i_ambit_de_variables" >Múltiples blocs d&#039;instruccions i àmbit de variables</a></h3>
<div class="level3">

<p>
En el moment que el codi font d’un programa s’organitza en diferents blocs d’instruccions, uns dins dels altres, a causa de l’aparició d’estructures de control, cal anar amb molt de compte de respectar l’àmbit de la declaració d’una variable. La millor manera de veure què pot passar si no es té cura d’això és seguint un exemple concret.
</p>
<div class="iocnote"><div class="ioccontent">
<p>
Recordeu que quan es diu “usar una variable” es vol dir en realitat “usar l’identificador associat a una variable”.
</p>
</div></div>
<p>
Suposeu que ara voleu modificar el programa anterior perquè, a més del preu final, també mostri exactament quants euros s’han descomptat sobre el preu inicial. Com es disposa de la variable <code>descompteFet</code> ja declarada, on s’emmagatzema precisament el valor exacte del descompte, només hauria de ser qüestió de consultar-ne el valor i mostrar-lo per pantalla, tal com ja es fa amb el preu. Per tant, d’entrada, una possible modificació en el codi original seria la que es mostra tot seguit. Integreu-la en el programa original i proveu si funciona o no.
</p>

<p>

</p>
<pre class="code java"><ol><li class="li1"><div class="de1">    ...</div></li><li class="li1"><div class="de1">    if (preu &gt; 0) {</div></li><li class="li1"><div class="de1">      //PAS I</div></li><li class="li1"><div class="de1">      if (preu &gt;= COMPRA_MIN) {</div></li><li class="li1"><div class="de1">        float descompteFet = preu * DESCOMPTE / 100;</div></li><li class="li1"><div class="de1">        if (descompteFet &gt; DESC_MAXIM) {</div></li><li class="li1"><div class="de1">           descompteFet = DESC_MAXIM;</div></li><li class="li1"><div class="de1">        }</div></li><li class="li1"><div class="de1">        preu = preu - descompteFet;</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">      System.out.println(&quot;El preu final per pagar és de &quot; + preu + &quot; euros.&quot;);</div></li><li class="li1"><div class="de1">      //Modificació. Ara també mostrem el descompte... o no?</div></li><li class="li1"><div class="de1">      System.out.println(&quot;S'ha fet un descompte de &quot; + descompteFet + &quot; euros.&quot;);</div></li><li class="li1"><div class="de1">    } else {</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Preu incorrecte. És negatiu.&quot;);    </div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    ...</div></li></ol></pre>

<p>
Malauradament, si intenteu compilar el programa modificat amb aquest nou codi, hi haurà un error en la nova línia on s’intenta mostrar el valor del descompte. Aquest us informa que l’identificador <code>descompteFet</code> no ha estat declarat (<em>cannot find symbol</em>) i, per tant, no pot ser usat. Però tot just unes línies abans, a la primera instrucció del bloc <code>if</code>, hi ha la declaració. Com és possible? La resposta és que, ara que ja hi ha més d’un bloc d’instruccions en el codi font del programa, no se n’ha respectat l’àmbit. Recordeu que la declaració d’una variable només té validesa des que es declara fins al delimitador de final del bloc on s’ha declarat (en aquest cas, la clau <code>}</code>).
</p>

<p>
Aquesta condició es compleix per a la variable <code>preu</code>, ja que ha estat declarada al bloc de codi del programa principal, i per tant pot ser usada fins a la clau que tanca el mètode principal (és a dir, a tot el programa). Ara bé, la variable <code>descompteFet</code> ha estat declarada en el bloc <code>if</code> i, per tant, deixa de tenir validesa en acabar el bloc. Com que es consulta més enllà d’aquest bloc, és com si no s’hagués declarat mai.
</p>

<p>
Per solucionar aquest problema, la declaració s’ha de dur amb anterioritat a intentar mostrar-la per pantalla i, alhora, en el mateix bloc d’instruccions, no dins del bloc <code>if</code>. Això es podria fer com es mostra a continuació. Incorporeu el canvi al codi original i proveu si ara funciona.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">    ...</div></li><li class="li1"><div class="de1">    if (preu &gt; 0) {</div></li><li class="li1"><div class="de1">      //Si es declara aquí, té validesa fins al final d'aquest bloc if.</div></li><li class="li1"><div class="de1">      float descompteFet = 0;</div></li><li class="li1"><div class="de1">      if (preu &gt;= COMPRA_MIN) {</div></li><li class="li1"><div class="de1">        descompteFet = preu * DESCOMPTE / 100;</div></li><li class="li1"><div class="de1">        if (descompteFet &gt; DESC_MAXIM) {</div></li><li class="li1"><div class="de1">           descompteFet = DESC_MAXIM;</div></li><li class="li1"><div class="de1">        }</div></li><li class="li1"><div class="de1">        preu = preu - descompteFet;</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">      System.out.println(&quot;El preu final per pagar és de &quot; + preu + &quot; euros.&quot;);</div></li><li class="li1"><div class="de1">      System.out.println(&quot;S'ha fet un descompte de &quot; + descompteFet + &quot; euros.&quot;);</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    } else {</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Preu incorrecte. És negatiu.&quot;);    </div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    ...</div></li></ol></pre>

<p>
La <span class="figref"><a href="#Figure11"><span>figura</span></a></span> mostra quin era l’àmbit inicial de la variable <code>descompteFet</code> en el programa original (A) i quin és el que resulta de la modificació de la línia on es declara (B) per tal de solucionar l’error.
</p>
<div class="iocfigure"><a name="Figure11"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Àmbits de la variable <code>descompteFet</code>

</figcaption><img src="../media/ic10mu2_15.png" alt="" /></figure>
</div>
<p>
Una bona pregunta que us podeu fer és quin sentit té llavors declarar variables dins de blocs de codi que no siguin el mètode principal. La resposta és que, a escala de funcionament del programa, no hi ha cap diferència. Es podrien declarar totes a l’inici del programa principal, per garantir que mai no us trobeu fora del seu àmbit, i tot funcionaria igual. Ara bé, declarar variables tot just en el moment que s’usen té sentit amb vista a la llegibilitat del programa. Si declareu una variable prop del codi on se’n fa ús, és més senzill per a algú altre que llegeixi el codi font establir-ne el valor sense haver de repassar tot el codi des del principi. Això és especialment útil en programes llargs.
</p>

</div>

<h2><a id="el_commutadorla_sentencia_switch" >El commutador: la sentència &#039;&#039;switch&#039;&#039;</a></h2>
<div class="level2">

<p>
Hi ha una estructura de selecció una mica especial, motiu pel qual s’ha deixat per al final. El que la fa especial és que no es basa a avaluar una condició lògica composta per una expressió booleana, sinó que estableix el flux de control a partir de l’avaluació d’una expressió de tipus enter o caràcter (però mai real).
</p>

<p>
<div class="iocfigurec">
<ul>
<li>
<img src="../media/ic10mu2_16.png" class="imgB" title=" Una sentència &#039;&#039;switch&#039;&#039; és un selector entre diferents valors./5" alt=" Una sentència &#039;&#039;switch&#039;&#039; és un selector entre diferents valors./5" /></li><li><small> Una sentència &#039;&#039;switch&#039;&#039; és un selector entre diferents valors.</small></li>
</ul></div>

</p>

<p>
La sentència <code>switch</code> enumera, un per un, un conjunt de valors discrets que es volen tractar, i assigna les instruccions que cal executar si l’expressió avalua en cada valor diferent. Finalment, especifica què cal fer si l’expressió no ha avaluat en cap dels valors enumerats. És com un commutador o una palanca de canvis, en què s’assigna un codi per a cada valor possible que cal tractar. Aquest comportament seria equivalent a una estructura de selecció múltiple en què, implícitament, totes les condicions són comparar si una expressió és igual a cert valor. Cada branca controlaria un valor diferent. El cas final és equivalent a l<code>‘else</code>.
</p>

<p>
De fet, en la majoria de casos, aquesta sentència no aporta res des del punt de vista del flux de control que no es pugui fer amb una selecció múltiple. Però és molt útil amb vista a millorar la llegibilitat del codi o facilitar la generació del codi del programa. Ara bé, sí que hi ha un petit detall en què aquesta sentència aporta alguna cosa que la resta d’estructures de selecció no poden fer directament: executar de manera consecutiva més d’un bloc de codi relatiu a diferents condicions.
</p>

</div>

<h3><a id="sintaxi_i_comportament3" >Sintaxi i comportament</a></h3>
<div class="level3">

<p>
La sintaxi de la sentència <code>switch</code> s’ajusta al format descrit tot seguit. Novament, es basa en una paraula clau seguida d’una condició entre parèntesis i un bloc de codi entre claus. Ara bé, la diferència respecte de les sentències vistes fins ara és que els conjunts d’instruccions assignats a cada cas independent no es distingeixen entre si per claus. Aquests es van enumerant com un conjunt d’apartats etiquetats per la paraula clau <code>case</code>, seguida del valor que es vol tractar i de dos punts. De manera opcional, es pot posar una instrucció especial que serveix de delimitador de final d’apartat, anomenada <code>break</code>. Al final de tots els apartats se’n posa un d’especial, anomenat <code>default</code>, que no ha d’acabar mai en <code>break</code>.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">switch(expressió de tipus enter) {</div></li><li class="li1"><div class="de1">  case valor1:</div></li><li class="li1"><div class="de1">    instruccions si l'expressió avalua a valor1</div></li><li class="li1"><div class="de1">    (opcionalment) break;</div></li><li class="li1"><div class="de1">  case valor2:</div></li><li class="li1"><div class="de1">    instruccions si l'expressió avalua a valor2</div></li><li class="li1"><div class="de1">    (opcionalment) break;</div></li><li class="li1"><div class="de1">  ...</div></li><li class="li1"><div class="de1">  case valorN:</div></li><li class="li1"><div class="de1">    instruccions si l'expressió avalua a valorN</div></li><li class="li1"><div class="de1">    (opcionalment) break;</div></li><li class="li1"><div class="de1">  default:</div></li><li class="li1"><div class="de1">    instruccions si l'expressió avalua a algun valor que no és valor1...valorN</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
En executar la sentència <code>switch</code> s’avalua l’expressió entre parèntesis i immediatament s’executa el conjunt d’instruccions assignat a aquell valor entre els diferents apartats <code>case</code>. Si no n’hi ha cap amb aquest valor entre els disponibles, llavors s’executa l’apartat etiquetat com a <code>default</code> (per defecte).
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">switch</p>
<p>
El nom de la sentència <code>switch</code> vol dir bàsicament: “commuta entre aquestes accions d’acord amb un valor seleccionat”.
</p>
</div></div>
<p>
Cal dir que els valors numèrics no han de seguir cap ordre en concret per definir cada apartat. Si bé pot ser més polit enumerar-los per ordre creixent, això no té cap efecte sobre el comportament del programa.
</p>

<p>
La particularitat especial d’aquesta sentència la tenim en l’ús de la instrucció <code>break</code>. Aquesta indica què cal fer un cop executades les instruccions de l’apartat. Si apareix la instrucció, el programa se salta la resta d’apartats i continua amb la instrucció posterior a la sentència <code>switch</code> (després de la clau que tanca el bloc). En aquest aspecte, si tots els apartats acaben en <code>break</code>, el funcionament de <code>switch</code> és equivalent a fer:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">if (expressió == valor 2) {</div></li><li class="li1"><div class="de1">  instruccions si l'expressió avalua a valor1</div></li><li class="li1"><div class="de1">} else if (expressió == valor2) {</div></li><li class="li1"><div class="de1">  instruccions si l'expressió avalua a valor2</div></li><li class="li1"><div class="de1">... </div></li><li class="li1"><div class="de1">} else if (expressió == valorN) {</div></li><li class="li1"><div class="de1">  instruccions si l'expressió avalua a valorN</div></li><li class="li1"><div class="de1">} else {</div></li><li class="li1"><div class="de1">  instruccions si l'expressió avalua a algun valor que no és valor1...valorN</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
Ara bé, si algun dels apartats no acaba en <code>break</code>, en executar la darrera instrucció, en lloc de saltar la resta d’apartats, el que es fa és seguir executant les instruccions de l’apartat que ve immediatament després. Així anirà fent, apartat per apartat, fins trobar-ne algun que acabi en <code>break</code>. La <span class="figref"><a href="#Figure12"><span>figura</span></a></span> mostra aquest comportament tan particular.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">break</p>
<p>
La paraula clau <code>break</code> és com dir “trenca, surt fora d’aquesta sentència <em>switch</em>”.
</p>
</div></div><div class="iocfigure"><a name="Figure12"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Diagrama de flux de control d’una sentència <code>switch</code>

</figcaption><img src="../media/ic10mu2_17.png" alt="" /></figure>
</div>
</div>

<h3><a id="exemple_simplediferents_opcions_en_un_menu" >Exemple simple: diferents opcions en un menú</a></h3>
<div class="level3">

<p>
La millor manera d’entendre com es comporta la sentència <code>switch</code> és veient un parell d’exemples. Per començar, es mostrarà el cas més senzill, en què tots els apartats tenen una instrucció <code>break</code> al final i, per tant, és com tenir una selecció múltiple en què cada cas correspon directament a una condició clarament diferenciada amb el seu propi bloc d’instruccions independent dels altres.
</p>

<p>
Un ús molt típic de la sentència <code>switch</code> és per generar de manera senzilla menús en què l’usuari pot triar entre diferents opcions. Segons l’opció triada, s’executen directament les instruccions associades a cadascuna. Suposeu un programa en què, a partir dos nombres enters, es demana quina operació es vol fer entre aquests: sumar, restar, multiplicar o dividir. 
</p>

<p>

</p>

<p>
El programa hauria de fer el següent:
</p>
<ol>
<li class="level1"><div class="li"> Preguntar els dos nombres enters.</div>
</li>
<li class="level1"><div class="li"> Llegir-los.</div>
</li>
<li class="level1"><div class="li"> Mostrar un menú amb les quatre opcions possibles, enumerades d’1 a 4.</div>
</li>
<li class="level1"><div class="li"> Llegir l’opció triada.</div>
</li>
<li class="level1"><div class="li"> Segons l’opció:</div>
<ol>
<li class="level2"><div class="li"> Si és 1 se sumen els dos enters.</div>
</li>
<li class="level2"><div class="li"> Si és 2 es resten.</div>
</li>
<li class="level2"><div class="li"> Si és 3 es multipliquen.</div>
</li>
<li class="level2"><div class="li"> Si és 4 es divideixen.</div>
</li>
<li class="level2"><div class="li"> Si és cap altra cal informar que l’opció és incorrecta.</div>
</li>
</ol>
</li>
<li class="level1"><div class="li"> Finalment es mostra el resultat per pantalla.</div>
</li>
</ol>

<p>
El codi per fer això mitjançant la sentència <code>switch</code> podria ser el següent. Compileu-lo, executeu-lo i observeu-ne el comportament.
</p>

<p>

</p>
<pre class="code java"><ol><li class="li1"><div class="de1">import java.util.Scanner;</div></li><li class="li1"><div class="de1">//Un programa que dóna diferents opcions de càlcul, usant la sentència switch.</div></li><li class="li1"><div class="de1">public class Opcions {</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    Scanner lector = new Scanner(System.in);</div></li><li class="li1"><div class="de1">    //PAS 1 i 2</div></li><li class="li1"><div class="de1">    System.out.print(&quot;Introdueix un valor enter: &quot;);</div></li><li class="li1"><div class="de1">    int primerValor = lector.nextInt();</div></li><li class="li1"><div class="de1">    lector.nextLine();</div></li><li class="li1"><div class="de1">    System.out.print(&quot;Introdueix-ne un altre: &quot;);</div></li><li class="li1"><div class="de1">    int segonValor = lector.nextInt();</div></li><li class="li1"><div class="de1">    lector.nextLine();</div></li><li class="li1"><div class="de1">    //PAS 3 i 4</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Quina operació vols fer? &quot;);</div></li><li class="li1"><div class="de1">    System.out.println(&quot;[1] Sumar&quot;);</div></li><li class="li1"><div class="de1">    System.out.println(&quot;[2] Restar&quot;);</div></li><li class="li1"><div class="de1">    System.out.println(&quot;[3] Multiplicar&quot;);    </div></li><li class="li1"><div class="de1">    System.out.println(&quot;[4] Dividir&quot;);    </div></li><li class="li1"><div class="de1">    System.out.print(&quot;Selecciona l'opció [1-4]: &quot;);</div></li><li class="li1"><div class="de1">    int opcio = lector.nextInt();</div></li><li class="li1"><div class="de1">    lector.nextLine();</div></li><li class="li1"><div class="de1">    int resultat = 0;</div></li><li class="li1"><div class="de1">    //PAS 5</div></li><li class="li1"><div class="de1">    switch(opcio) {</div></li><li class="li1"><div class="de1">      //PAS I</div></li><li class="li1"><div class="de1">      case 1:</div></li><li class="li1"><div class="de1">        System.out.print(&quot;Has triat sumar...&quot;);</div></li><li class="li1"><div class="de1">        resultat = primerValor + segonValor;</div></li><li class="li1"><div class="de1">        break;</div></li><li class="li1"><div class="de1">      //PAS II</div></li><li class="li1"><div class="de1">      case 2:</div></li><li class="li1"><div class="de1">        System.out.print(&quot;Has triat restar...&quot;);          </div></li><li class="li1"><div class="de1">        resultat = primerValor - segonValor;</div></li><li class="li1"><div class="de1">        break;</div></li><li class="li1"><div class="de1">      //PAS III</div></li><li class="li1"><div class="de1">      case 3:</div></li><li class="li1"><div class="de1">        System.out.print(&quot;Has triat multiplicar...&quot;);          </div></li><li class="li1"><div class="de1">        resultat = primerValor * segonValor;</div></li><li class="li1"><div class="de1">        break;</div></li><li class="li1"><div class="de1">      //PAS IV</div></li><li class="li1"><div class="de1">      case 4:</div></li><li class="li1"><div class="de1">        System.out.print(&quot;Has triat dividir...&quot;);          </div></li><li class="li1"><div class="de1">        resultat = primerValor / segonValor;</div></li><li class="li1"><div class="de1">        break;</div></li><li class="li1"><div class="de1">      //PAS V</div></li><li class="li1"><div class="de1">      default:</div></li><li class="li1"><div class="de1">        System.out.println(&quot;Opció no prevista.&quot;);</div></li><li class="li1"><div class="de1">    }    </div></li><li class="li1"><div class="de1">    //PAS 6</div></li><li class="li1"><div class="de1">    System.out.println(&quot;El resultat és &quot; + resultat + &quot;.&quot;);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
La <span class="figref"><a href="#Figure13"><span>figura</span></a></span> mostra un esquema de les instruccions executades segons alguns valors d’exemple. En lloc d’usar un diagrama de flux de control, s’usa directament el codi com a referència per fer la relació més aclaridora. Com es pot veure, l’opció <code>default</code> és especialment útil per controlar valors d’entrada no vàlids.
</p>
<div class="iocfigure"><a name="Figure13"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Exemple de flux de control del programa d’opcions de càlcul

</figcaption><img src="../media/ic10mu2_18.png" alt="" /></figure>
</div>
</div>

<h3><a id="exemple_amb_propagacio_d_instruccionsels_dies_d_un_mes" >Exemple amb propagació d&#039;instruccions: els dies d&#039;un mes</a></h3>
<div class="level3">

<p>
És el moment de veure què succeeix si falten instruccions <code>break</code> en alguns apartats. El primer que podeu provar és treure els <code>break</code> de l’exemple anterior. Veureu què passa. Cada cop que trieu una opció s’executarà aquella opció i totes les posteriors (ho podreu veure, ja que s’anirà mostrant per pantalla el missatge per a cada operació). Per tant, l’únic resultat vàlid serà el darrer i sempre estareu dividint.
</p>

<p>
Un altre exemple diferent bastant típic és el de calcular quants dies té un mes. A grans trets, el programa faria el següent:
</p>
<ol>
<li class="level1"><div class="li"> Preguntar el número de mes (un valor de tipus enter).</div>
</li>
<li class="level1"><div class="li"> Llegir-lo.</div>
</li>
<li class="level1"><div class="li"> Segons el valor del mes:</div>
<ol>
<li class="level2"><div class="li"> Si és 2 cal dir que el nombre de dies és 28 o 29.</div>
</li>
<li class="level2"><div class="li"> Si és 4, 6, 9 o 11 cal dir que el nombre de dies és 30.</div>
</li>
<li class="level2"><div class="li"> Si és 1, 3, 5, 7, 8, 10 o 12 cal dir que el nombre de dies és 31.</div>
</li>
<li class="level2"><div class="li"> Si és cap altre, cal dir que que s’ha introduït un número de mes incorrecte.</div>
</li>
</ol>
</li>
</ol>

<p>
Ara bé, ara es jugarà amb la propagació d’instruccions quan manca el <code>break</code> per establir dins del codi conjunts de valors que donen el mateix resultat. En triar un valor, s’executen les instruccions del cas associat a aquell valor i, mentre no trobi un <code>break</code>, continua executant la resta de casos consecutivament, l’un darrere de l’altre. Si un cas està buit, no fa res i salta directament al següent. Com es pot veure a l’exemple, no cal que els valors per a cada cas estiguin ordenats d’acord amb cap ordre numèric concret. Un cop més, el cas <code>default</code> serveix per controlar valors fora de rang. Comproveu que el programa fa el que se n’espera en el vostre entorn de desenvolupament.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">import java.util.Scanner;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">//A veure quants dies té un mes...</div></li><li class="li1"><div class="de1">public class DiesDelMes {</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    Scanner lector = new Scanner(System.in);</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    //PAS 1 i 2</div></li><li class="li1"><div class="de1">    System.out.print(&quot;Quin número de mes vols analitzar [1-12]? &quot;);</div></li><li class="li1"><div class="de1">    int mes = lector.nextInt();</div></li><li class="li1"><div class="de1">    lector.nextLine();</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    //PAS 3</div></li><li class="li1"><div class="de1">    System.out.print(&quot;Els dies d'aquest mes deuen ser...&quot;);</div></li><li class="li1"><div class="de1">    switch(mes) {</div></li><li class="li1"><div class="de1">        //PAS I</div></li><li class="li1"><div class="de1">        case 2:             </div></li><li class="li1"><div class="de1">            System.out.println(&quot;28 o 29!&quot;);</div></li><li class="li1"><div class="de1">            break;</div></li><li class="li1"><div class="de1">        //PAS II</div></li><li class="li1"><div class="de1">        case 4:</div></li><li class="li1"><div class="de1">        case 6:</div></li><li class="li1"><div class="de1">        case 9:</div></li><li class="li1"><div class="de1">        case 11:</div></li><li class="li1"><div class="de1">            System.out.println(&quot;30!&quot;);</div></li><li class="li1"><div class="de1">            break;</div></li><li class="li1"><div class="de1">        //PAS III</div></li><li class="li1"><div class="de1">        case 1:</div></li><li class="li1"><div class="de1">        case 3:</div></li><li class="li1"><div class="de1">        case 5:</div></li><li class="li1"><div class="de1">        case 7:</div></li><li class="li1"><div class="de1">        case 8:</div></li><li class="li1"><div class="de1">        case 10:</div></li><li class="li1"><div class="de1">        case 12:</div></li><li class="li1"><div class="de1">            System.out.println(&quot;31!&quot;);</div></li><li class="li1"><div class="de1">            break;</div></li><li class="li1"><div class="de1">        default:</div></li><li class="li1"><div class="de1">        System.out.println(&quot;Aquest mes no existeix!&quot;);</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
La <span class="figref"><a href="#Figure14"><span>figura</span></a></span> mostra un parell d’exemples de quin és el flux de control de la sentència <code>switch</code> per a certs valors. Tingueu en compte que el programa comença pel valor que coincideix amb el resultat d’avaluar l’expressió i que, un cop allà, va avançant de manera seqüencial per tots els casos, hi hagi el que hi hagi, fins a trobar una sentència <code>break</code>.
</p>
<div class="iocfigure"><a name="Figure14"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Exemple de flux de control per al programa dels dies del més. Una sentència <code>switch</code> amb casos sense <code>break</code>

</figcaption><img src="../media/ic10mu2_19.png" alt="" /></figure>
</div>
<p>
Finalment, cal dir que, com ja s’ha esmentat, no hi ha res que faci la sentència <code>switch</code> que no pugui fer una selecció múltiple. L’elecció de <code>switch</code> se sol fer exclusivament per motius de claredat del codi. Compareu el codi anterior amb el següent, equivalent. Tot seguit, comproveu que fa el mateix. 
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">import java.util.Scanner;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">//A veure quants dies té un mes...</div></li><li class="li1"><div class="de1">public class DiesDelMesIf {</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    Scanner lector = new Scanner(System.in);</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    System.out.print(&quot;Quin número de mes vols analitzar [1-12]? &quot;);</div></li><li class="li1"><div class="de1">    int mes = lector.nextInt();</div></li><li class="li1"><div class="de1">    lector.nextLine();</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    System.out.print(&quot;Els dies d'aquest mes deuen ser...&quot;);</div></li><li class="li1"><div class="de1">    if (mes == 2) {</div></li><li class="li1"><div class="de1">      System.out.println(&quot;28 o 29!&quot;);    </div></li><li class="li1"><div class="de1">    } else if ((mes == 4)||(mes == 6)||(mes == 9)||(mes == 11)) {</div></li><li class="li1"><div class="de1">      System.out.println(&quot;30!&quot;);        </div></li><li class="li1"><div class="de1">    } else if ((mes == 1)||(mes == 3)||(mes == 5)||(mes == 7)||(mes == 8)||(mes == 10)||(mes == 12)) {</div></li><li class="li1"><div class="de1">      System.out.println(&quot;31!&quot;);</div></li><li class="li1"><div class="de1">    } else {</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Aquest mes no existeix!&quot;);                </div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
Decidir quin és més pràctic és decisió vostra. De totes maneres, no sol ser bona idea tenir expressions tan llargues que se surtin del camp de visió en l’editor emprat.
</p>

</div>

<h2><a id="control_d_errors_en_l_entrada_basica_mitjancant_estructures_de_seleccio" >Control d&#039;errors en l&#039;entrada bàsica mitjançant estructures de selecció</a></h2>
<div class="level2">

<p>
Les estructures de selecció són especialment útils com a mecanisme per controlar si les dades que ha introduït un usuari són correctes abans d’usar-les dins del programa. Un cop ja sabeu com funcionen, és un bon moment per ampliar les explicacions sobre l’entrada bàsica de dades per teclat, de manera que sigui possible controlar si el valor que s’ha introduït encaixa amb el tipus de dada esperat per a cada instrucció de lectura.
</p>

<p>
Si es parteix que l’extensió per llegir dades de teclat s’ha inicialitzat anteriorment com sempre:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">   Scanner lector = new Scanner(System.in);</div></li></ol></pre>

<p>
Abans de llegir qualsevol dada introduïda pel teclat, és possible usar les instruccions de la <span class="tabref"><a href="#Table2"><span>taula</span></a></span> per establir si la dada que tot just s’ha escrit pel teclat és d’un tipus concret o no. Quan s’usen, l’usuari pot introduir dades pel teclat (el programa s’atura) i s’avalua si el que ha escrit pertany a un tipus de dada o un altre. Aquestes instruccions es consideren expressions booleanes que avaluen com a <code>true</code> si el tipus concorda i com a <code>false</code> si no és el cas. 
</p>

<p>
Un cop usada aquesta instrucció, només es podran llegir les dades correctament usant la instrucció <code>lector.next…</code> corresponent al mateix tipus si ha avaluat com a <code>true</code>. Si s’intenta després que hagi avaluat <code>false</code>, l’error d’execució està garantit.
</p>
<div class="ioctable ">
<div class="titletable"><a name="Table2"><span>Taula: </span></a>Instruccions per a la lectura de dades pel teclat</div>
<div class="table"><table class="inline">
	<tr class="row0">
		<th class="col0 leftalign">Instrucció  </th><th class="col1">Tipus de dada controlada </th>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign"> <code>lector.hasNextByte()</code>    </td><td class="col1 leftalign"> <code>byte</code>  </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> <code>lector.hasNextShort()</code>   </td><td class="col1 leftalign"> <code>short</code>  </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <code>lector.hasNextInt()</code>     </td><td class="col1 leftalign"> <code>int</code>  </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <code>lector.hasNextLong()</code>    </td><td class="col1 leftalign"> <code>long</code>  </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> <code>lector.hasNextFloat()</code>   </td><td class="col1 leftalign"> <code>float</code>  </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> <code>lector.hasNextDouble()</code>  </td><td class="col1 leftalign"> <code>double</code>  </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <code>lector.hasNextBoolean()</code> </td><td class="col1 leftalign"> <code>boolean</code>  </td>
	</tr>
</table></div>
</div>
<p>
La instrucció associada a una cadena de text no existeix, ja que qualsevol dada escrita pel teclat sempre es pot interpretar com a text. Per tant, la lectura mai no pot donar error.
</p>

<p>
Per exemple, el programa pensat per endevinar un nombre es podria fer tal com mostra el codi següent. Pareu atenció al comportament de les combinacions d’estructures de selecció. Fixeu-vos que hi ha tres camins disjunts possibles fruit d’aquest fet: si la dada escrita no és un enter, si ho és però no s’encerta el nombre, i finalment, si ho és i sí que s’encerta. Compileu-lo i executeu-lo per veure que, efectivament, ara es pot detectar que les dades introduïdes no són del tipus correcte.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">import java.util.Scanner;</div></li><li class="li1"><div class="de1">//Un programa en què cal endevinar un nombre.</div></li><li class="li1"><div class="de1">public class EndevinaControlErrorsEntrada {</div></li><li class="li1"><div class="de1">  //PAS 1</div></li><li class="li1"><div class="de1">  //El nombre per endevinar serà el 4.</div></li><li class="li1"><div class="de1">  public static final int VALOR_SECRET = 4;  </div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    Scanner lector = new Scanner(System.in);</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Comencem el joc.&quot;);</div></li><li class="li1"><div class="de1">    System.out.print(&quot;Endevina el valor enter, entre 0 i 10: &quot;);</div></li><li class="li1"><div class="de1">    boolean tipusCorrecte = lector.hasNextInt();</div></li><li class="li1"><div class="de1">    if (tipusCorrecte) {</div></li><li class="li1"><div class="de1">      //S'ha escrit un enter correctament. Ja es pot llegir.</div></li><li class="li1"><div class="de1">      int valorUsuari = lector.nextInt();</div></li><li class="li1"><div class="de1">      lector.nextLine();      </div></li><li class="li1"><div class="de1">      if (VALOR_SECRET == valorUsuari) {</div></li><li class="li1"><div class="de1">        System.out.println(&quot;Exacte! Era &quot; + VALOR_SECRET + &quot;.&quot;);    </div></li><li class="li1"><div class="de1">      } else {</div></li><li class="li1"><div class="de1">        System.out.println(&quot;T'has equivocat!&quot;);</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Hem acabat el joc.&quot;);</div></li><li class="li1"><div class="de1">    } else {</div></li><li class="li1"><div class="de1">      //No s'ha escrit un enter.</div></li><li class="li1"><div class="de1">      System.out.println(&quot;El valor introduït no és un enter.&quot;);</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
<strong>Repte 4:</strong> apliqueu el mateix tipus de control sobre les dades de l’entrada a l’exemple del càlcul del descompte.
</p>

<p>

</p>

</div>

<h2><a id="solucions_dels_reptes_proposats" >Solucions dels reptes proposats</a></h2>
<div class="level2">

<p>
<strong>Repte 1:</strong>
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">import java.util.Scanner;</div></li><li class="li1"><div class="de1">public class Penalitzacio {</div></li><li class="li1"><div class="de1">  public static final float PENALITZACIó = 2;</div></li><li class="li1"><div class="de1">  //Es fa descompte per compres de 100 euros o més.</div></li><li class="li1"><div class="de1">  public static final float COMPRA_MIN = 30;</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    Scanner lector = new Scanner(System.in);</div></li><li class="li1"><div class="de1">    System.out.print(&quot;Quin és el preu del producte en euros? &quot;);</div></li><li class="li1"><div class="de1">    float preu = lector.nextFloat();</div></li><li class="li1"><div class="de1">    lector.nextLine();</div></li><li class="li1"><div class="de1">    if (preu &lt; COMPRA_MIN) {</div></li><li class="li1"><div class="de1">      //PAS I</div></li><li class="li1"><div class="de1">      preu = preu + PENALITZACIó;</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    System.out.println(&quot;El preu final per pagar és de &quot; + preu + &quot; euros.&quot;);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
<strong>Repte 2:</strong>
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">import java.util.Scanner;</div></li><li class="li1"><div class="de1">public class DosSecrets  {</div></li><li class="li1"><div class="de1">  //PAS 1</div></li><li class="li1"><div class="de1">  //El nombres per endevinar seran el 4 i el 7.</div></li><li class="li1"><div class="de1">  public static final int VALOR_SECRET_UN = 4;</div></li><li class="li1"><div class="de1">  public static final int ALTRE_VALOR_DOS = 7;</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    Scanner lector = new Scanner(System.in);</div></li><li class="li1"><div class="de1">    //PAS 2 i 3</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Comencem el joc.&quot;);</div></li><li class="li1"><div class="de1">    System.out.print(&quot;Endevina el valor enter, entre 0 i 10: &quot;);</div></li><li class="li1"><div class="de1">    int valorUsuari = lector.nextInt();</div></li><li class="li1"><div class="de1">    lector.nextLine();</div></li><li class="li1"><div class="de1">    //PAS 4</div></li><li class="li1"><div class="de1">    //Estructura de selecció doble.</div></li><li class="li1"><div class="de1">    //O s'endevina o es falla.</div></li><li class="li1"><div class="de1">    if ((VALOR_SECRET_UN == valorUsuari)||(ALTRE_VALOR_DOS == valorUsuari)) {</div></li><li class="li1"><div class="de1">      //PAS I</div></li><li class="li1"><div class="de1">      //Si l'expressió avalua true, executa el bloc dins l'if.</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Exacte! Era &quot; + valorUsuari + &quot;.&quot;);</div></li><li class="li1"><div class="de1">    } else {</div></li><li class="li1"><div class="de1">      //PAS II</div></li><li class="li1"><div class="de1">      //Si l'expressió avalua false, executa el bloc dins l'else.</div></li><li class="li1"><div class="de1">      System.out.println(&quot;T'has equivocat!&quot;);</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Hem acabat el joc.&quot;);</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>

</p>

<p>
<strong>Repte 3:</strong>
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">import java.util.Scanner;</div></li><li class="li1"><div class="de1">public class EndevinaControlValors {</div></li><li class="li1"><div class="de1">  public static final int VALOR_SECRET = 4;</div></li><li class="li1"><div class="de1">  public static void main(String[] args) {</div></li><li class="li1"><div class="de1">    Scanner lector = new Scanner(System.in);</div></li><li class="li1"><div class="de1">    System.out.println(&quot;Comencem el joc.&quot;);</div></li><li class="li1"><div class="de1">    System.out.print(&quot;Endevina el valor enter, entre 0 i 10: &quot;);</div></li><li class="li1"><div class="de1">    int valorUsuari = lector.nextInt();</div></li><li class="li1"><div class="de1">    lector.nextLine();</div></li><li class="li1"><div class="de1">    if ((valorUsuari &lt; 0) || (valorUsuari &gt; 10)){</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Error: el valor ha d'estar entre 0 i 10.&quot;);</div></li><li class="li1"><div class="de1">    }else{</div></li><li class="li1"><div class="de1">      if (VALOR_SECRET == valorUsuari) {</div></li><li class="li1"><div class="de1">        System.out.println(&quot;Exacte! Era &quot; + VALOR_SECRET + &quot;.&quot;);</div></li><li class="li1"><div class="de1">      }else{</div></li><li class="li1"><div class="de1">        System.out.println(&quot;T'has equivocat!&quot;);</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">      System.out.println(&quot;Hem acabat el joc.&quot;);</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>
<pre class="code java"><ol><li class="li1"><div class="de1">import java.util.Scanner;</div></li><li class="li1"><div class="de1">public class AvaluacioControlValors {</div></li><li class="li1"><div class="de1">  public static void main(String[] args) {</div></li><li class="li1"><div class="de1">    Scanner lector = new Scanner(System.in);</div></li><li class="li1"><div class="de1">    System.out.print(&quot;Quina nota has tret? &quot;);</div></li><li class="li1"><div class="de1">    float nota = lector.nextFloat();</div></li><li class="li1"><div class="de1">    lector.nextLine();</div></li><li class="li1"><div class="de1">    if ((nota &gt;= 9) &amp;&amp; (nota &lt;= 10)) {</div></li><li class="li1"><div class="de1">      System.out.println(&quot;La teva nota final és Excel·lent.&quot;);</div></li><li class="li1"><div class="de1">    } else if ((nota &gt;= 6.5) &amp;&amp; (nota &lt; 9)) {</div></li><li class="li1"><div class="de1">      System.out.println(&quot;La teva nota final és Notable.&quot;);</div></li><li class="li1"><div class="de1">    } else if ((nota &gt;= 5) &amp;&amp; (nota &lt; 6.5)) {</div></li><li class="li1"><div class="de1">      System.out.println(&quot;La teva nota final és Aprovat.&quot;);</div></li><li class="li1"><div class="de1">    } else if ((nota &gt;= 0) &amp;&amp; (nota &lt; 5)) {</div></li><li class="li1"><div class="de1">      System.out.println(&quot;La teva nota final és Suspès.&quot;);</div></li><li class="li1"><div class="de1">    } else {</div></li><li class="li1"><div class="de1">      System.out.println(&quot;El valor escrit no està entre 0 i 10!&quot;);</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

<p>
<strong>Repte 4:</strong>
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">import java.util.Scanner;</div></li><li class="li1"><div class="de1">public class DescompteControlErrorsEntrada {</div></li><li class="li1"><div class="de1">  //Es fa un descompte del 8%.</div></li><li class="li1"><div class="de1">  public static final float DESCOMPTE = 8;</div></li><li class="li1"><div class="de1">  //Es fa descompte per compres de 100 euros o més.</div></li><li class="li1"><div class="de1">  public static final float COMPRA_MIN = 100;</div></li><li class="li1"><div class="de1">  //Valor del descompte màxim: 10 euros.</div></li><li class="li1"><div class="de1">  public static final float DESC_MAXIM = 10;</div></li><li class="li1"><div class="de1">  public static void main (String[] args) {</div></li><li class="li1"><div class="de1">    Scanner lector = new Scanner(System.in);</div></li><li class="li1"><div class="de1">    System.out.print(&quot;Quin és el preu del producte en euros? &quot;);</div></li><li class="li1"><div class="de1">    boolean tipusCorrecte = lector.hasNextFloat();</div></li><li class="li1"><div class="de1">    //El tipus és correcte?</div></li><li class="li1"><div class="de1">    if (tipusCorrecte) {</div></li><li class="li1"><div class="de1">      float preu = lector.nextFloat();</div></li><li class="li1"><div class="de1">      lector.nextLine();</div></li><li class="li1"><div class="de1">      if (preu &gt; 0) {</div></li><li class="li1"><div class="de1">        if (preu &gt;= COMPRA_MIN) {</div></li><li class="li1"><div class="de1">          float descompteFet = preu * DESCOMPTE / 100;</div></li><li class="li1"><div class="de1">          if (descompteFet &gt; DESC_MAXIM) {</div></li><li class="li1"><div class="de1">           descompteFet = DESC_MAXIM;</div></li><li class="li1"><div class="de1">          }</div></li><li class="li1"><div class="de1">          preu = preu - descompteFet;</div></li><li class="li1"><div class="de1">        }</div></li><li class="li1"><div class="de1">        System.out.println(&quot;El preu final per pagar és de &quot; + preu + &quot; euros.&quot;);</div></li><li class="li1"><div class="de1">      } else {</div></li><li class="li1"><div class="de1">        System.out.println(&quot;Preu incorrecte. És negatiu.&quot;);</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">    } else {</div></li><li class="li1"><div class="de1">      //No s'ha escrit un enter.</div></li><li class="li1"><div class="de1">      System.out.println(&quot;El valor introduït no és un enter.&quot;);</div></li><li class="li1"><div class="de1">    }</div></li><li class="li1"><div class="de1">  }</div></li><li class="li1"><div class="de1">}</div></li></ol></pre>

</div>

	 </article>
     <div class="pnpage">
      <div class="left-corner"></div>
      <div id="prevpage">Anar a la p&agrave;gina anterior:<br /><a href="../../../WebContent/u2/a1/annexos.html">Annexos</a></div>
      <div id="nextpage">Anar a la p&agrave;gina seg&uuml;ent:<br /><a href="../../../WebContent/u2/a2/activitats.html">Activitats</a></div>
      <div class="right-corner"></div>
     </div>
    </div>
    <footer class="footer">
      <div><small>Aquest document està subjecte a una llicència oberta de Creative Commons, es reserva el dret de reconeixement de l'autoria, d'exigir que no se'n faci cap mena d'ús comercial. Si altereu o transformeu aquesta obra, o en genereu obres derivades, només podeu distribuir l'obra generada amb una llicència idèntica a aquesta.</small></div>
    </footer>
 </div>
 <div id="back_preview" class="hidden"></div>
 <div id="preview" class="hidden">
  <div class="prevcontent"></div>
 </div>
 <div id="help-tooltips">
  <div id="help-toc" class="hidden tooltip"><span>Taula de continguts:</span> Ofereix una vista general de l&#39;estructura del m&ograve;dul, que us facilitar&agrave; la navegaci&oacute; a trav&eacute;s dels seus continguts.<span class="arrow-left"></span></div> 
  <div id="help-settings" class="hidden tooltip"><span>Opcions de format:</span> Permet configurar el format de lectura a partir de les vostres prefer&egrave;ncies, modificant la mida de la lletra, el color del fons, l&#39;amplada de la p&agrave;gina o l&#39;ocultaci&oacute; dels continguts complementaris, entre d&#39;altres.<span class="arrow-left"></span></div>
  <div id="help-printer" class="hidden tooltip"><span>Imprimir:</span>  Envia el contingut seleccionat a la impressora.<span class="arrow-left"></span></div>
  <div id="help-favorites" class="hidden tooltip"><span>Prefereits:</span> Permet desar aquelles parts del contingut a les que us interessi accedir en un moment posterior; us permetr&agrave; anar creant un repositori personalitzat de les seccions que considereu m&eacute;s rellevants. Un cop l&#39;hageu començat a fer servir se us mostrar&agrave; a sota un comptador que us informar&agrave; del nombre de preferits que s&#39;hagin emmagatzemat fins al moment.<span class="arrow-left"></span></div>
  <div id="help-favcounter" class="hidden tooltip"><span>Comptador i llistat de preferits:</span> Indica el nombre de preferits que s&#39;han desat fins el moment; clicant damunt seu accedireu al llistat de preferits, i a trav&eacute;s d&#39;aquest podreu accedir directament als continguts que hageu emmagatzemat.<span class="arrow-left"></span></div>
  <div id="help-help_icon" class="hidden tooltip"><span>Ajuda:</span> Aquesta opci&oacute; activa la informaci&oacute; de les funcionalitats del web tot situant el punter del ratol&iacute; al damunt dels diferents &iacute;tems.<span class="arrow-left"></span></div>
  <div id="help-sidebar-hide" class="hidden tooltip"><span>Mostrar/Ocultar barra lateral:</span>  Deshabilita la barra d&#39;opcions, permetent la seva recuperaci&oacute; quan es desitgi.<span class="arrow-left"></span></div>
  <div id="help-search" class="hidden tooltip"><span>Cerca:</span>  Introdu&iuml;u les paraules clau sobre aquells conceptes que desitgeu localitzar en els continguts del m&ograve;dul. Tamb&eacute; podeu excloure un terme de la cerca tot afegint-hi el signe &#8220;-&#8221; al davant.<span class="arrow-top"></span></div>
  <div id="help-header" class="hidden tooltip"><span>Cap&ccedil;alera:</span>  Indica l&#39;apartat o secci&oacute; que es mostra en pantalla. Tingueu present que les capçaleres de segon, tercer i quart nivell tamb&eacute; es poden desar com a marcadors.<span class="arrow-left"></span></div>
</div> 
</body>
</html>
